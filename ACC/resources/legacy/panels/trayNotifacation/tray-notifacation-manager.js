!function(e){var t={};function i(n){if(t[n])return t[n].exports;var o=t[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,i),o.l=!0,o.exports}i.m=e,i.c=t,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)i.d(n,o,function(t){return e[t]}.bind(null,o));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="",i(i.s=0)}([function(e,t,i){e.exports=i(1)},function(e,t,i){"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){for(var i=0;i<t.length;i++){var o=t[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,(r=o.key,a=void 0,a=function(e,t){if("object"!==n(e)||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var o=i.call(e,t||"default");if("object"!==n(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(r,"string"),"symbol"===n(a)?a:String(a)),o)}var r,a}i.r(t);var r=new(function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,i,n;return t=e,(i=[{key:"_preprocess",value:function(e){for(var t=0;t<e.length;++t)"string"==typeof e[t]&&e[t].length>10512&&(e[t]=e[t].substring(0,10512)+".....<Truncated>")}},{key:"getStringFromArgs",value:function(e){for(var t="",i=0;i<e.length;i++)"string"==typeof e[i]?t+=e[i]:e[i]&&(t+=JSON.stringify(e[i]));return t}},{key:"error",value:function(){if(!window.logLevel||0!==window.logLevel){var e=Array.prototype.slice.call(arguments);console.error.apply(console,e);try{window.JSObject?window.JSObject.logError(this.getStringFromArgs(e)):window.app&&window.app.logMessage&&window.app.logMessage(["ERROR",this.getStringFromArgs(e)])}catch(e){}}}},{key:"warn",value:function(){if(window.logLevel&&window.logLevel>=2){var e=Array.prototype.slice.call(arguments);console.warn.apply(console,e);try{window.JSObject?window.JSObject.logWarn(this.getStringFromArgs(e)):window.app&&window.app.logMessage&&window.app.logMessage(["WARN",this.getStringFromArgs(e)])}catch(e){}}}},{key:"log",value:function(){if(window.logLevel&&window.logLevel>=3){var e=Array.prototype.slice.call(arguments);this._preprocess(e),console.trace&&console.trace.apply(console,e);try{window.JSObject?window.JSObject.logInfo(this.getStringFromArgs(e)):window.app&&window.app.logMessage&&window.app.logMessage(["LOG",this.getStringFromArgs(e)])}catch(e){}}}},{key:"info",value:function(){if(window.logLevel&&window.logLevel>=3){var e=Array.prototype.slice.call(arguments);this._preprocess(e),console.trace&&console.trace.apply(console,e);try{window.JSObject?window.JSObject.logInfo(this.getStringFromArgs(e)):window.app&&window.app.logMessage&&window.app.logMessage(["INFO",this.getStringFromArgs(e)])}catch(e){}}}},{key:"debug",value:function(){if(window.logLevel&&window.logLevel>=4){var e=Array.prototype.slice.call(arguments);this._preprocess(e),console.trace&&console.trace.apply(console,e);try{window.JSObject?window.JSObject.logDebug(this.getStringFromArgs(e)):window.app&&window.app.logMessage&&window.app.logMessage(["DEBUG",this.getStringFromArgs(e)])}catch(e){}}}},{key:"trace",value:function(){if(window.logLevel&&window.logLevel>=5){var e=Array.prototype.slice.call(arguments);this._preprocess(e),console.trace&&console.trace.apply(console,e);try{window.JSObject?window.JSObject.logTrace(this.getStringFromArgs(e)):window.app&&window.app.logMessage&&window.app.logMessage(["TRACE",this.getStringFromArgs(e)])}catch(e){}}}}])&&o(t.prototype,i),n&&o(t,n),Object.defineProperty(t,"prototype",{writable:!1}),e}());function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,(o=n.key,r=void 0,r=function(e,t){if("object"!==a(e)||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var n=i.call(e,t||"default");if("object"!==a(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(o,"string"),"symbol"===a(r)?r:String(r)),n)}var o,r}var c,u=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._hostObject=null,this._hostMessageHandlerFn=null}var t,i,n;return t=e,(i=[{key:"initialize",value:function(e){e&&"object"==a(e)&&(e.hostObject&&"object"==a(e.hostObject)&&(this._hostObject=e.hostObject),e.hostMessageHandlerFn&&"function"==typeof e.hostMessageHandlerFn&&(this._hostMessageHandlerFn=e.hostMessageHandlerFn))}},{key:"handleMessage",value:function(e){}},{key:"finalize",value:function(e){}},{key:"sendMessage",value:function(e){return this._hostObject&&this._hostObject.handleMessage&&"function"==typeof this._hostObject.handleMessage?this._hostObject.handleMessage(e):this._hostMessageHandlerFn?this._hostMessageHandlerFn(e):void 0}},{key:"sendMessageToJSCore",value:function(e,t){return this.sendMessage({targetType:"JSCore",message:e,data:t||{}})}},{key:"sendMessageToParent",value:function(e,t){return this.sendMessage({targetType:"Parent",message:e,data:t||{}})}},{key:"sendMessageToHost",value:function(e,t){return this.sendMessage({targetType:"Host",message:e,data:t||{}})}},{key:"sendMessageToContainer",value:function(e,t){return this.sendMessage({targetType:"Container",message:e,data:t||{}})}},{key:"sendMessageToApplet",value:function(e,t,i,n,o){return this.sendMessage({targetType:"Applet",targetID:i||"",targetVersion:n||"",targetInstanceID:o||"",message:e,data:t||{}})}}])&&s(t.prototype,i),n&&s(t,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function f(e,t,i){return(t=function(e){var t=function(e,t){if("object"!==l(e)||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var n=i.call(e,t||"default");if("object"!==l(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===l(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var y=(f(c={TYPE_BEHANCE:"com.adobe.behance.v1",TYPE_FOLDER_COLLAB:"com.adobe.stormcloud.v1",TYPE_CUSTOM_TIMELINE:"com.adobe.accc.generic.v1",TYPE_DESIGN_LIBRARY:"com.adobe.designlibrary.v1",TYPE_ANYWHERE_PRODUCTION:"com.adobe.anywhere.production.v1",SUBTYPE_BEHANCE_INVITATION_FEEDBACK_CIRCLE:"invitation.feedback.circle",SUBTYPE_BEHANCE_INVITATION_COOWN_PROJECT:"invitation.coown.project",SUBTYPE_BEHANCE_INVITATION_COOWN_COLLECTION:"invitation.coown.collection",SUBTYPE_BEHANCE_NOTIFICATION_PROJECT_APPRECIATED:"notification.project.appreciated",SUBTYPE_BEHANCE_NOTIFICATION_PROJECT_COMMENT:"notification.project.comment",SUBTYPE_BEHANCE_NOTIFICATION_PROJECT_COLLECTION_ADD:"notification.project.collection.add",SUBTYPE_BEHANCE_NOTIFICATION_WIP_COMMENT:"notification.wip.comment",SUBTYPE_BEHANCE_NOTIFICATION_COLLECTION_FOLLOWER:"notification.collection.follower",SUBTYPE_BEHANCE_NOTIFICATION_USER_FOLLOWER:"notification.user.follower",SUBTYPE_BEHANCE_NOTIFICATION_USER_SOCIAL_FRIEND_JOIN:"notification.user.social.friend.join",SUBTYPE_FOLDER_COLLAB_INVITATION_RECEIVE:"sharing.invite",SUBTYPE_FOLDER_COLLAB_INVITATION_ACCEPT_SELF:"sharing.invite.accept.self",SUBTYPE_FOLDER_COLLAB_INVITATION_ACCEPT_OTHER:"sharing.invite.accept.other",SUBTYPE_FOLDER_COLLAB_NOTIFICATION_ASSET_COMMENT:"notification.asset.comment",SUBTYPE_FOLDER_COLLAB_INVITATION_UPDATE_ASSESS:"sharing.collaboration.updaterole",SUBTYPE_DESIGN_LIBRARY_INVITATION_RECEIVE:"sharing.invite",SUBTYPE_DESIGN_LIBRARY_INVITATION_ACCEPT_SELF:"sharing.invite.accept.self",SUBTYPE_DESIGN_LIBRARY_INVITATION_ACCEPT_OTHER:"sharing.invite.accept.other",SUBTYPE_DESIGN_LIBRARY_INVITATION_UPDATE_ASSESS:"sharing.collaboration.updaterole",SUBTYPE_ANYWHERE_PRODUCTION_INVITATION_RECEIVE:"sharing.invite",SUBTYPE_REDHAWK_COMMENT:"com.adobe.redhawk.comment",SUBTYPE_REDHAWK_COMMENT_ADD:"com.adobe.redhawk.comment_add",SUBTYPE_REDHAWK_COMMENT_DELETE:"com.adobe.redhawk.comment_delete",SUBTYPE_REDHAWK_COMMENT_MODIFY:"com.adobe.redhawk.comment_modify",SUBTYPE_REDHAWK_COMMENT_REPLY:"com.adobe.redhawk.comment_reply",SUBTYPE_REDHAWK_COMMENT_RESOLVE:"com.adobe.redhawk.comment_resolve",DEFAULT_TARGET_TYPE:"Applet",APPLET_TARGET_TYPE:"Applet",DEFAULT_TARGET_ID:"TrayNotificationManager_CoreExt",SOURCE_ID:"TrayNotificationHandler",SOURCE_VERSION:"1.0",CLIENT_TARGET_TYPE:"Parent",COREEXT_TARGET_TYPE:"CoreExt",CONTAINER_BL_ID:"C3Container_BL",UNCENGINE_ID:"UNCEngine",VERSION_PARAM:"1.0",CAMPAIGN_ID:"CAMPAIGN_ID",VARIATION_ID:"VARIATION_ID",TRAY_NOTIFICATION_MANAGER_APPLET_ID:"TrayNotificationManager_CoreExt",TRAY_NOTIFICATION_MANAGER_APPLET_VERSION:"1.0",ANALYTICS_DESKTOP_TARGET_ID:"AnalyticsCoreExt",MESSAGE_NEW_NOTIFICATION:"HandleNotificationForOSTray",MESSAGE_HANDLE_NOTIFICATION_CLICK:"HandleNotificationClick",MESSAGE_SHOW_OS_TRAY_REQUEST:"ShowTrayNotification",MESSAGE_REMOVE_OS_TRAY_REQUEST:"RemoveTrayNotification",MESSAGE_HANDLE_USER_CONTEXT_DATA:"UserContextData",MESSAGE_HANDLE_NOTIFICATION_RENDER_ANALYTICS:"HandleNotificationRenderAnalytics",OPEN_URL_REQUEST:"OpenURL",PANEL_SWITCH_REQUEST:"switchTabAndLaunchThorIfNotRunning",Deep_LINK_REQUEST:"HandleDeepLinking",DEEP_LINK_REQUEST:"accc.app.deepLink.request",SHOW_CONTAINER_WINDOW_REQUEST:"ShowContainerWindow",HANDLE_CLICK_FROM_OS_TRAY:"HandleClickFromOSTray",UPDATE_NOTIFICATIONS_DATA:"UpdateNotifications",NOTIFICATION_STATE_EXPIRED:"EXPIRED",NOTIFICATION_STATE_READ:"READ",NOTIFICATION_STATE_NEW:"NEW",DEFAULT_TARGET_CLIENT_ID:"CreativeCloudWeb1",DEFAULT_TARGET_SCOPE:"openid,creative_cloud,read_organizations,additional_info.screen_name,additional_info.secondary_email",TIMESTAMP_KEY:"sort-timestamp",SUPPORTED_VIEW_TYPES:["simpleTimeline1","inviteTimeline","inviteCommentTimeline","commentTimeline","multipleIconsTimeline"],SUPPORTED_ACTION_TYPES:["openURL","panelSwitch","routeToPath","deeplinkrequest","ctaHandling","invitationRequest","noAction"],GET_USER_PROFILE:"GetUserProfile"},"CLIENT_TARGET_TYPE","Parent"),f(c,"IMS_TOKEN_STRING","%3C%25imsAccessToken%25%3E"),f(c,"NOTIFICATION_STATE_NEW","NEW"),f(c,"NOTIFICATION_STATE_READ","READ"),f(c,"NOTIFICATION_STATE_UNREAD","UNREAD"),f(c,"NOTIFICATION_STATE_EXPIRED","EXPIRED"),f(c,"NOTIFICATION_STATE_REMOVE","REMOVE"),f(c,"PRIMARY_CTA_BUTTON","Primary"),f(c,"SECONDARY_CTA_BUTTON","Secondary"),c);function d(e){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function p(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,(o=n.key,r=void 0,r=function(e,t){if("object"!==d(e)||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var n=i.call(e,t||"default");if("object"!==d(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(o,"string"),"symbol"===d(r)?r:String(r)),n)}var o,r}var b=new(function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.allowedURLs=[],this.filesPanelEnabled=!0,this.designLibraryFeatureEnabled=!0}var t,i,n;return t=e,(i=[{key:"handleIncomingUserContextData",value:function(e){if(r.debug("UNCTrayNotificationManager: UserContextDataHandler: handleIncomingUserContextData: Handle incoming user context data"),this.allowedURLs.length=0,e["feature-response"]&&e["feature-response"]["feature-entry"]&&Array.isArray(e["feature-response"]["feature-entry"]))for(var t=e["feature-response"]["feature-entry"],i=t.length,n=0;n<i;n++){var o=t[n];if("ccd.notification.collaboration.allowed.urls"===o["@id"]&&"ENABLED"===o["@state"]){var a=o.data;this.allowedURLs=a.split("{|}")}"ccd.fw.filesPanelEnabled"===o["@id"]&&("false"===o["@state"]?(r.debug("UNCTrayNotificationManager: UserContextDataHandler: handleIncomingUserContextData: filesPanel is disabled from FES and therefore no stormcloud notification will be shown"),this.filesPanelEnabled=!1):(r.debug("UNCTrayNotificationManager: UserContextDataHandler: handleIncomingUserContextData: filesPanel is enabled from FES"),this.filesPanelEnabled=!0)),"ccd.fw.market.designLibrary"===o["@id"]&&("false"===o["@state"]?(r.debug("UNCTrayNotificationManager: UserContextDataHandler: handleIncomingUserContextData: designLibrary is disabled from FES and therefore no library notification will be shown"),this.designLibraryFeatureEnabled=!1):(r.debug("UNCTrayNotificationManager: UserContextDataHandler: handleIncomingUserContextData: designLibrary is enabled from FES"),this.designLibraryFeatureEnabled=!0))}}},{key:"checkIfUrlIsAllowed",value:function(e){for(var t=!1,i=this.allowedURLs.length,n=0;n<i;n++){var o=this.allowedURLs[n];if(o===e){t=!0;break}var r=o.indexOf("xx.");if(-1!==r){var a=o.substring(0,r),s=o.substring(r+"xx.".length);if(-1!=e.indexOf(a))if(-1!==e.indexOf(s)){t=!0;break}}}return t}}])&&p(t.prototype,i),n&&p(t,n),Object.defineProperty(t,"prototype",{writable:!1}),e}()),h={UnSupportedBrowser:-1,InsufficientMemory:-2,UnSupportedUrlScheme:-3,UnSupportedMethod:-4,UrlSchemeMissing:-5,UrlHostnameMissing:-6,MethodTypeMissing:-7,TimeoutError:-8,NetworkFailure:-9,InvalidRequest:-10,Success:1,IndexNotFound:-1};function T(e){return(T="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function g(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,(o=n.key,r=void 0,r=function(e,t){if("object"!==T(e)||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var n=i.call(e,t||"default");if("object"!==T(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(o,"string"),"symbol"===T(r)?r:String(r)),n)}var o,r}var m=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._errorObject={statusCode:0}}var t,i,n;return t=e,(i=[{key:"_sanityCheck",value:function(){return["HEAD","GET","POST","PUT","DELETE"].indexOf(this.methodType)>h.IndexNotFound?h.Success:(r.debug("Skynet: HttpRequestHandler - HTTP Request Method ",this.methodType," is not supported!!"),h.UnSupportedMethod)}},{key:"_setRequestHeaders",value:function(){if(r.debug("Skynet: HttpRequestHandler: _setRequestHeaders - Inside SetRequest Headers"),this.requestHeaders)for(var e in r.debug("Skynet: HttpRequestHandler: _setRequestHeaders - Request Headers",this.requestHeaders),this.requestHeaders)this.httpRequest.setRequestHeader(e,this.requestHeaders[e])}},{key:"getResponseHeaders",value:function(){var e={};if(this.httpRequest){var t=this.httpRequest.getAllResponseHeaders();if(r.debug(t),!t)return e;if(-1!==t.indexOf("\r"))for(var i=t.split("\r"),n=0,o=i.length;n<o;n++){var a=i[n];-1!==a.indexOf("\n")?this._addHeadersFromStringByNewlineSeparation(a,e):this._addKeyValuePairs(a,e)}else-1!==t.indexOf("\n")?this._addHeadersFromStringByNewlineSeparation(t,e):this._addKeyValuePairs(t,e)}return e}},{key:"_addHeadersFromStringByNewlineSeparation",value:function(e,t){if(e&&""!==e)for(var i=e.split("\n"),n=0,o=i.length;n<o;n++){var r=i[n];r&&""!==r&&this._addKeyValuePairs(r,t)}}},{key:"_addKeyValuePairs",value:function(e,t){if(e&&""!==e&&-1!==e.indexOf(":")){var i=e.split(":"),n=i[0];if(n&&""!==n){n=n.trim();var o=i[1];o&&""!==o&&(o=o.trim(),t[n]=o)}}}},{key:"cancelRequest",value:function(){this.httpRequest&&this.httpRequest.abort()}},{key:"sendRequest",value:function(){var e=this._sanityCheck();if(e<0){this._errorObject.statusCode=e;try{if(this.errorCallback)return this.errorCallback(this._errorObject)}catch(e){r.error("Skynet: HttpRequestHandler: sendRequest - Caught exception in calling error callback. Exception: ",e," Exception Message ",e.message)}}if(!window.XMLHttpRequest){r.debug("Skynet: HttpRequestHandler: sendRequest - XMLHttpRequest is not supported in browser!!"),this._errorObject.statusCode=h.UnSupportedBrowser;try{if(this.errorCallback)return this.errorCallback(this._errorObject)}catch(e){r.error("Skynet: HttpRequestHandler: sendRequest - Caught exception in calling error callback. Exception: ",e," Exception Message ",e.message)}}if(this.httpRequest=new XMLHttpRequest,!this.httpRequest){r.debug("Skynet: HttpRequestHandler: sendRequest - Cannot create an XMLHTTP instance"),this._errorObject.statusCode=h.InsufficientMemory;try{if(this.errorCallback)return this.errorCallback(this._errorObject)}catch(e){r.error("Skynet: HttpRequestHandler: sendRequest - Caught exception in calling error callback. Exception: ",e," Exception Message ",e.message)}}this.httpRequest.onload=this.handleServerResponse.bind(this),this.httpRequest.onerror=this.handleError.bind(this),this.httpRequest.ontimeout=this.handleTimeout.bind(this),this.responseType&&""!==this.responseType&&(this.httpRequest.responseType=this.responseType),this.httpRequest.open(this.methodType,this.url),this._setRequestHeaders(),this.timeout?this.httpRequest.timeout=this.timeout:this.httpRequest.timeout=6e4,this.content?this.httpRequest.send(this.content):this.httpRequest.send()}},{key:"_isResponseSuccessful",value:function(){return this.httpRequest.status>=200&&this.httpRequest.status<400}},{key:"handleServerResponse",value:function(){if(this._isResponseSuccessful()){r.debug("Skynet: HttpRequestHandler: handleServerResponse - Request is successfuly completed");try{this.responseCallback&&(this.httpRequest.responseType&&""!==this.httpRequest.responseType?this.responseCallback(this.httpRequest.response):this.responseCallback(this.httpRequest.responseText))}catch(e){r.error("Skynet: HttpRequestHandler: handleServerResponse - Caught exception in calling response callback. Exception: ",e," Exception Message ",e.message)}}else{r.debug("Skynet: HttpRequestHandler: handleServerResponse - Request failed to complete successfuly"),this._errorObject.statusCode=this.httpRequest.status;try{this.errorCallback&&this.errorCallback(this._errorObject)}catch(e){r.error("Skynet: HttpRequestHandler: handleServerResponse - Caught exception in calling error callback. Exception: ",e," Exception Message ",e.message)}}}},{key:"handleTimeout",value:function(){r.debug("Skynet: HttpRequestHandler: handleTimeout - Timeout occurred in request"),this._errorObject.statusCode=h.TimeoutError;try{this.errorCallback&&this.errorCallback(this._errorObject),this.httpRequest.abort()}catch(e){r.error("Skynet: HttpRequestHandler: handleTimeout - Caught exception in calling error callback. Exception: ",e," Exception Message ",e.message)}}},{key:"handleError",value:function(){r.debug("Skynet: HttpRequestHandler: handleError - Error occurred in request"),this._errorObject.statusCode=h.NetworkFailure;try{this.errorCallback&&this.errorCallback(this._errorObject)}catch(e){r.error("Skynet: HttpRequestHandler: handleError - Caught exception in calling error callback. Exception: ",e," Exception Message ",e.message)}}}])&&g(t.prototype,i),n&&g(t,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function E(e){return(E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,(o=n.key,r=void 0,r=function(e,t){if("object"!==E(e)||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var n=i.call(e,t||"default");if("object"!==E(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(o,"string"),"symbol"===E(r)?r:String(r)),n)}var o,r}var S=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,i,n;return t=e,n=[{key:"getErrorCode",value:function(t,i){switch(i){case-1:return"UnSupported_Browser";case-2:return"Insufficient_Memory";case-3:return"UnSupported_Url_Scheme";case-4:return"UnSupported_Method_Type";case-5:return"Url_Scheme_Missing";case-6:return"Url_Hostname_Missing";case-7:return"Method_Type_Missing";case-8:return"Request_Timeout";case-9:return"Network_Failure";case-10:return"InvalidRequest";default:return e._getSchemeBasedErrorCodes(t,i)}}},{key:"_getSchemeBasedErrorCodes",value:function(t,i){switch(t){case"wss":case"ws":return e._getErrorCodesForWebsocketRequest(i);case"https":case"http":return e._getErrorCodesForHttpRequest(i)}}},{key:"_getErrorCodesForWebsocketRequest",value:function(e){return"UnSupported_Url_Scheme"}},{key:"_getErrorCodesForHttpRequest",value:function(e){switch(e){case 200:case 304:return"Success";case 400:return"Bad_Request";case 401:return"Unauthorized";case 403:return"Forbidden";case 404:return"Resource_Not_Found";case 407:return"Proxy_Authentication_Required";case 408:return"Request_Timeout";case 429:return"Too_Many_Requests";case 500:return"Internal_Server_Error";case 501:return"Request_Not_Implemented";case 502:return"Bad_Gateway";case 503:return"Service_Unavailable";case 504:return"Gateway_Timeout";default:return e>400&&e<500?"Client_Request_Error":e>=500&&e<600?"Server_Response_Error":"Invalid_Request"}}}],(i=null)&&_(t.prototype,i),n&&_(t,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function v(e){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function O(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,(o=n.key,r=void 0,r=function(e,t){if("object"!==v(e)||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var n=i.call(e,t||"default");if("object"!==v(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(o,"string"),"symbol"===v(r)?r:String(r)),n)}var o,r}var N=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,i,n;return t=e,n=[{key:"addUrlQueryParams",value:function(e,t){if("undefined"!==t&&"object"===v(t))for(var i in t){i=encodeURIComponent(i);var n=encodeURIComponent(t[i]);e+=(e.split("?")[1]?"&":"?")+i+"="+n}return e}},{key:"createUrl",value:function(t,i,n,o,r){var a=t+"://",s="";return-1==i.indexOf(a)&&(s=a),s+=i+n+o,e.addUrlQueryParams(s,r)}}],(i=null)&&O(t.prototype,i),n&&O(t,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function R(e){return(R="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function C(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,(o=n.key,r=void 0,r=function(e,t){if("object"!==R(e)||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var n=i.call(e,t||"default");if("object"!==R(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(o,"string"),"symbol"===R(r)?r:String(r)),n)}var o,r}var w=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._errorObject={statusCode:0,errorCode:""},t?(this.networkRequestObj=t,this._setNetworkRequestScheme()):(this._errorObject.statusCode=h.InvalidRequest,this.onError(this._errorObject))}var t,i,n;return t=e,(i=[{key:"sendRequest",value:function(e){this._errorObject.statusCode<0?r.warn("Skynet: NetworkCommunicatorImpl: sendRequest - Request failed to create(Error Code: ",this._errorObject.errorCode,"). Ignoring request"):(this._setRequestData(e),this._handleRequest(this.networkRequestObj.scheme))}},{key:"getResponseHeaders",value:function(){if(this.currentRequestObj)return this.currentRequestObj.getResponseHeaders()}},{key:"cancelRequest",value:function(){this.currentRequestObj&&this.currentRequestObj.cancelRequest()}},{key:"_setNetworkRequestScheme",value:function(){if(!this.networkRequestObj.scheme){var e=this.networkRequestObj.hostname;e&&-1!=e.indexOf("://")&&(this.networkRequestObj.scheme=e.split("://")[0])}this.networkRequestObj.scheme||(this._errorObject.statusCode=h.UrlSchemeMissing,this.onError(this._errorObject))}},{key:"_setRequestData",value:function(e){e.queryParams&&(this.networkRequestObj.queryParams=e.queryParams),e.requestHeaders&&(this.networkRequestObj.requestHeaders=e.requestHeaders),e.timeoutInSec&&(this.networkRequestObj.timeoutInSec=e.timeoutInSec),e.content&&(this.networkRequestObj.content=e.content),e.responseType&&(this.networkRequestObj.responseType=e.responseType)}},{key:"_sanityCheck",value:function(){return this.networkRequestObj.scheme&&"string"==typeof this.networkRequestObj.scheme?this.networkRequestObj.hostname&&"string"==typeof this.networkRequestObj.hostname?this.networkRequestObj.methodType&&"string"==typeof this.networkRequestObj.methodType?(this.networkRequestObj.port&&"string"==typeof this.networkRequestObj.port||(this.networkRequestObj.port=""),this.networkRequestObj.path&&"string"==typeof this.networkRequestObj.path||(this.networkRequestObj.path=""),this.networkRequestObj.content&&"string"==typeof this.networkRequestObj.content||(this.networkRequestObj.content=""),this.networkRequestObj.queryParams&&"object"===R(this.networkRequestObj.queryParams)||(this.networkRequestObj.queryParams={}),this.networkRequestObj.requestHeaders&&"object"===R(this.networkRequestObj.requestHeaders)||(this.networkRequestObj.requestHeaders={}),this.networkRequestObj.timeoutInSec&&"number"==typeof this.networkRequestObj.timeoutInSec||(this.networkRequestObj.timeoutInSec=0),this.networkRequestObj.responseCallback&&"function"==typeof this.networkRequestObj.responseCallback||(this.networkRequestObj.responseCallback=function(){}),this.networkRequestObj.errorCallback&&"function"==typeof this.networkRequestObj.errorCallback||(this.networkRequestObj.errorCallback=function(){}),h.Success):(r.debug("Skynet: NetworkCommunicatorImpl: _sanityCheck - Request methodType(HEAD/GET/POST/PUT/DELETE) is missing. Ignoring request"),h.MethodTypeMissing):(r.debug("Skynet: NetworkCommunicatorImpl: _sanityCheck - Url hostname is missing. Ignoring request"),h.UrlHostnameMissing):(r.debug("Skynet: NetworkCommunicatorImpl: _sanityCheck - Url scheme is missing. Ignoring request"),h.UrlSchemeMissing)}},{key:"_handleRequest",value:function(e){r.debug("Skynet: NetworkCommunicatorImpl: _handleRequest -  Handling request.....");var t=this._sanityCheck(),i={};if(t!=h.Success)return i.statusCode=t,void this.onError(i);switch(e){case"wss":case"ws":this._handleWebSocketRequest();break;case"https":case"http":this._handleHttpRequest();break;default:i.statusCode=h.UnSupportedUrlScheme,this.onError(i)}}},{key:"_addCommonRequestParameters",value:function(){this.currentRequestObj.requestHeaders=this.networkRequestObj.requestHeaders,this.currentRequestObj.methodType=this.networkRequestObj.methodType,this.currentRequestObj.content=this.networkRequestObj.content,this.currentRequestObj.responseCallback=this.networkRequestObj.responseCallback,this.currentRequestObj.errorCallback=this.onError.bind(this),this.networkRequestObj.responseType&&""!==this.networkRequestObj.responseType&&(this.currentRequestObj.responseType=this.networkRequestObj.responseType)}},{key:"_handleWebSocketRequest",value:function(){var e={};e.statusCode=h.UnSupportedUrlScheme,this.onError(e)}},{key:"_handleHttpRequest",value:function(){if(this.currentRequestObj=new m,!this.currentRequestObj){r.debug("Skynet: NetworkCommunicatorImpl: _handleHttpRequest - Cannot create HttpCommunicator instance");var e={};return e.statusCode=h.InsufficientMemory,void this.onError(e)}this._addCommonRequestParameters(),this.currentRequestObj.url=N.createUrl(this.networkRequestObj.scheme,this.networkRequestObj.hostname,this.networkRequestObj.port,this.networkRequestObj.path,this.networkRequestObj.queryParams),this.currentRequestObj.timeout=1e3*this.networkRequestObj.timeoutInSec,this.currentRequestObj.sendRequest()}},{key:"onError",value:function(e){delete this.currentRequestObj,this._errorObject.statusCode=e.statusCode,this._errorObject.errorCode=S.getErrorCode("https",e.statusCode);try{this.networkRequestObj.errorCallback&&this.networkRequestObj.errorCallback(this._errorObject)}catch(e){r.error("Skynet: NetworkCommunicatorImpl: onError - Caught exception inside calling client's error callback. Exception: ",e," Exception Message ",e.message)}}}])&&C(t.prototype,i),n&&C(t,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function A(e){return(A="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function I(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,(o=n.key,r=void 0,r=function(e,t){if("object"!==A(e)||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var n=i.call(e,t||"default");if("object"!==A(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(o,"string"),"symbol"===A(r)?r:String(r)),n)}var o,r}var k=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),r.debug("Skynet: NetworkCommunicator: NetworkCommunicator is being constructed for request",t),this.networkCommunicatorImplObj=new w(t)}var t,i,n;return t=e,(i=[{key:"SendRequest",value:function(e){r.debug("Skynet: NetworkCommunicator: SendRequest - Sending request.....: ",e),this.networkCommunicatorImplObj.sendRequest(e)}},{key:"GetResponseHeaders",value:function(){return r.debug("Skynet: NetworkCommunicator: GetResponseHeaders - Get Response headers....."),this.networkCommunicatorImplObj.getResponseHeaders()}},{key:"CancelRequest",value:function(){r.debug("Skynet: NetworkCommunicator: CancelRequest - Cancels Request"),this.networkCommunicatorImplObj.cancelRequest()}}])&&I(t.prototype,i),n&&I(t,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function P(e){return(P="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function j(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,(o=n.key,r=void 0,r=function(e,t){if("object"!==P(e)||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var n=i.call(e,t||"default");if("object"!==P(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(o,"string"),"symbol"===P(r)?r:String(r)),n)}var o,r}var q=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._acceptRejectRequestDetailsObj=t}var t,i,n;return t=e,(i=[{key:"executeRequest",value:function(e,t){var i=this,n=!1,o=Z.sendMessage(y.GET_USER_PROFILE,{},y.CLIENT_TARGET_TYPE,"",!1);if(!o.AccessToken)return!1;var a=i._acceptRejectRequestDetailsObj.url,s=a,c=o.AccessToken;-1!==a.indexOf(y.IMS_TOKEN_STRING)&&(s=a.replace(y.IMS_TOKEN_STRING,c),n=!0);var u={hostname:s,methodType:i._acceptRejectRequestDetailsObj.method,responseCallback:function(t){r.debug("UNCTrayNotificationManager: AcceptRejectInvitationHandler: executeRequest - Success Response Handler",i._acceptRejectRequestDetailsObj),e(t)}.bind(i),errorCallback:function(e){r.warn("UNCTrayNotificationManager: AcceptRejectInvitationHandler: executeRequest - Error Response Handler",i._acceptRejectRequestDetailsObj,e),e.accessTokenSent=n,t(e)}.bind(i)};i.httpComm=new k(u);var l={};if(i._acceptRejectRequestDetailsObj.body)if(i._acceptRejectRequestDetailsObj.body instanceof Array)if(0===i._acceptRejectRequestDetailsObj.body.length)l.content="{}";else try{l.content=JSON.stringify(i._acceptRejectRequestDetailsObj.body)}catch(e){r.warn("UNCTrayNotificationManager: AcceptRejectInvitationHandler:  executeRequest  : _acceptRejectRequestDetailsObj.body stringify failed with error : ",e)}else if("object"===P(i._acceptRejectRequestDetailsObj.body))try{l.content=JSON.stringify(i._acceptRejectRequestDetailsObj.body)}catch(e){r.warn("UNCTrayNotificationManager: AcceptRejectInvitationHandler:  executeRequest  : _acceptRejectRequestDetailsObj.body stringify failed with error : ",e)}else l.content=i._acceptRejectRequestDetailsObj.body;else l.content="{}";if(i._acceptRejectRequestDetailsObj.headers){try{l.requestHeaders=JSON.parse(JSON.stringify(i._acceptRejectRequestDetailsObj.headers))}catch(e){r.warn("UNCTrayNotificationManager: AcceptRejectInvitationHandler:  executeRequest  : _acceptRejectRequestDetailsObj.headers parsing failed with error : ",e)}l.requestHeaders.Authorization&&(l.requestHeaders.Authorization="Bearer ".concat(c),n=!0)}else l.requestHeaders={};return i.httpComm.SendRequest(l),!0}}])&&j(t.prototype,i),n&&j(t,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function D(e){return(D="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function M(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,(o=n.key,r=void 0,r=function(e,t){if("object"!==D(e)||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var n=i.call(e,t||"default");if("object"!==D(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(o,"string"),"symbol"===D(r)?r:String(r)),n)}var o,r}var U=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,i,n;return t=e,n=[{key:"getAuthorForNotificationTypeSubtype",value:function(e,t){return e===y.TYPE_BEHANCE?"behance":e===y.TYPE_FOLDER_COLLAB?"stormcloud":e===y.TYPE_ANYWHERE_PRODUCTION?"anywhere":e===y.TYPE_DESIGN_LIBRARY?"designlibrary":t===y.SUBTYPE_REDHAWK_COMMENT||t===y.SUBTYPE_REDHAWK_COMMENT_ADD||t===y.SUBTYPE_REDHAWK_COMMENT_DELETE||t===y.SUBTYPE_REDHAWK_COMMENT_MODIFY||t===y.SUBTYPE_REDHAWK_COMMENT_REPLY||t===y.SUBTYPE_REDHAWK_COMMENT_RESOLVE?"xd":"generic"}}],(i=null)&&M(t.prototype,i),n&&M(t,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function L(e){return(L="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function H(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,(o=n.key,r=void 0,r=function(e,t){if("object"!==L(e)||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var n=i.call(e,t||"default");if("object"!==L(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(o,"string"),"symbol"===L(r)?r:String(r)),n)}var o,r}var F=new(function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.imsClientID="",this.productName="Creative Cloud",this.productVersion=""}var t,i,n;return t=e,(i=[{key:"setGlobalDataBasedOnInitilializationDetails",value:function(e){if(e&&e.initJSON){var t=e.initJSON;t.imsClientID&&"string"==typeof t.imsClientID&&(this.imsClientID=t.imsClientID),t.productName&&"string"==typeof t.productName&&(this.productName=t.productName),t.productVersion&&"string"==typeof t.productVersion&&(this.productVersion=t.productVersion)}}}])&&H(t.prototype,i),n&&H(t,n),Object.defineProperty(t,"prototype",{writable:!1}),e}());function B(e){return(B="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Y(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,(o=n.key,r=void 0,r=function(e,t){if("object"!==B(e)||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var n=i.call(e,t||"default");if("object"!==B(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(o,"string"),"symbol"===B(r)?r:String(r)),n)}var o,r}var x=new(function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,i,n;return t=e,(i=[{key:"getDefaultObjectForConfigurationsForUNCTrayForAnalytics",value:function(){var e={xApiKey:"unc-thor-service",apiKey:"unc-thor-service",source:"UNC",project:"unc-thor-service"};return e}},{key:"sendAnalyticsForRenderOfNotification",value:function(e,t){r.debug("UNCTrayNotificationManager: DesktopTrayAnalyticsHandler: sendAnalyticsForRenderOfNotification: Sending analytics for rendering of notification :",e);var i={};i.projectConfigDetails=this.getDefaultObjectForConfigurationsForUNCTrayForAnalytics();var n,o,a={},s={};if(a["event.type"]="success"===t?"render":"error",a["event.subcategory"]="Message",a["event.subtype"]="tray notification",this.setConstantFieldsWithValues(a),e.id&&""!==e.id&&(a["content.id"]=e.id),e.type&&""!==e.type&&e.subType&&""!==e.subType&&(a["content.type"]="".concat(e.type,":").concat(e.subType)),a["content.status"]=e.state?e.state.toLowerCase():"read",e.trackingSystemPayload&&""!==e.trackingSystemPayload){a["ans.client_payload"]=e.trackingSystemPayload,s=e.trackingSystemPayload;try{(s=JSON.parse(s)).hasOwnProperty(y.CAMPAIGN_ID)&&(n=s.CAMPAIGN_ID),s.hasOwnProperty(y.VARIATION_ID)&&(o=s.VARIATION_ID)}catch(e){r.warn("UNCTrayNotificationManager: DesktopTrayAnalyticsHandler: sendAnalyticsForRenderOfNotification : notifObj.trackingSystemPayload parsing failed with error : ",e)}}e.contentSourceId&&""!==e.contentSourceId&&(a["custom.content_source_id"]=e.contentSourceId),n&&(a["exp.campaign_id"]=n),o&&(a["exp.variation_id"]=o),e.payload.ostray.viewDetails&&e.payload.ostray.viewDetails.viewType?"Action"===e.payload.ostray.viewDetails.viewType?a["ui.view_type"]="action":"Comment"===e.payload.ostray.viewDetails.viewType?a["ui.view_type"]="comment":a["ui.view_type"]="default":a["ui.view_type"]="default",e.isPinned&&!0===e.isPinned?a["event.value"]="request":a["event.value"]="notification";var c=U.getAuthorForNotificationTypeSubtype(e.type,e.subType);c&&""!==c&&(a["content.author"]=c),r.debug("UNCTrayNotificationManager: DesktopTrayAnalyticsHandler: sendAnalyticsForRenderOfNotification: sending event is: ",a),i.data=a,Z.sendMessage("SendAnalytics",i,y.APPLET_TARGET_TYPE,y.ANALYTICS_DESKTOP_TARGET_ID)}},{key:"sendAnalyticsForNotificationAction",value:function(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";r.debug("UNCTrayNotificationManager: DesktopTrayAnalyticsHandler: sendAnalyticsForNotificationAction: Sending analytics for notification action");var n={};n.projectConfigDetails=this.getDefaultObjectForConfigurationsForUNCTrayForAnalytics();var o,a,s={},c={};if(s["event.type"]="click",s["event.subtype"]=t,s["event.subcategory"]="Message",this.setConstantFieldsWithValues(s),e.id&&""!==e.id&&(s["content.id"]=e.id),e.type&&""!==e.type&&e.subType&&""!==e.subType&&(s["content.type"]="".concat(e.type,":").concat(e.subType)),s["content.status"]=e.state?e.state.toLowerCase():"new",e.trackingSystemPayload&&""!==e.trackingSystemPayload){s["ans.client_payload"]=e.trackingSystemPayload,c=e.trackingSystemPayload;try{(c=JSON.parse(c)).hasOwnProperty(y.CAMPAIGN_ID)&&(o=c.CAMPAIGN_ID),c.hasOwnProperty(y.VARIATION_ID)&&(a=c.VARIATION_ID)}catch(e){r.warn("UNCTrayNotificationManager: DesktopTrayAnalyticsHandler: sendAnalyticsForNotificationAction : notifObj.trackingSystemPayload parsing failed with error : ",e)}}if(e.contentSourceId&&""!==e.contentSourceId&&(s["custom.content_source_id"]=e.contentSourceId),o&&(s["exp.campaign_id"]=o),a&&(s["exp.variation_id"]=a),e.payload.ostray.onOSTrayClick&&"deeplinkrequest"===e.payload.ostray.onOSTrayClick.clickAction&&e.payload.ostray.onOSTrayClick.deepLinkWorkflows)if(s["event.clicktype"]="deeplink",Array.isArray(e.payload.ostray.onOSTrayClick.deepLinkWorkflows)){var u=[];e.payload.ostray.onOSTrayClick.deepLinkWorkflows.forEach(function(e){u.push(e.workflow)}),s["content.action"]=u.join("|")}else s["content.action"]=e.payload.ostray.onOSTrayClick.deepLinkWorkflows.workflow;e.payload.ostray.viewDetails&&e.payload.ostray.viewDetails.viewType?"Action"===e.payload.ostray.viewDetails.viewType?s["ui.view_type"]="action":"Comment"===e.payload.ostray.viewDetails.viewType?s["ui.view_type"]="comment":s["ui.view_type"]="default":s["ui.view_type"]="default",e.isPinned&&!0===e.isPinned?s["event.value"]="request":s["event.value"]="notification",""!==i&&(s["content.action"]=encodeURIComponent(i));var l=U.getAuthorForNotificationTypeSubtype(e.type,e.subType);l&&""!==l&&(s["content.author"]=l),r.debug("UNCTrayNotificationManager: DesktopTrayAnalyticsHandler: sendAnalyticsForNotificationAction: sending event is: ",s),n.data=s,Z.sendMessage("SendAnalytics",n,y.APPLET_TARGET_TYPE,y.ANALYTICS_DESKTOP_TARGET_ID)}},{key:"setConstantFieldsWithValues",value:function(e){e["event.workflow"]="UNC",e["event.category"]="DESKTOP",e["source.platform"]="DESKTOP",e["source.name"]="UNC",e["source.version"]=y.VERSION_PARAM,F.imsClientID&&""!==F.imsClientID&&(e["source.client_id"]=F.imsClientID),F.imsClientID&&""!==F.imsClientID&&(e["consumer.client_id"]=F.imsClientID),F.productName&&""!==F.productName&&(e["consumer.name"]=F.productName),F.productVersion&&""!==F.productVersion&&(e["consumer.version"]=F.productVersion),e["consumer.platform"]="DESKTOP"}}])&&Y(t.prototype,i),n&&Y(t,n),Object.defineProperty(t,"prototype",{writable:!1}),e}());function G(e){return(G="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function W(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,(o=n.key,r=void 0,r=function(e,t){if("object"!==G(e)||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var n=i.call(e,t||"default");if("object"!==G(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(o,"string"),"symbol"===G(r)?r:String(r)),n)}var o,r}var V=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,i,n;return t=e,(i=[{key:"initializeObjectWithJson",value:function(e){r.debug("UNCTrayNotificationManager: TrayNotificationBaseObject: initializeObjectWithJson - initializing notification object with incoming json");try{this.id=e["notification-id"],this.type=e.type,this.subType=e["sub-type"],this.state=e.state,this.renderingOrderTimestamp=parseInt(e[y.TIMESTAMP_KEY]),this.modifiedTimestamp=parseInt(e.timestamp);var t="object"===G(e.payload)?e.payload:JSON.parse(e.payload);if(!t.ostray)return!1;if(this.payload=t,!t.ostray.message||""===t.ostray.message)return!1;if(this.osTrayMessage=t.ostray.message,this.osTrayMessage=this.osTrayMessage.replace(/<.*?>/gim,""),e.metadata&&e.metadata["tracking-system-payload"]&&""!==e.metadata["tracking-system-payload"]&&(this.trackingSystemPayload=e.metadata["tracking-system-payload"]),this.payload["tracking-system-payload"]&&""!==this.payload["tracking-system-payload"]&&(this.trackingSystemPayload=this.payload["tracking-system-payload"]),this.payload["content-source-id"]&&""!==this.payload["content-source-id"]&&(this.contentSourceId=this.payload["content-source-id"]),this.payload.timeline&&this.payload.timeline.pinnedCategory?this.isPinned="true"===this.payload.timeline.pinnedCategory.toString().toLowerCase():this.isPinned=!1,this.type===y.TYPE_FOLDER_COLLAB&&!1===b.filesPanelEnabled)return r.info("UNCTrayNotificationManager: TrayNotificationBaseObject: initializeObjectWithJson: checkIfThisTypeSubtypeIsSupported: Files and folder collab notifications are not supported from FES"),!1;if(this.type===y.TYPE_DESIGN_LIBRARY&&!1===b.designLibraryFeatureEnabled)return r.info("UNCTrayNotificationManager: TrayNotificationBaseObject: initializeObjectWithJson: checkIfThisTypeSubtypeIsSupported: Design Library notifications are not supported from FES"),!1;t.ostray.title&&""!==t.ostray.title?(this.osTrayTitle=t.ostray.title,this.osTrayTitle=this.osTrayTitle.replace(/<.*?>/gim,"")):this.osTrayTitle="Creative Cloud",t.ostray.showWhenMachineActive?this.showWhenMachineActive="true"===t.ostray.showWhenMachineActive.toString().toLowerCase():this.showWhenMachineActive=!1}catch(e){return r.debug("UNCTrayNotificationManager: TrayNotificationBaseObject: initializeObjectWithJson - Invalid notification received and therefore ignoring it"),!1}return!0}},{key:"sendRequestForShowingOSTray",value:function(){var e=this.payload.ostray.viewDetails||{},t={};t.title=this.osTrayTitle,t.message=this.osTrayMessage,t.image=this.payload.ostray.image||"",t.iconType="info",t.onActionMessage=y.MESSAGE_HANDLE_NOTIFICATION_CLICK,t.notificationID=this.id,e&&(t.viewDetails={viewType:e.viewType,primaryCta:e.primaryCta,secondaryCta:e.secondaryCta}),this.showWhenMachineActive?t.activityRequired=!0:t.activityRequired=!1;var i={};i.id=this.id,this.context&&""!==this.context&&(i.context=this.context);var n={};n.data=i,t.context=JSON.stringify(n);var o={};o.id=y.SOURCE_ID,o.version=y.SOURCE_VERSION,t.ActionReceiverClientInfo=o;var a={};a.TrayNotificationData=t,r.debug("UNCTrayNotificationManager: TrayNotificationBaseObject: sendRequestForShowingOSTray - Request object for showing OS-tray:",a),Z.sendMessage(y.MESSAGE_SHOW_OS_TRAY_REQUEST,a,y.APPLET_TARGET_TYPE,y.TRAY_NOTIFICATION_MANAGER_APPLET_ID)}},{key:"sendRequestForRemovingOSTray",value:function(){r.debug("UNCTrayNotificationManager: TrayNotificationBaseObject: sendRequestForRemovingOSTray: Remove os-Tray");var e={data:{}};e.data.notificationID=this.id,Z.sendMessage(y.MESSAGE_REMOVE_OS_TRAY_REQUEST,e,y.APPLET_TARGET_TYPE,y.TRAY_NOTIFICATION_MANAGER_APPLET_ID)}},{key:"sendGenericCtaErrorTrayNotification",value:function(){var e={title:"Error_Notification_Title",message:"Error_Notification_Message",iconType:"info"};e.onActionMessage=y.MESSAGE_HANDLE_NOTIFICATION_CLICK,e.notificationID="ccxi-tray-".concat(this.id),e.activityRequired=!1;var t={};t.id="ccxi-tray-".concat(this.id);var i={notificationContext:{translateTitle:"1",translateMessage:"1",titleLabel:"Something went wrong",messageLabel:"Click here to retry from the notifications widget"}},n=i;n.data=t,e.context=JSON.stringify(n);var o={};o.id=y.SOURCE_ID,o.version=y.SOURCE_VERSION,e.ActionReceiverClientInfo=o;var a={};a.TrayNotificationData=e,r.debug("UNCTrayNotificationManager: TrayNotificationBaseObject: sendGenericCtaErrorTrayNotification - Request object for showing OS-tray:",a),Z.sendMessage(y.MESSAGE_SHOW_OS_TRAY_REQUEST,a,y.APPLET_TARGET_TYPE,y.TRAY_NOTIFICATION_MANAGER_APPLET_ID)}},{key:"_handleErrorOfAcceptRejectNotification",value:function(e){this.sendGenericCtaErrorTrayNotification()}},{key:"handleNotificationClickAction",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this.state!==y.NOTIFICATION_STATE_EXPIRED){this.state=y.NOTIFICATION_STATE_READ;var t={},i=[];t.notifications={};var n={};n["notification-id"]=this.id,n.state=this.state,i.push(n),t.notifications.notification=i,Z.sendMessage(y.UPDATE_NOTIFICATIONS_DATA,{content:JSON.stringify(t)},y.APPLET_TARGET_TYPE,y.UNCENGINE_ID);var o=this.payload.ostray.onOSTrayClick||null;if(this.payload.ostray.viewDetails&&this.payload.ostray.viewDetails.viewType)switch(this.payload.ostray.viewDetails.viewType){case"Action":if(e&&e.ctaClicked){var a={};e.ctaClicked===y.PRIMARY_CTA_BUTTON&&this.payload.ostray.onOSTrayClick.primaryRequestDetails?(o=this.payload.ostray.onOSTrayClick.primaryRequestDetails,a=this.payload.ostray.onOSTrayClick.primaryRequestDetails):e.ctaClicked===y.SECONDARY_CTA_BUTTON&&this.payload.ostray.onOSTrayClick.secondaryRequestDetails&&(o=this.payload.ostray.onOSTrayClick.secondaryRequestDetails,a=this.payload.ostray.onOSTrayClick.secondaryRequestDetails),o.clickAction||"ctaHandling"!==this.payload.ostray.onOSTrayClick.clickAction||(o={clickAction:"invitationRequest",serviceRequest:a})}else this.payload.ostray.onOSTrayClick.defaultRequestDetails&&(o=this.payload.ostray.onOSTrayClick.defaultRequestDetails)}try{r.debug("UNCTrayNotificationManager: TrayNotificationBaseObject: handleNotificationClickAction: Sending analytics for user click on os-Tray"),x.sendAnalyticsForNotificationAction(this,e&&e.ctaClicked?e.ctaClicked:"ostray",o&&o.webURL?o.webURL:"")}catch(e){r.debug("UNCTrayNotificationManager: TrayNotificationBaseObject: handleNotificationClickAction - Error while sending analytics for click of os-tray notifiation:",e)}if(r.debug("UNCTrayNotificationManager: TrayNotificationBaseObject: handleNotificationClickAction: clickAction: ",o?o.clickAction:"body"),o&&o.clickAction&&""!==o.clickAction)switch(o.clickAction){case"openURL":if(r.debug("UNCTrayNotificationManager: TrayNotificationBaseObject: handleNotificationClickAction: openURL"),o.webURL&&""!==o.webURL&&b.checkIfUrlIsAllowed(o.webURL)){var s={},c={};c.url=o.webURL,o.SSODetails&&o.SSODetails.ssoEnabled&&"true"===o.SSODetails.ssoEnabled.toString()?(c.needSSO="true",o.SSODetails.ssoTargetClientID&&""!==o.SSODetails.ssoTargetClientId?c.clientId=o.SSODetails.ssoTargetClientID:c.clientId=y.DEFAULT_TARGET_CLIENT_ID,o.SSODetails.ssoTargetScope&&""!==o.SSODetails.ssoTargetScope?c.scope=o.SSODetails.ssoTargetScope:c.scope=y.DEFAULT_TARGET_SCOPE):c.needSSO="false",s.message=c,Z.sendMessage(y.OPEN_URL_REQUEST,s,y.APPLET_TARGET_TYPE,y.CONTAINER_BL_ID)}else r.debug("UNCTrayNotificationManager: TrayNotificationBaseObject: handleNotificationClickAction - URL is either empty or not allowed",o.webURL);break;case"panelSwitch":if(r.debug("UNCTrayNotificationManager: TrayNotificationBaseObject: handleNotificationClickAction: panelSwitch"),o.panelName&&""!==o.panelName){var u={workflow:"panel"};"Apps"===o.panelName?u.panelId="apps":"Yourwork"===o.panelName?u.panelId="yourwork":"Discover"===o.panelName?u.panelId="discover":(u.workflow="routeToPath",u.routePath="/uncWidget"),Z.sendMessage(y.DEEP_LINK_REQUEST,u,y.APPLET_TARGET_TYPE,y.CONTAINER_BL_ID)}break;case"routeToPath":if(o.path){r.debug("UNCTrayNotificationManager: TrayNotificationBaseObject: handleNotificationClickAction: routeToPath: ",o.path);var l={workflow:"routeToPath"},f=o.path;if(o.fallbackURL){var d=encodeURIComponent(o.fallbackURL);if(f=f.concat("&fallbackURL=").concat(d),o.needSSO&&"true"===o.needSSO&&(f=f.concat("&needSSO=").concat(o.needSSO)),o.targetClientID&&o.targetScope){var p=encodeURIComponent(o.targetClientID),h=encodeURIComponent(o.targetScope);f=f.concat("&targetClientID=").concat(p).concat("&targetScope=").concat(h)}l.useEncodedPath="true"}l.routePath=f,Z.sendMessage(y.DEEP_LINK_REQUEST,l,y.APPLET_TARGET_TYPE,y.CONTAINER_BL_ID)}break;case"deeplinkrequest":if(r.debug("UNCTrayNotificationManager: TrayNotificationBaseObject: handleNotificationClickAction: deeplinkrequest"),o.deepLinkWorkflows)if(Array.isArray(o.deepLinkWorkflows))o.deepLinkWorkflows.forEach(function(e){e.endpoint="unc-tray",Z.sendMessage(y.DEEP_LINK_REQUEST,e,y.APPLET_TARGET_TYPE,y.CONTAINER_BL_ID)});else{var T=o.deepLinkWorkflows;T.endpoint="unc-tray",Z.sendMessage(y.DEEP_LINK_REQUEST,T,y.APPLET_TARGET_TYPE,y.CONTAINER_BL_ID)}break;case"invitationRequest":if(o.serviceRequest){r.debug("UNCTrayNotificationManager: TrayNotificationBaseObject: handleNotificationClickAction: invitationRequest",o.serviceRequest);var g=new q(o.serviceRequest),m=this;!1===g.executeRequest(function(e){r.debug("UNCTrayNotificationManager: TrayNotificationBaseObject: handleNotificationClickAction: takeActionOnAcceptRejectClick - Accept Clicked successCallback:",JSON.stringify(e))},function(e){r.debug("UNCTrayNotificationManager: TrayNotificationBaseObject: handleNotificationClickAction: takeActionOnAcceptRejectClick - Accept Clicked errorCallback:",JSON.stringify(e)),m._handleErrorOfAcceptRejectNotification(e)})&&this.sendGenericCtaErrorTrayNotification()}break;case"noAction":r.debug("UNCTrayNotificationManager: TrayNotificationBaseObject: handleNotificationClickAction: noAction");break;default:-1===y.SUPPORTED_ACTION_TYPES.indexOf(o.clickAction)&&r.debug("UNCTrayNotificationManager: TrayNotificationBaseObject: handleNotificationClickAction: Not a supported click action type: ",o.clickAction),r.debug("UNCTrayNotificationManager: TrayNotificationBaseObject: handleNotificationClickAction: Routing to unc widget");var E={workflow:"routeToPath"};E.routePath="/uncWidget?notificationId=".concat(this.id),Z.sendMessage(y.DEEP_LINK_REQUEST,E,y.APPLET_TARGET_TYPE,y.CONTAINER_BL_ID)}else{r.debug("UNCTrayNotificationManager: TrayNotificationBaseObject: handleNotificationClickAction: clickAction on body: Routing to unc widget");var _={workflow:"routeToPath"};_.routePath="/uncWidget?notificationId=".concat(this.id),Z.sendMessage(y.DEEP_LINK_REQUEST,_,y.APPLET_TARGET_TYPE,y.CONTAINER_BL_ID)}}}},{key:"handleUNCTrayNotificationRenderAnalytics",value:function(e){try{r.debug("UNCTrayNotificationManager: TrayNotificationBaseObject: handleUNCTrayNotificationRenderAnalytics: Sending analytics for receipt of notification"),x.sendAnalyticsForRenderOfNotification(this,e)}catch(e){r.debug("UNCTrayNotificationManager: TrayNotificationBaseObject: handleUNCTrayNotificationRenderAnalytics - Error while sending analytics for receipt of notification:",e)}}}])&&W(t.prototype,i),n&&W(t,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function K(e){return(K="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function J(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,(o=n.key,r=void 0,r=function(e,t){if("object"!==K(e)||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var n=i.call(e,t||"default");if("object"!==K(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(o,"string"),"symbol"===K(r)?r:String(r)),n)}var o,r}var z=new(function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),r.debug("UNCTrayNotificationManager: TrayNotificationProcessor: TrayNotificationProcessor is being constructed....."),this._mapNotifications=new Map}var t,i,n;return t=e,(i=[{key:"processIncomingNotificationForShowingOSTray",value:function(e){if(r.debug("UNCTrayNotificationManager: TrayNotificationProcessor: processIncomingNotificationForShowingOSTray - parsing new incoming notifications json",e),void 0===e.notifications)return r.debug("UNCTrayNotificationManager: TrayNotificationProcessor: processIncomingNotificationForShowingOSTray - Received an invalid notification response object",e),!1;if(!e.notifications||!e.notifications.notification)return r.debug("UNCTrayNotificationManager: TrayNotificationProcessor: processIncomingNotificationForShowingOSTray - Received an invalid notification response object with notification not defined",e),!1;var t;if(Array.isArray(e.notifications.notification))t=e.notifications.notification;else{if("object"!==K(e.notifications.notification)||null==e.notifications.notification)return r.debug("UNCTrayNotificationManager: TrayNotificationProcessor: processIncomingNotificationForShowingOSTray - Received an invalid notification response object with notification not an object or an array",e),!1;t=[e.notifications.notification]}for(var i=t.length,n=0;n<i;n++){var o=t[n];if(o.state!==y.NOTIFICATION_STATE_EXPIRED){var a=new V;a.initializeObjectWithJson(o)&&a.modifiedTimestamp===a.renderingOrderTimestamp&&(this._mapNotifications.set(a.id,a),a.sendRequestForShowingOSTray())}else{this._mapNotifications.has(o["notification-id"])&&this._mapNotifications.get(o["notification-id"]).sendRequestForRemovingOSTray()}}}},{key:"handleNotificationClickOnOSTray",value:function(e){if(r.debug("UNCTrayNotificationManager: TrayNotificationProcessor: handleNotificationClickOnOSTray - got click action for os-tray notification",e),e&&e.data&&e.data.id&&""!==e.data.id){var t=e.data.id;if(this._mapNotifications.has(t)){var i=this._mapNotifications.get(t);e.responseData?i.handleNotificationClickAction(e.responseData):i.handleNotificationClickAction()}else{r.debug("UNCTrayNotificationManager: TrayNotificationBaseObject: handleNotificationClickOnOSTray: clickAction on generic error tray notification: Routing to unc widget");var n={workflow:"routeToPath",routePath:"/uncWidget"};Z.sendMessage(y.DEEP_LINK_REQUEST,n,y.APPLET_TARGET_TYPE,y.CONTAINER_BL_ID)}}}},{key:"handleOSTrayNotificationRenderAnalytics",value:function(e){if(r.debug("UNCTrayNotificationManager: TrayNotificationProcessor: handleOSTrayNotificationRenderAnalytics - notification render message object: ",e),e&&e.data&&e.data.id&&""!==e.data.id){var t=e.data.id;if(this._mapNotifications.has(t)){var i=this._mapNotifications.get(t);e.renderStatus?i.handleUNCTrayNotificationRenderAnalytics(e.renderStatus):i.handleUNCTrayNotificationRenderAnalytics()}}}},{key:"clearMapOfNotifications",value:function(){this._mapNotifications.size>0&&this._mapNotifications.clear()}}])&&J(t.prototype,i),n&&J(t,n),Object.defineProperty(t,"prototype",{writable:!1}),e}());function Q(e){return(Q="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function X(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,(o=n.key,r=void 0,r=function(e,t){if("object"!==Q(e)||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var n=i.call(e,t||"default");if("object"!==Q(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(o,"string"),"symbol"===Q(r)?r:String(r)),n)}var o,r}var Z=new(function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.ccxCoreObj=null}var t,i,n;return t=e,(i=[{key:"initializeCommunicationEngineInterfaceObj",value:function(e){this.ccxCoreObj=e}},{key:"sendMessage",value:function(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:y.DEFAULT_TARGET_TYPE,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:y.DEFAULT_TARGET_ID,o=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];r.debug("UNCTrayNotificationManager: CommunicationInterface: sendMessage - Sending message to",n," with messageName:",e,"and with data",t);var a={sourceID:y.SOURCE_ID,targetType:i,targetID:n,message:e,data:t};return!1===o&&(a.isAsync=!1),this.ccxCoreObj.handleMessage(a)}},{key:"handleMessage",value:function(e){var t=e.message,i=e.data;switch(r.debug("UNCTrayNotificationManager: CommunicationInterface: handleMessage - Received data with messageName",t),t){case y.MESSAGE_NEW_NOTIFICATION:r.debug("UNCTrayNotificationManager: CommunicationInterface: handleMessage - Process incomimg notification for showing OSTray"),z.processIncomingNotificationForShowingOSTray(i);break;case y.MESSAGE_HANDLE_NOTIFICATION_CLICK:r.debug("UNCTrayNotificationManager: CommunicationInterface: handleMessage - Handle notification click on OSTray"),z.handleNotificationClickOnOSTray(JSON.parse(i));break;case y.MESSAGE_HANDLE_USER_CONTEXT_DATA:r.debug("UNCTrayNotificationManager: CommunicationInterface: handleMessage - Handle user context data"),b.handleIncomingUserContextData(i);break;case y.MESSAGE_HANDLE_NOTIFICATION_RENDER_ANALYTICS:r.debug("UNCTrayNotificationManager: CommunicationInterface: handleMessage - handle OSTray Notification Render Analytics"),z.handleOSTrayNotificationRenderAnalytics(JSON.parse(i))}}}])&&X(t.prototype,i),n&&X(t,n),Object.defineProperty(t,"prototype",{writable:!1}),e}());function $(e){return($="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ee(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,(o=n.key,r=void 0,r=function(e,t){if("object"!==$(e)||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var n=i.call(e,t||"default");if("object"!==$(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(o,"string"),"symbol"===$(r)?r:String(r)),n)}var o,r}function te(){return(te="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,i){var n=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=oe(e)););return e}(e,t);if(n){var o=Object.getOwnPropertyDescriptor(n,t);return o.get?o.get.call(arguments.length<3?e:i):o.value}}).apply(this,arguments)}function ie(e,t){return(ie=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function ne(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var i,n=oe(e);if(t){var o=oe(this).constructor;i=Reflect.construct(n,arguments,o)}else i=n.apply(this,arguments);return function(e,t){if(t&&("object"===$(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,i)}}function oe(e){return(oe=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}i.d(t,"default",function(){return re});var re=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ie(e,t)}(a,u);var t,i,n,o=ne(a);function a(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),e=o.call(this),r.info("JS Module load: TrayNatificationManager: version: ".concat("5.11.0")),e}return t=a,(i=[{key:"initialize",value:function(e){te(oe(a.prototype),"initialize",this).call(this,e),r.debug("TrayNotificationHandlerCoreExt: initialize - TrayNotificationHandler initialization: ",e),Z.initializeCommunicationEngineInterfaceObj(e.hostObject),F.setGlobalDataBasedOnInitilializationDetails(e)}},{key:"finalize",value:function(e){te(oe(a.prototype),"finalize",this).call(this,e)}},{key:"handleMessage",value:function(e){Z.handleMessage(e)}}])&&ee(t.prototype,i),n&&ee(t,n),Object.defineProperty(t,"prototype",{writable:!1}),a}();window.TrayNotificationHandler=function(){return new re}}]);
