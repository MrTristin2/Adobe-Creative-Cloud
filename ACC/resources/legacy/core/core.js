!function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t,n){e.exports=n(1)},function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,(a=o.key,s=void 0,s=function(e,t){if("object"!==r(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var o=n.call(e,t||"default");if("object"!==r(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(a,"string"),"symbol"===r(s)?s:String(s)),o)}var a,s}n.r(t);var a=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._hostObject=null,this._hostMessageHandlerFn=null}var t,n,a;return t=e,(n=[{key:"initialize",value:function(e){e&&"object"==r(e)&&(e.hostObject&&"object"==r(e.hostObject)&&(this._hostObject=e.hostObject),e.hostMessageHandlerFn&&"function"==typeof e.hostMessageHandlerFn&&(this._hostMessageHandlerFn=e.hostMessageHandlerFn))}},{key:"handleMessage",value:function(e){}},{key:"finalize",value:function(e){}},{key:"sendMessage",value:function(e){return this._hostObject&&this._hostObject.handleMessage&&"function"==typeof this._hostObject.handleMessage?this._hostObject.handleMessage(e):this._hostMessageHandlerFn?this._hostMessageHandlerFn(e):void 0}},{key:"sendMessageToJSCore",value:function(e,t){return this.sendMessage({targetType:"JSCore",message:e,data:t||{}})}},{key:"sendMessageToParent",value:function(e,t){return this.sendMessage({targetType:"Parent",message:e,data:t||{}})}},{key:"sendMessageToHost",value:function(e,t){return this.sendMessage({targetType:"Host",message:e,data:t||{}})}},{key:"sendMessageToContainer",value:function(e,t){return this.sendMessage({targetType:"Container",message:e,data:t||{}})}},{key:"sendMessageToApplet",value:function(e,t,n,r,o){return this.sendMessage({targetType:"Applet",targetID:n||"",targetVersion:r||"",targetInstanceID:o||"",message:e,data:t||{}})}}])&&o(t.prototype,n),a&&o(t,a),Object.defineProperty(t,"prototype",{writable:!1}),e}();function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(o=r.key,a=void 0,a=function(e,t){if("object"!==s(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==s(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(o,"string"),"symbol"===s(a)?a:String(a)),r)}var o,a}var l=new(function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,(n=[{key:"_preprocess",value:function(e){for(var t=0;t<e.length;++t)"string"==typeof e[t]&&e[t].length>10512&&(e[t]=e[t].substring(0,10512)+".....<Truncated>")}},{key:"getStringFromArgs",value:function(e){for(var t="",n=0;n<e.length;n++)"string"==typeof e[n]?t+=e[n]:e[n]&&(t+=JSON.stringify(e[n]));return t}},{key:"error",value:function(){if(!window.logLevel||0!==window.logLevel){var e=Array.prototype.slice.call(arguments);console.error.apply(console,e);try{window.JSObject?window.JSObject.logError(this.getStringFromArgs(e)):window.app&&window.app.logMessage&&window.app.logMessage(["ERROR",this.getStringFromArgs(e)])}catch(e){}}}},{key:"warn",value:function(){if(window.logLevel&&window.logLevel>=2){var e=Array.prototype.slice.call(arguments);console.warn.apply(console,e);try{window.JSObject?window.JSObject.logWarn(this.getStringFromArgs(e)):window.app&&window.app.logMessage&&window.app.logMessage(["WARN",this.getStringFromArgs(e)])}catch(e){}}}},{key:"log",value:function(){if(window.logLevel&&window.logLevel>=3){var e=Array.prototype.slice.call(arguments);this._preprocess(e),console.trace&&console.trace.apply(console,e);try{window.JSObject?window.JSObject.logInfo(this.getStringFromArgs(e)):window.app&&window.app.logMessage&&window.app.logMessage(["LOG",this.getStringFromArgs(e)])}catch(e){}}}},{key:"info",value:function(){if(window.logLevel&&window.logLevel>=3){var e=Array.prototype.slice.call(arguments);this._preprocess(e),console.trace&&console.trace.apply(console,e);try{window.JSObject?window.JSObject.logInfo(this.getStringFromArgs(e)):window.app&&window.app.logMessage&&window.app.logMessage(["INFO",this.getStringFromArgs(e)])}catch(e){}}}},{key:"debug",value:function(){if(window.logLevel&&window.logLevel>=4){var e=Array.prototype.slice.call(arguments);this._preprocess(e),console.trace&&console.trace.apply(console,e);try{window.JSObject?window.JSObject.logDebug(this.getStringFromArgs(e)):window.app&&window.app.logMessage&&window.app.logMessage(["DEBUG",this.getStringFromArgs(e)])}catch(e){}}}},{key:"trace",value:function(){if(window.logLevel&&window.logLevel>=5){var e=Array.prototype.slice.call(arguments);this._preprocess(e),console.trace&&console.trace.apply(console,e);try{window.JSObject?window.JSObject.logTrace(this.getStringFromArgs(e)):window.app&&window.app.logMessage&&window.app.logMessage(["TRACE",this.getStringFromArgs(e)])}catch(e){}}}}])&&i(t.prototype,n),r&&i(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}());function u(e){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(o=r.key,a=void 0,a=function(e,t){if("object"!==u(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==u(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(o,"string"),"symbol"===u(a)?a:String(a)),r)}var o,a}function f(e,t,n){return t&&d(e.prototype,t),n&&d(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}var p=function(){function e(t,n){c(this,e),this._originalCoreObj=n,this._moduleObj=t}return f(e,[{key:"initialize",value:function(e){this._originalCoreObj(e)}},{key:"handleMessage",value:function(e){return e.sourceID||(e.sourceID=this._moduleObj._id),e.sourceVersion||(e.sourceVersion=this._moduleObj._version),e.sourceInstanceID||(e.sourceInstanceID=this._moduleObj._instanceID),e.isAsync=null==e.isAsync||e.isAsync,e.enableLog=null==e.enableLog||e.enableLog,e.sendViaMainThread=null!=e.sendViaMainThread&&e.sendViaMainThread,this._originalCoreObj.handleMessage(e)}},{key:"finalize",value:function(e){this._originalCoreObj.finalize(e)}}]),e}(),g=function(){function e(t,n,r,o,a){c(this,e),this._type=t.type,this._id=t.id,this._version=t.version,this._instanceID=t.instanceID,this._path=t.path,this._csspath=t.cssPath,this._role=t.role,this._dictionaryPath=t.dictionaryPath,this._parentID=n||"",this._parentVersion=r||"",this._parentInstanceID=o||"",this._instanceID||(this._instanceID=this._parentInstanceID),this._object=null,this._isLoaded=!1,this._coreObj=new p(this,a),this._originalCoreObj=a}return f(e,[{key:"getParent",value:function(){return this._parentID}},{key:"register",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(l.debug("CoreModule: Successfully loaded Module '",this._id,"'"),!(e&&"object"==u(e)&&e.initialize&&"function"==typeof e.initialize&&e.handleMessage&&"function"==typeof e.handleMessage&&e.finalize&&"function"==typeof e.finalize))return!1;this._object=e,this._isLoaded=!0;var r={hostObject:this._coreObj,type:this._type,id:this._id,version:this._version,instanceID:this._instanceID,path:this._path,initJSON:t.initData,dictionary:n};return!1!==this._object.initialize(r)}},{key:"loadResources",value:function(e,t){for(var n=[],r=0;r<e.length;++r)n.push(JSON.parse(JSON.stringify(e[r]))),n[r].status=void 0,n[r].response=void 0;for(var o=function(){for(var e=!0,r=!0,o=0;o<n.length;++o)e=e&&void 0!==n[o].status,r=r&&(!n[o].isMandatory||!0===n[o].status);e&&t(r,n)},a=function(t){if("js"==e[t].type){var r=document.createElement("script");r.type="text/javascript",r.src=e[t].path+"?t="+(new Date).getTime(),r.onload=function(e){n[t].status=!0,n[t].response=e,o()},r.onerror=function(e){n[t].status=!1,n[t].response=e,o()},document.head.appendChild(r)}else if("css"==e[t].type){var a=document.createElement("link");a.setAttribute("rel","stylesheet"),a.setAttribute("type","text/css"),a.href=e[t].path+"?t="+(new Date).getTime(),a.onload=function(e){n[t].status=!0,n[t].response=e,o()},a.onerror=function(e){n[t].status=!1,n[t].response=e,o()},document.head.appendChild(a)}else if("json"==e[t].type){var s=new XMLHttpRequest;s.open("GET",e[t].path+"?t="+(new Date).getTime()),s.onload=function(){"number"==typeof s.status&&s.status<400?(n[t].status=!0,n[t].response=JSON.parse(s.response)):(n[t].status=!1,l.error("Non-success code: "+s.status+" in loading json: "+e[t].path)),o()},s.onerror=function(){n[t].status=!1,o()},s.send()}},s=0;s<e.length;++s)a(s)}},{key:"load",value:function(e,t){var n=this;if("OldApplet"!=this._type){var r=null,o=null,a=[];return this._path&&a.push({path:this._path,type:"js",isMandatory:!0}),this._csspath&&a.push({path:this._csspath,type:"css",isMandatory:!0}),this._dictionaryPath&&a.push({path:this._dictionaryPath+"/"+e.locale+".json",type:"json",isMandatory:!1}),this.loadResources(a,function(a,s){if(a)try{r=window[n._id](),o=n._dictionaryPath&&s[2].status?s[2].response:null,n.register(r,e,o)?(l.info("Core: Module loaded: ",n._id),t({status:!0})):(l.error("Core: Module register messageData: ",e),t({status:!1,response:{errorType:"register",errorReason:"undefined"}}))}catch(n){l.error("Core: Module register exception: ",n,", messageData: ",e),t({status:!1,response:{errorType:"register",errorReason:"exception"}})}else l.error("Core: Module load error: ",s,", messageData: ",e),t({status:!1,response:{errorType:"load",errorReason:"undefined",errorResourceList:s}})}),!0}this.loadOld(e,t)}},{key:"getEntity",value:function(){var e=new(window.Backbone.Model.extend({defaults:{id:this.oldAppletId,parentId:"",filePath:this._path,header:{targetID:this._id,targetVersion:"1.0",targetInstanceID:"1",sourceID:this._id.replace("_UI","_BL"),sourceVersion:"1.0",sourceInstanceID:"1"},order:0,isVisible:!1,isLoaded:!1,type:"panel",localizedName:"",children:[],needsAttention:!1,showBadge:!1,panelTab:null},setTab:function(e){e&&this.set("panelTab",e)}}));return e.on("change:localizedName",function(){this.moduleObj._originalCoreObj.handleMessage({targetType:"Applet",targetID:"JSContainer_UI",targetVersion:"1.0",message:"UpdatePanelDisplayName",data:{panelName:this.moduleObj._id,displayName:this.entity.attributes.localizedName}})},{entity:e,moduleObj:this}),e}},{key:"loadOld",value:function(e,t){this.oldAppletId=e.initData.divId;var n=this.getEntity();window.require([this._path],function(r){var o=this,a=r.getResourceList();this.loadResources(a,function(a,s){a?(l.info("JSCore: Old module loaded: ",o._id),r.registerMe(n),n.set("isLoaded",!0),t({status:!0})):(l.error("Core: Old Module load error: ",s,", messageData: ",e),t({status:!1,response:{errorType:"load",errorReason:"undefined",errorResourceList:s}}))})}.bind(this),function(e){l.error("JSCore: Old module load failed: ",e," entity: ",n);var r=[];if(e.requireModules&&Array.isArray(e.requireModules))for(var o=0;o<e.requireModules.length;++o)r.push({status:!1,path:e.requireModules[o]});t({status:!1,response:{errorType:"load",errorReason:"undefined",errorResourceList:r}})}.bind(this))}},{key:"handleMessage",value:function(e){if("OldApplet"==this._type){var t=this.oldAppletId;return window.require(["interface/events"],function(n){var r=e;e.dataInXmlData?(r.xmlData={},r.xmlData.data=r.data):r.xmlData=r.data,delete e.dataInXmlData;try{n.trigger(t,{msg:r,type:e.message})}catch(e){l.error("JSCore: Exception in old Applet message trigger: ",e)}}),!0}return!(!this._object||!this._object.handleMessage||"function"!=typeof this._object.handleMessage)&&this._object.handleMessage(e)}}]),e}();function h(e){return(h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function y(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a,s,i=[],l=!0,u=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=a.call(n)).done)&&(i.push(r.value),i.length!==t);l=!0);}catch(e){u=!0,o=e}finally{try{if(!l&&null!=n.return&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw o}}return i}}(e,t)||v(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function b(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=v(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,s=!0,i=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return s=e.done,e},e:function(e){i=!0,a=e},f:function(){try{s||null==n.return||n.return()}finally{if(i)throw a}}}}function v(e,t){if(e){if("string"==typeof e)return m(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?m(e,t):void 0}}function m(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function M(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(o=r.key,a=void 0,a=function(e,t){if("object"!==h(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==h(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(o,"string"),"symbol"===h(a)?a:String(a)),r)}var o,a}var w=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._ccxCoreObj=t,this._loadingModules=new Map,this._loadedModules=new Map,this._loadedCoreExtensions=new Map,this._moduleRoleMap=new Map,this._loadStatusMap=new Map,this._loadStatusCallback=null}var t,n,r;return t=e,(n=[{key:"statusCallback",value:function(e,t){this._loadStatusMap.set(e,t);var n,r=!0,o=[],a=b(this._loadStatusMap);try{for(a.s();!(n=a.n()).done;){var s=y(n.value,2),i=(s[0],s[1]);i?i.status||o.push(i):r=!1}}catch(e){a.e(e)}finally{a.f()}r&&(0==o.length?this._loadStatusCallback({status:!0}):this._loadStatusCallback({status:!1,errorStatusList:o}))}},{key:"initialize",value:function(e){if(e.coreExtensionList){this._loadStatusCallback=e.statusCallback;var t,n=b(e.coreExtensionList);try{for(n.s();!(t=n.n()).done;){var r=t.value;this._loadStatusMap.set(r.id,{status:"undefined"}),this.loadCoreExtension(r)}}catch(e){n.e(e)}finally{n.f()}}}},{key:"handleMessage",value:function(e){var t=this;if("JSCore"==e.targetType)return this.handleMessageForJSCore(e);if("Host"==e.targetType)return this.sendMessageToHost(e);if("Parent"==e.targetType)return this.sendMessageToAppletParent(e);if("*"==e.targetID)this.broadcastMessage(e);else{if("CoreExt"==e.targetType)return this.sendMessageToCoreExt(e);if("Applet"==e.targetType)return this.sendMessageToApplet(e);if(!this._moduleRoleMap.has(e.targetType))return this.sendMessageToHost(e);if(null!=e.isAsync&&!e.isAsync)return this._moduleRoleMap.get(e.targetType).handleMessage(e);setTimeout(function(){t._moduleRoleMap.get(e.targetType).handleMessage(e)},0)}return!0}},{key:"handleMessageForJSCore",value:function(e){var t=e.message;if("LoadModule"==t){var n=new g(e.data,e.sourceID,e.sourceVersion,e.sourceInstanceID,this._ccxCoreObj);return this.loadModule(n,e.data),!0}if("RegisterModule"==t){var r=new g(e.data,e.sourceID,e.sourceVersion,e.sourceInstanceID,this._ccxCoreObj);return e.data.dictionary=e.data.dictionary?e.data.dictionary:null,!!r.register(e.data.moduleObject,e.data,e.data.dictionary)&&(this._loadedModules.set(r._id,r),r._role&&this._moduleRoleMap.set(r._role,r),this._registerModuleWithNativeCore(r),!0)}if("UnloadModule"==t||"UnregisterModule"==t)return!this._loadedModules.has(e.data.id)||this._loadedModules.delete(e.data.id)}},{key:"loadModule",value:function(e,t){this._loadingModules.set(e._id,e),e.load(t,function(n){if(this._loadingModules.delete(e._id),n.status&&(this._loadedModules.set(e._id,e),e._role&&this._moduleRoleMap.set(e._role,e),this._registerModuleWithNativeCore(e)),t.statusCallback){if("function"==typeof t.statusCallback)try{t.statusCallback(n)}catch(e){l.error("CoreMessageManager: Exception in onLoad callback: ",e)}else if("string"==typeof t.statusCallback)try{this.sendMessageToHost({targetType:"Host",message:t.statusCallback,data:n})}catch(e){l.error("CoreMessageManager: Exception in onLoad callback: ",e)}}else l.warn("CoreMessageManager: onLoad callback not present.")}.bind(this))}},{key:"loadCoreExtension",value:function(e){var t=new g(e,"","","",this._ccxCoreObj);this._loadingModules.set(t._id,t),t.load({},function(e){this._loadingModules.delete(t._id),e.status&&this._loadedCoreExtensions.set(t._id,t),this.statusCallback(t._id,e)}.bind(this))}},{key:"_registerModuleWithNativeCore",value:function(e){this._ccxCoreObj._hostMessageHandlerFn({targetType:"Core",message:"RegisterApplet",data:{type:e._type,id:e._id,version:e._version,instanceID:e._instanceID,path:e._path}})}},{key:"sendMessageToHost",value:function(e){if(null!=e.isInterCoreMsg&&e.isInterCoreMsg)l.warn("CoreMessageManager: Not sending interCoreMsg back to host. Message: ",e);else{e.isInterCoreMsg=!0;try{return this._ccxCoreObj._hostMessageHandlerFn(e)}catch(t){l.warn("CoreMessageManager: Exception in sending message via host. Message: ",e,", Exception: ",t)}}return!0}},{key:"sendMessageToAppletParent",value:function(e){var t=this,n=this._loadedModules.get(e.sourceID).getParent();if(!n)return this.sendMessageToHost(e);if(this._loadedModules.has(n)){if(null!=e.isAsync&&!e.isAsync)return this._loadedModules.get(n).handleMessage(e);setTimeout(function(){t._loadedModules.get(n).handleMessage(e)},0)}return!0}},{key:"broadcastMessage",value:function(e){if("CoreExt"==e.targetType||"*"==e.targetType||"**"==e.targetType){var t,n=b(this._loadedCoreExtensions);try{var r=function(){var n=y(t.value,2),r=n[0],o=n[1];r!==e.sourceID&&setTimeout(function(){o.handleMessage(e)},0)};for(n.s();!(t=n.n()).done;)r()}catch(e){n.e(e)}finally{n.f()}}if("Applet"==e.targetType||"*"==e.targetType||"**"==e.targetType){var o,a=b(this._loadedModules);try{var s=function(){var t=y(o.value,2),n=t[0],r=t[1];n!==e.sourceID&&setTimeout(function(){r.handleMessage(e)},0)};for(a.s();!(o=a.n()).done;)s()}catch(e){a.e(e)}finally{a.f()}}if("Remote"==e.targetType||"**"==e.targetType)return this.sendMessageToHost(e)}},{key:"sendMessageToCoreExt",value:function(e){var t=this;if(this._loadedCoreExtensions.has(e.targetID)){if(null!=e.isAsync&&!e.isAsync)return this._loadedCoreExtensions.get(e.targetID).handleMessage(e);setTimeout(function(){t._loadedCoreExtensions.get(e.targetID).handleMessage(e)},0)}else{if(!this._loadingModules.has(e.targetID))return this.sendMessageToHost(e);l.error("CoreMessageManager: Cannot send message to CoreExt during loading state. Message: ",e)}return!0}},{key:"sendMessageToApplet",value:function(e){var t=this;if(this._loadedModules.has(e.targetID)){if(null!=e.isAsync&&!e.isAsync)return this._loadedModules.get(e.targetID).handleMessage(e);setTimeout(function(){t._loadedModules.get(e.targetID).handleMessage(e)},0)}else{if(!this._loadingModules.has(e.targetID))return this.sendMessageToHost(e);l.error("CoreMessageManager: Cannot send message to Applet during loading state. Message: ",e)}return!0}}])&&M(t.prototype,n),r&&M(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();function _(e){return(_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function j(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(o=r.key,a=void 0,a=function(e,t){if("object"!==_(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==_(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(o,"string"),"symbol"===_(a)?a:String(a)),r)}var o,a}function S(){return(S="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=I(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}}).apply(this,arguments)}function O(e,t){return(O=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function C(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=I(e);if(t){var o=I(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"===_(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return T(e)}(this,n)}}function T(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function I(e){return(I=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}n.d(t,"default",function(){return k});var k=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&O(e,t)}(s,a);var t,n,r,o=C(s);function s(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),e=o.call(this),l.info("JS Module load: Core: version: 5.11.0"),e._coreMessageManager=new w(T(e)),e._hostMessageHandlerFn=function(e){l.warn("Core: Host message handler found missing while sending message: ",e)},e}return t=s,(n=[{key:"initialize",value:function(e){return S(I(s.prototype),"initialize",this).call(this,e),this._coreMessageManager.initialize(e)}},{key:"handleMessage",value:function(e){return this._coreMessageManager.handleMessage(e)}},{key:"finalize",value:function(e){S(I(s.prototype),"finalize",this).call(this,dataJSON)}}])&&j(t.prototype,n),r&&j(t,r),Object.defineProperty(t,"prototype",{writable:!1}),s}();window.CCXCore=function(){return new k}}]);
