var AcrobatJS=function(t){var e={};function r(n){if(e[n])return e[n].exports;var i=e[n]={i:n,l:!1,exports:{}};return t[n].call(i.exports,i,i.exports,r),i.l=!0,i.exports}return r.m=t,r.c=e,r.d=function(t,e,n){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},r.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)r.d(n,i,function(e){return t[e]}.bind(null,i));return n},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="",r(r.s=100)}([function(t,e,r){(function(e){var r=function(t){return t&&t.Math==Math&&t};t.exports=r("object"==typeof globalThis&&globalThis)||r("object"==typeof window&&window)||r("object"==typeof self&&self)||r("object"==typeof e&&e)||function(){return this}()||Function("return this")()}).call(this,r(57))},function(t,e,r){var n=r(0),i=r(44),a=r(3),o=r(29),s=r(47),c=r(65),u=i("wks"),f=n.Symbol,p=c?f:f&&f.withoutSetter||o;t.exports=function(t){return a(u,t)&&(s||"string"==typeof u[t])||(s&&a(f,t)?u[t]=f[t]:u[t]=p("Symbol."+t)),u[t]}},function(t,e){t.exports=function(t){try{return!!t()}catch(t){return!0}}},function(t,e){var r={}.hasOwnProperty;t.exports=function(t,e){return r.call(t,e)}},function(t,e,r){var n=r(5),i=r(6),a=r(18);t.exports=n?function(t,e,r){return i.f(t,e,a(1,r))}:function(t,e,r){return t[e]=r,t}},function(t,e,r){var n=r(2);t.exports=!n((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}))},function(t,e,r){var n=r(5),i=r(45),a=r(9),o=r(28),s=Object.defineProperty;e.f=n?s:function(t,e,r){if(a(t),e=o(e,!0),a(r),i)try{return s(t,e,r)}catch(t){}if("get"in r||"set"in r)throw TypeError("Accessors not supported");return"value"in r&&(t[e]=r.value),t}},function(t,e){t.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},function(t,e,r){var n=r(10),i=Math.min;t.exports=function(t){return t>0?i(n(t),9007199254740991):0}},function(t,e,r){var n=r(7);t.exports=function(t){if(!n(t))throw TypeError(String(t)+" is not an object");return t}},function(t,e){var r=Math.ceil,n=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?n:r)(t)}},function(t,e){t.exports={}},function(t,e,r){var n=r(0),i=r(35).f,a=r(4),o=r(21),s=r(27),c=r(73),u=r(76);t.exports=function(t,e){var r,f,p,l,g,h=t.target,m=t.global,d=t.stat;if(r=m?n:d?n[h]||s(h,{}):(n[h]||{}).prototype)for(f in e){if(l=e[f],p=t.noTargetGet?(g=i(r,f))&&g.value:r[f],!u(m?f:h+(d?".":"#")+f,t.forced)&&void 0!==p){if(typeof l==typeof p)continue;c(l,p)}(t.sham||p&&p.sham)&&a(l,"sham",!0),o(r,f,l,t)}}},function(t,e,r){var n=r(43);t.exports=function(t){return Object(n(t))}},function(t,e,r){var n=r(9),i=r(79);t.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var t,e=!1,r={};try{(t=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(r,[]),e=r instanceof Array}catch(t){}return function(r,a){return n(r),i(a),e?t.call(r,a):r.__proto__=a,r}}():void 0)},function(t,e,r){var n=r(0),i=r(58),a=r(59),o=r(4),s=r(1),c=s("iterator"),u=s("toStringTag"),f=a.values;for(var p in i){var l=n[p],g=l&&l.prototype;if(g){if(g[c]!==f)try{o(g,c,f)}catch(t){g[c]=f}if(g[u]||o(g,u,p),i[p])for(var h in a)if(g[h]!==a[h])try{o(g,h,a[h])}catch(t){g[h]=a[h]}}}},function(t,e,r){var n=r(42),i=r(43);t.exports=function(t){return n(i(t))}},function(t,e){var r={}.toString;t.exports=function(t){return r.call(t).slice(8,-1)}},function(t,e){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},function(t,e,r){var n=r(64),i=r(0),a=function(t){return"function"==typeof t?t:void 0};t.exports=function(t,e){return arguments.length<2?a(n[t])||a(i[t]):n[t]&&n[t][e]||i[t]&&i[t][e]}},function(t,e,r){var n,i,a,o=r(70),s=r(0),c=r(7),u=r(4),f=r(3),p=r(26),l=r(34),g=r(32),h=s.WeakMap;if(o){var m=p.state||(p.state=new h),d=m.get,y=m.has,b=m.set;n=function(t,e){return e.facade=t,b.call(m,t,e),e},i=function(t){return d.call(m,t)||{}},a=function(t){return y.call(m,t)}}else{var v=l("state");g[v]=!0,n=function(t,e){return e.facade=t,u(t,v,e),e},i=function(t){return f(t,v)?t[v]:{}},a=function(t){return f(t,v)}}t.exports={set:n,get:i,has:a,enforce:function(t){return a(t)?i(t):n(t,{})},getterFor:function(t){return function(e){var r;if(!c(e)||(r=i(e)).type!==t)throw TypeError("Incompatible receiver, "+t+" required");return r}}}},function(t,e,r){var n=r(0),i=r(4),a=r(3),o=r(27),s=r(49),c=r(20),u=c.get,f=c.enforce,p=String(String).split("String");(t.exports=function(t,e,r,s){var c,u=!!s&&!!s.unsafe,l=!!s&&!!s.enumerable,g=!!s&&!!s.noTargetGet;"function"==typeof r&&("string"!=typeof e||a(r,"name")||i(r,"name",e),(c=f(r)).source||(c.source=p.join("string"==typeof e?e:""))),t!==n?(u?!g&&t[e]&&(l=!0):delete t[e],l?t[e]=r:i(t,e,r)):l?t[e]=r:o(e,r)})(Function.prototype,"toString",(function(){return"function"==typeof this&&u(this).source||s(this)}))},function(t,e,r){var n=r(3),i=r(13),a=r(34),o=r(78),s=a("IE_PROTO"),c=Object.prototype;t.exports=o?Object.getPrototypeOf:function(t){return t=i(t),n(t,s)?t[s]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?c:null}},function(t,e,r){r(51)("Uint8",(function(t){return function(e,r,n){return t(this,e,r,n)}}))},function(t,e,r){"use strict";var n=r(12),i=r(2),a=r(40),o=r(9),s=r(31),c=r(8),u=r(95),f=a.ArrayBuffer,p=a.DataView,l=f.prototype.slice;n({target:"ArrayBuffer",proto:!0,unsafe:!0,forced:i((function(){return!new f(2).slice(1,void 0).byteLength}))},{slice:function(t,e){if(void 0!==l&&void 0===e)return l.call(o(this),t);for(var r=o(this).byteLength,n=s(t,r),i=s(void 0===e?r:e,r),a=new(u(this,f))(c(i-n)),g=new p(this),h=new p(a),m=0;n<i;)h.setUint8(m++,g.getUint8(n++));return a}})},function(t,e){t.exports=!1},function(t,e,r){var n=r(0),i=r(27),a=n["__core-js_shared__"]||i("__core-js_shared__",{});t.exports=a},function(t,e,r){var n=r(0),i=r(4);t.exports=function(t,e){try{i(n,t,e)}catch(r){n[t]=e}return e}},function(t,e,r){var n=r(7);t.exports=function(t,e){if(!n(t))return t;var r,i;if(e&&"function"==typeof(r=t.toString)&&!n(i=r.call(t)))return i;if("function"==typeof(r=t.valueOf)&&!n(i=r.call(t)))return i;if(!e&&"function"==typeof(r=t.toString)&&!n(i=r.call(t)))return i;throw TypeError("Can't convert object to primitive value")}},function(t,e){var r=0,n=Math.random();t.exports=function(t){return"Symbol("+String(void 0===t?"":t)+")_"+(++r+n).toString(36)}},function(t,e,r){var n,i=r(9),a=r(66),o=r(33),s=r(32),c=r(69),u=r(46),f=r(34),p=f("IE_PROTO"),l=function(){},g=function(t){return"<script>"+t+"<\/script>"},h=function(){try{n=document.domain&&new ActiveXObject("htmlfile")}catch(t){}var t,e;h=n?function(t){t.write(g("")),t.close();var e=t.parentWindow.Object;return t=null,e}(n):((e=u("iframe")).style.display="none",c.appendChild(e),e.src=String("javascript:"),(t=e.contentWindow.document).open(),t.write(g("document.F=Object")),t.close(),t.F);for(var r=o.length;r--;)delete h.prototype[o[r]];return h()};s[p]=!0,t.exports=Object.create||function(t,e){var r;return null!==t?(l.prototype=i(t),r=new l,l.prototype=null,r[p]=t):r=h(),void 0===e?r:a(r,e)}},function(t,e,r){var n=r(10),i=Math.max,a=Math.min;t.exports=function(t,e){var r=n(t);return r<0?i(r+e,0):a(r,e)}},function(t,e){t.exports={}},function(t,e){t.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},function(t,e,r){var n=r(44),i=r(29),a=n("keys");t.exports=function(t){return a[t]||(a[t]=i(t))}},function(t,e,r){var n=r(5),i=r(72),a=r(18),o=r(16),s=r(28),c=r(3),u=r(45),f=Object.getOwnPropertyDescriptor;e.f=n?f:function(t,e){if(t=o(t),e=s(e,!0),u)try{return f(t,e)}catch(t){}if(c(t,e))return a(!i.f.call(t,e),t[e])}},function(t,e,r){var n=r(48),i=r(33).concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return n(t,i)}},function(t,e,r){var n=r(6).f,i=r(3),a=r(1)("toStringTag");t.exports=function(t,e,r){t&&!i(t=r?t:t.prototype,a)&&n(t,a,{configurable:!0,value:e})}},function(t,e,r){"use strict";var n,i=r(52),a=r(5),o=r(0),s=r(7),c=r(3),u=r(39),f=r(4),p=r(21),l=r(6).f,g=r(22),h=r(14),m=r(1),d=r(29),y=o.Int8Array,b=y&&y.prototype,v=o.Uint8ClampedArray,_=v&&v.prototype,A=y&&g(y),S=b&&g(b),T=Object.prototype,M=T.isPrototypeOf,O=m("toStringTag"),P=d("TYPED_ARRAY_TAG"),w=i&&!!h&&"Opera"!==u(o.opera),F=!1,E={Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8},B={BigInt64Array:8,BigUint64Array:8},D=function(t){if(!s(t))return!1;var e=u(t);return c(E,e)||c(B,e)};for(n in E)o[n]||(w=!1);if((!w||"function"!=typeof A||A===Function.prototype)&&(A=function(){throw TypeError("Incorrect invocation")},w))for(n in E)o[n]&&h(o[n],A);if((!w||!S||S===T)&&(S=A.prototype,w))for(n in E)o[n]&&h(o[n].prototype,S);if(w&&g(_)!==S&&h(_,S),a&&!c(S,O))for(n in F=!0,l(S,O,{get:function(){return s(this)?this[P]:void 0}}),E)o[n]&&f(o[n],P,n);t.exports={NATIVE_ARRAY_BUFFER_VIEWS:w,TYPED_ARRAY_TAG:F&&P,aTypedArray:function(t){if(D(t))return t;throw TypeError("Target is not a typed array")},aTypedArrayConstructor:function(t){if(h){if(M.call(A,t))return t}else for(var e in E)if(c(E,n)){var r=o[e];if(r&&(t===r||M.call(r,t)))return t}throw TypeError("Target is not a typed array constructor")},exportTypedArrayMethod:function(t,e,r){if(a){if(r)for(var n in E){var i=o[n];i&&c(i.prototype,t)&&delete i.prototype[t]}S[t]&&!r||p(S,t,r?e:w&&b[t]||e)}},exportTypedArrayStaticMethod:function(t,e,r){var n,i;if(a){if(h){if(r)for(n in E)(i=o[n])&&c(i,t)&&delete i[t];if(A[t]&&!r)return;try{return p(A,t,r?e:w&&y[t]||e)}catch(t){}}for(n in E)!(i=o[n])||i[t]&&!r||p(i,t,e)}},isView:function(t){if(!s(t))return!1;var e=u(t);return"DataView"===e||c(E,e)||c(B,e)},isTypedArray:D,TypedArray:A,TypedArrayPrototype:S}},function(t,e,r){var n=r(82),i=r(17),a=r(1)("toStringTag"),o="Arguments"==i(function(){return arguments}());t.exports=n?i:function(t){var e,r,n;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(r=function(t,e){try{return t[e]}catch(t){}}(e=Object(t),a))?r:o?i(e):"Object"==(n=i(e))&&"function"==typeof e.callee?"Arguments":n}},function(t,e,r){"use strict";var n=r(0),i=r(5),a=r(52),o=r(4),s=r(83),c=r(2),u=r(53),f=r(10),p=r(8),l=r(54),g=r(84),h=r(22),m=r(14),d=r(36).f,y=r(6).f,b=r(85),v=r(37),_=r(20),A=_.get,S=_.set,T=n.ArrayBuffer,M=T,O=n.DataView,P=O&&O.prototype,w=Object.prototype,F=n.RangeError,E=g.pack,B=g.unpack,D=function(t){return[255&t]},x=function(t){return[255&t,t>>8&255]},L=function(t){return[255&t,t>>8&255,t>>16&255,t>>24&255]},R=function(t){return t[3]<<24|t[2]<<16|t[1]<<8|t[0]},I=function(t){return E(t,23,4)},C=function(t){return E(t,52,8)},N=function(t,e){y(t.prototype,e,{get:function(){return A(this)[e]}})},j=function(t,e,r,n){var i=l(r),a=A(t);if(i+e>a.byteLength)throw F("Wrong index");var o=A(a.buffer).bytes,s=i+a.byteOffset,c=o.slice(s,s+e);return n?c:c.reverse()},U=function(t,e,r,n,i,a){var o=l(r),s=A(t);if(o+e>s.byteLength)throw F("Wrong index");for(var c=A(s.buffer).bytes,u=o+s.byteOffset,f=n(+i),p=0;p<e;p++)c[u+p]=f[a?p:e-p-1]};if(a){if(!c((function(){T(1)}))||!c((function(){new T(-1)}))||c((function(){return new T,new T(1.5),new T(NaN),"ArrayBuffer"!=T.name}))){for(var k,G=(M=function(t){return u(this,M),new T(l(t))}).prototype=T.prototype,H=d(T),J=0;H.length>J;)(k=H[J++])in M||o(M,k,T[k]);G.constructor=M}m&&h(P)!==w&&m(P,w);var z=new O(new M(2)),W=P.setInt8;z.setInt8(0,2147483648),z.setInt8(1,2147483649),!z.getInt8(0)&&z.getInt8(1)||s(P,{setInt8:function(t,e){W.call(this,t,e<<24>>24)},setUint8:function(t,e){W.call(this,t,e<<24>>24)}},{unsafe:!0})}else M=function(t){u(this,M,"ArrayBuffer");var e=l(t);S(this,{bytes:b.call(new Array(e),0),byteLength:e}),i||(this.byteLength=e)},O=function(t,e,r){u(this,O,"DataView"),u(t,M,"DataView");var n=A(t).byteLength,a=f(e);if(a<0||a>n)throw F("Wrong offset");if(a+(r=void 0===r?n-a:p(r))>n)throw F("Wrong length");S(this,{buffer:t,byteLength:r,byteOffset:a}),i||(this.buffer=t,this.byteLength=r,this.byteOffset=a)},i&&(N(M,"byteLength"),N(O,"buffer"),N(O,"byteLength"),N(O,"byteOffset")),s(O.prototype,{getInt8:function(t){return j(this,1,t)[0]<<24>>24},getUint8:function(t){return j(this,1,t)[0]},getInt16:function(t){var e=j(this,2,t,arguments.length>1?arguments[1]:void 0);return(e[1]<<8|e[0])<<16>>16},getUint16:function(t){var e=j(this,2,t,arguments.length>1?arguments[1]:void 0);return e[1]<<8|e[0]},getInt32:function(t){return R(j(this,4,t,arguments.length>1?arguments[1]:void 0))},getUint32:function(t){return R(j(this,4,t,arguments.length>1?arguments[1]:void 0))>>>0},getFloat32:function(t){return B(j(this,4,t,arguments.length>1?arguments[1]:void 0),23)},getFloat64:function(t){return B(j(this,8,t,arguments.length>1?arguments[1]:void 0),52)},setInt8:function(t,e){U(this,1,t,D,e)},setUint8:function(t,e){U(this,1,t,D,e)},setInt16:function(t,e){U(this,2,t,x,e,arguments.length>2?arguments[2]:void 0)},setUint16:function(t,e){U(this,2,t,x,e,arguments.length>2?arguments[2]:void 0)},setInt32:function(t,e){U(this,4,t,L,e,arguments.length>2?arguments[2]:void 0)},setUint32:function(t,e){U(this,4,t,L,e,arguments.length>2?arguments[2]:void 0)},setFloat32:function(t,e){U(this,4,t,I,e,arguments.length>2?arguments[2]:void 0)},setFloat64:function(t,e){U(this,8,t,C,e,arguments.length>2?arguments[2]:void 0)}});v(M,"ArrayBuffer"),v(O,"DataView"),t.exports={ArrayBuffer:M,DataView:O}},function(t,e){t.exports=function(t){if("function"!=typeof t)throw TypeError(String(t)+" is not a function");return t}},function(t,e,r){var n=r(2),i=r(17),a="".split;t.exports=n((function(){return!Object("z").propertyIsEnumerable(0)}))?function(t){return"String"==i(t)?a.call(t,""):Object(t)}:Object},function(t,e){t.exports=function(t){if(null==t)throw TypeError("Can't call method on "+t);return t}},function(t,e,r){var n=r(25),i=r(26);(t.exports=function(t,e){return i[t]||(i[t]=void 0!==e?e:{})})("versions",[]).push({version:"3.9.1",mode:n?"pure":"global",copyright:"Â© 2021 Denis Pushkarev (zloirock.ru)"})},function(t,e,r){var n=r(5),i=r(2),a=r(46);t.exports=!n&&!i((function(){return 7!=Object.defineProperty(a("div"),"a",{get:function(){return 7}}).a}))},function(t,e,r){var n=r(0),i=r(7),a=n.document,o=i(a)&&i(a.createElement);t.exports=function(t){return o?a.createElement(t):{}}},function(t,e,r){var n=r(61),i=r(62),a=r(2);t.exports=!!Object.getOwnPropertySymbols&&!a((function(){return!Symbol.sham&&(n?38===i:i>37&&i<41)}))},function(t,e,r){var n=r(3),i=r(16),a=r(68).indexOf,o=r(32);t.exports=function(t,e){var r,s=i(t),c=0,u=[];for(r in s)!n(o,r)&&n(s,r)&&u.push(r);for(;e.length>c;)n(s,r=e[c++])&&(~a(u,r)||u.push(r));return u}},function(t,e,r){var n=r(26),i=Function.toString;"function"!=typeof n.inspectSource&&(n.inspectSource=function(t){return i.call(t)}),t.exports=n.inspectSource},function(t,e,r){"use strict";var n,i,a,o=r(2),s=r(22),c=r(4),u=r(3),f=r(1),p=r(25),l=f("iterator"),g=!1;[].keys&&("next"in(a=[].keys())?(i=s(s(a)))!==Object.prototype&&(n=i):g=!0);var h=null==n||o((function(){var t={};return n[l].call(t)!==t}));h&&(n={}),p&&!h||u(n,l)||c(n,l,(function(){return this})),t.exports={IteratorPrototype:n,BUGGY_SAFARI_ITERATORS:g}},function(t,e,r){"use strict";var n=r(12),i=r(0),a=r(5),o=r(80),s=r(38),c=r(40),u=r(53),f=r(18),p=r(4),l=r(8),g=r(54),h=r(86),m=r(28),d=r(3),y=r(39),b=r(7),v=r(30),_=r(14),A=r(36).f,S=r(88),T=r(91).forEach,M=r(56),O=r(6),P=r(35),w=r(20),F=r(94),E=w.get,B=w.set,D=O.f,x=P.f,L=Math.round,R=i.RangeError,I=c.ArrayBuffer,C=c.DataView,N=s.NATIVE_ARRAY_BUFFER_VIEWS,j=s.TYPED_ARRAY_TAG,U=s.TypedArray,k=s.TypedArrayPrototype,G=s.aTypedArrayConstructor,H=s.isTypedArray,J=function(t,e){for(var r=0,n=e.length,i=new(G(t))(n);n>r;)i[r]=e[r++];return i},z=function(t,e){D(t,e,{get:function(){return E(this)[e]}})},W=function(t){var e;return t instanceof I||"ArrayBuffer"==(e=y(t))||"SharedArrayBuffer"==e},V=function(t,e){return H(t)&&"symbol"!=typeof e&&e in t&&String(+e)==String(e)},Y=function(t,e){return V(t,e=m(e,!0))?f(2,t[e]):x(t,e)},X=function(t,e,r){return!(V(t,e=m(e,!0))&&b(r)&&d(r,"value"))||d(r,"get")||d(r,"set")||r.configurable||d(r,"writable")&&!r.writable||d(r,"enumerable")&&!r.enumerable?D(t,e,r):(t[e]=r.value,t)};a?(N||(P.f=Y,O.f=X,z(k,"buffer"),z(k,"byteOffset"),z(k,"byteLength"),z(k,"length")),n({target:"Object",stat:!0,forced:!N},{getOwnPropertyDescriptor:Y,defineProperty:X}),t.exports=function(t,e,r){var a=t.match(/\d+$/)[0]/8,s=t+(r?"Clamped":"")+"Array",c="get"+t,f="set"+t,m=i[s],d=m,y=d&&d.prototype,O={},P=function(t,e){D(t,e,{get:function(){return function(t,e){var r=E(t);return r.view[c](e*a+r.byteOffset,!0)}(this,e)},set:function(t){return function(t,e,n){var i=E(t);r&&(n=(n=L(n))<0?0:n>255?255:255&n),i.view[f](e*a+i.byteOffset,n,!0)}(this,e,t)},enumerable:!0})};N?o&&(d=e((function(t,e,r,n){return u(t,d,s),F(b(e)?W(e)?void 0!==n?new m(e,h(r,a),n):void 0!==r?new m(e,h(r,a)):new m(e):H(e)?J(d,e):S.call(d,e):new m(g(e)),t,d)})),_&&_(d,U),T(A(m),(function(t){t in d||p(d,t,m[t])})),d.prototype=y):(d=e((function(t,e,r,n){u(t,d,s);var i,o,c,f=0,p=0;if(b(e)){if(!W(e))return H(e)?J(d,e):S.call(d,e);i=e,p=h(r,a);var m=e.byteLength;if(void 0===n){if(m%a)throw R("Wrong length");if((o=m-p)<0)throw R("Wrong length")}else if((o=l(n)*a)+p>m)throw R("Wrong length");c=o/a}else c=g(e),i=new I(o=c*a);for(B(t,{buffer:i,byteOffset:p,byteLength:o,length:c,view:new C(i)});f<c;)P(t,f++)})),_&&_(d,U),y=d.prototype=v(k)),y.constructor!==d&&p(y,"constructor",d),j&&p(y,j,s),O[s]=d,n({global:!0,forced:d!=m,sham:!N},O),"BYTES_PER_ELEMENT"in d||p(d,"BYTES_PER_ELEMENT",a),"BYTES_PER_ELEMENT"in y||p(y,"BYTES_PER_ELEMENT",a),M(s)}):t.exports=function(){}},function(t,e){t.exports="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof DataView},function(t,e){t.exports=function(t,e,r){if(!(t instanceof e))throw TypeError("Incorrect "+(r?r+" ":"")+"invocation");return t}},function(t,e,r){var n=r(10),i=r(8);t.exports=function(t){if(void 0===t)return 0;var e=n(t),r=i(e);if(e!==r)throw RangeError("Wrong length or index");return r}},function(t,e,r){var n=r(41);t.exports=function(t,e,r){if(n(t),void 0===e)return t;switch(r){case 0:return function(){return t.call(e)};case 1:return function(r){return t.call(e,r)};case 2:return function(r,n){return t.call(e,r,n)};case 3:return function(r,n,i){return t.call(e,r,n,i)}}return function(){return t.apply(e,arguments)}}},function(t,e,r){"use strict";var n=r(19),i=r(6),a=r(1),o=r(5),s=a("species");t.exports=function(t){var e=n(t),r=i.f;o&&e&&!e[s]&&r(e,s,{configurable:!0,get:function(){return this}})}},function(t,e){var r;r=function(){return this}();try{r=r||new Function("return this")()}catch(t){"object"==typeof window&&(r=window)}t.exports=r},function(t,e){t.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},function(t,e,r){"use strict";var n=r(16),i=r(60),a=r(11),o=r(20),s=r(71),c=o.set,u=o.getterFor("Array Iterator");t.exports=s(Array,"Array",(function(t,e){c(this,{type:"Array Iterator",target:n(t),index:0,kind:e})}),(function(){var t=u(this),e=t.target,r=t.kind,n=t.index++;return!e||n>=e.length?(t.target=void 0,{value:void 0,done:!0}):"keys"==r?{value:n,done:!1}:"values"==r?{value:e[n],done:!1}:{value:[n,e[n]],done:!1}}),"values"),a.Arguments=a.Array,i("keys"),i("values"),i("entries")},function(t,e,r){var n=r(1),i=r(30),a=r(6),o=n("unscopables"),s=Array.prototype;null==s[o]&&a.f(s,o,{configurable:!0,value:i(null)}),t.exports=function(t){s[o][t]=!0}},function(t,e,r){var n=r(17),i=r(0);t.exports="process"==n(i.process)},function(t,e,r){var n,i,a=r(0),o=r(63),s=a.process,c=s&&s.versions,u=c&&c.v8;u?i=(n=u.split("."))[0]+n[1]:o&&(!(n=o.match(/Edge\/(\d+)/))||n[1]>=74)&&(n=o.match(/Chrome\/(\d+)/))&&(i=n[1]),t.exports=i&&+i},function(t,e,r){var n=r(19);t.exports=n("navigator","userAgent")||""},function(t,e,r){var n=r(0);t.exports=n},function(t,e,r){var n=r(47);t.exports=n&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},function(t,e,r){var n=r(5),i=r(6),a=r(9),o=r(67);t.exports=n?Object.defineProperties:function(t,e){a(t);for(var r,n=o(e),s=n.length,c=0;s>c;)i.f(t,r=n[c++],e[r]);return t}},function(t,e,r){var n=r(48),i=r(33);t.exports=Object.keys||function(t){return n(t,i)}},function(t,e,r){var n=r(16),i=r(8),a=r(31),o=function(t){return function(e,r,o){var s,c=n(e),u=i(c.length),f=a(o,u);if(t&&r!=r){for(;u>f;)if((s=c[f++])!=s)return!0}else for(;u>f;f++)if((t||f in c)&&c[f]===r)return t||f||0;return!t&&-1}};t.exports={includes:o(!0),indexOf:o(!1)}},function(t,e,r){var n=r(19);t.exports=n("document","documentElement")},function(t,e,r){var n=r(0),i=r(49),a=n.WeakMap;t.exports="function"==typeof a&&/native code/.test(i(a))},function(t,e,r){"use strict";var n=r(12),i=r(77),a=r(22),o=r(14),s=r(37),c=r(4),u=r(21),f=r(1),p=r(25),l=r(11),g=r(50),h=g.IteratorPrototype,m=g.BUGGY_SAFARI_ITERATORS,d=f("iterator"),y=function(){return this};t.exports=function(t,e,r,f,g,b,v){i(r,e,f);var _,A,S,T=function(t){if(t===g&&F)return F;if(!m&&t in P)return P[t];switch(t){case"keys":case"values":case"entries":return function(){return new r(this,t)}}return function(){return new r(this)}},M=e+" Iterator",O=!1,P=t.prototype,w=P[d]||P["@@iterator"]||g&&P[g],F=!m&&w||T(g),E="Array"==e&&P.entries||w;if(E&&(_=a(E.call(new t)),h!==Object.prototype&&_.next&&(p||a(_)===h||(o?o(_,h):"function"!=typeof _[d]&&c(_,d,y)),s(_,M,!0,!0),p&&(l[M]=y))),"values"==g&&w&&"values"!==w.name&&(O=!0,F=function(){return w.call(this)}),p&&!v||P[d]===F||c(P,d,F),l[e]=F,g)if(A={values:T("values"),keys:b?F:T("keys"),entries:T("entries")},v)for(S in A)(m||O||!(S in P))&&u(P,S,A[S]);else n({target:e,proto:!0,forced:m||O},A);return A}},function(t,e,r){"use strict";var n={}.propertyIsEnumerable,i=Object.getOwnPropertyDescriptor,a=i&&!n.call({1:2},1);e.f=a?function(t){var e=i(this,t);return!!e&&e.enumerable}:n},function(t,e,r){var n=r(3),i=r(74),a=r(35),o=r(6);t.exports=function(t,e){for(var r=i(e),s=o.f,c=a.f,u=0;u<r.length;u++){var f=r[u];n(t,f)||s(t,f,c(e,f))}}},function(t,e,r){var n=r(19),i=r(36),a=r(75),o=r(9);t.exports=n("Reflect","ownKeys")||function(t){var e=i.f(o(t)),r=a.f;return r?e.concat(r(t)):e}},function(t,e){e.f=Object.getOwnPropertySymbols},function(t,e,r){var n=r(2),i=/#|\.prototype\./,a=function(t,e){var r=s[o(t)];return r==u||r!=c&&("function"==typeof e?n(e):!!e)},o=a.normalize=function(t){return String(t).replace(i,".").toLowerCase()},s=a.data={},c=a.NATIVE="N",u=a.POLYFILL="P";t.exports=a},function(t,e,r){"use strict";var n=r(50).IteratorPrototype,i=r(30),a=r(18),o=r(37),s=r(11),c=function(){return this};t.exports=function(t,e,r){var u=e+" Iterator";return t.prototype=i(n,{next:a(1,r)}),o(t,u,!1,!0),s[u]=c,t}},function(t,e,r){var n=r(2);t.exports=!n((function(){function t(){}return t.prototype.constructor=null,Object.getPrototypeOf(new t)!==t.prototype}))},function(t,e,r){var n=r(7);t.exports=function(t){if(!n(t)&&null!==t)throw TypeError("Can't set "+String(t)+" as a prototype");return t}},function(t,e,r){var n=r(0),i=r(2),a=r(81),o=r(38).NATIVE_ARRAY_BUFFER_VIEWS,s=n.ArrayBuffer,c=n.Int8Array;t.exports=!o||!i((function(){c(1)}))||!i((function(){new c(-1)}))||!a((function(t){new c,new c(null),new c(1.5),new c(t)}),!0)||i((function(){return 1!==new c(new s(2),1,void 0).length}))},function(t,e,r){var n=r(1)("iterator"),i=!1;try{var a=0,o={next:function(){return{done:!!a++}},return:function(){i=!0}};o[n]=function(){return this},Array.from(o,(function(){throw 2}))}catch(t){}t.exports=function(t,e){if(!e&&!i)return!1;var r=!1;try{var a={};a[n]=function(){return{next:function(){return{done:r=!0}}}},t(a)}catch(t){}return r}},function(t,e,r){var n={};n[r(1)("toStringTag")]="z",t.exports="[object z]"===String(n)},function(t,e,r){var n=r(21);t.exports=function(t,e,r){for(var i in e)n(t,i,e[i],r);return t}},function(t,e){var r=Math.abs,n=Math.pow,i=Math.floor,a=Math.log,o=Math.LN2;t.exports={pack:function(t,e,s){var c,u,f,p=new Array(s),l=8*s-e-1,g=(1<<l)-1,h=g>>1,m=23===e?n(2,-24)-n(2,-77):0,d=t<0||0===t&&1/t<0?1:0,y=0;for((t=r(t))!=t||t===1/0?(u=t!=t?1:0,c=g):(c=i(a(t)/o),t*(f=n(2,-c))<1&&(c--,f*=2),(t+=c+h>=1?m/f:m*n(2,1-h))*f>=2&&(c++,f/=2),c+h>=g?(u=0,c=g):c+h>=1?(u=(t*f-1)*n(2,e),c+=h):(u=t*n(2,h-1)*n(2,e),c=0));e>=8;p[y++]=255&u,u/=256,e-=8);for(c=c<<e|u,l+=e;l>0;p[y++]=255&c,c/=256,l-=8);return p[--y]|=128*d,p},unpack:function(t,e){var r,i=t.length,a=8*i-e-1,o=(1<<a)-1,s=o>>1,c=a-7,u=i-1,f=t[u--],p=127&f;for(f>>=7;c>0;p=256*p+t[u],u--,c-=8);for(r=p&(1<<-c)-1,p>>=-c,c+=e;c>0;r=256*r+t[u],u--,c-=8);if(0===p)p=1-s;else{if(p===o)return r?NaN:f?-1/0:1/0;r+=n(2,e),p-=s}return(f?-1:1)*r*n(2,p-e)}}},function(t,e,r){"use strict";var n=r(13),i=r(31),a=r(8);t.exports=function(t){for(var e=n(this),r=a(e.length),o=arguments.length,s=i(o>1?arguments[1]:void 0,r),c=o>2?arguments[2]:void 0,u=void 0===c?r:i(c,r);u>s;)e[s++]=t;return e}},function(t,e,r){var n=r(87);t.exports=function(t,e){var r=n(t);if(r%e)throw RangeError("Wrong offset");return r}},function(t,e,r){var n=r(10);t.exports=function(t){var e=n(t);if(e<0)throw RangeError("The argument can't be less than 0");return e}},function(t,e,r){var n=r(13),i=r(8),a=r(89),o=r(90),s=r(55),c=r(38).aTypedArrayConstructor;t.exports=function(t){var e,r,u,f,p,l,g=n(t),h=arguments.length,m=h>1?arguments[1]:void 0,d=void 0!==m,y=a(g);if(null!=y&&!o(y))for(l=(p=y.call(g)).next,g=[];!(f=l.call(p)).done;)g.push(f.value);for(d&&h>2&&(m=s(m,arguments[2],2)),r=i(g.length),u=new(c(this))(r),e=0;r>e;e++)u[e]=d?m(g[e],e):g[e];return u}},function(t,e,r){var n=r(39),i=r(11),a=r(1)("iterator");t.exports=function(t){if(null!=t)return t[a]||t["@@iterator"]||i[n(t)]}},function(t,e,r){var n=r(1),i=r(11),a=n("iterator"),o=Array.prototype;t.exports=function(t){return void 0!==t&&(i.Array===t||o[a]===t)}},function(t,e,r){var n=r(55),i=r(42),a=r(13),o=r(8),s=r(92),c=[].push,u=function(t){var e=1==t,r=2==t,u=3==t,f=4==t,p=6==t,l=7==t,g=5==t||p;return function(h,m,d,y){for(var b,v,_=a(h),A=i(_),S=n(m,d,3),T=o(A.length),M=0,O=y||s,P=e?O(h,T):r||l?O(h,0):void 0;T>M;M++)if((g||M in A)&&(v=S(b=A[M],M,_),t))if(e)P[M]=v;else if(v)switch(t){case 3:return!0;case 5:return b;case 6:return M;case 2:c.call(P,b)}else switch(t){case 4:return!1;case 7:c.call(P,b)}return p?-1:u||f?f:P}};t.exports={forEach:u(0),map:u(1),filter:u(2),some:u(3),every:u(4),find:u(5),findIndex:u(6),filterOut:u(7)}},function(t,e,r){var n=r(7),i=r(93),a=r(1)("species");t.exports=function(t,e){var r;return i(t)&&("function"!=typeof(r=t.constructor)||r!==Array&&!i(r.prototype)?n(r)&&null===(r=r[a])&&(r=void 0):r=void 0),new(void 0===r?Array:r)(0===e?0:e)}},function(t,e,r){var n=r(17);t.exports=Array.isArray||function(t){return"Array"==n(t)}},function(t,e,r){var n=r(7),i=r(14);t.exports=function(t,e,r){var a,o;return i&&"function"==typeof(a=e.constructor)&&a!==r&&n(o=a.prototype)&&o!==r.prototype&&i(t,o),t}},function(t,e,r){var n=r(9),i=r(41),a=r(1)("species");t.exports=function(t,e){var r,o=n(t).constructor;return void 0===o||null==(r=n(o)[a])?e:i(r)}},function(t,e,r){r(51)("Int32",(function(t){return function(e,r,n){return t(this,e,r,n)}}))},function(t,e,r){"use strict";var n=r(12),i=r(41),a=r(13),o=r(2),s=r(98),c=[],u=c.sort,f=o((function(){c.sort(void 0)})),p=o((function(){c.sort(null)})),l=s("sort");n({target:"Array",proto:!0,forced:f||!p||!l},{sort:function(t){return void 0===t?u.call(a(this)):u.call(a(this),i(t))}})},function(t,e,r){"use strict";var n=r(2);t.exports=function(t,e){var r=[][t];return!!r&&n((function(){r.call(null,e||function(){throw 1},1)}))}},function(t,e,r){"use strict";var n=r(12),i=r(0),a=r(40),o=r(56),s=a.ArrayBuffer;n({global:!0,forced:i.ArrayBuffer!==s},{ArrayBuffer:s}),o("ArrayBuffer")},function(t,e,r){"use strict";r.r(e);r(15),r(23),r(24),r(96);function n(t){const{rotation:e}=t,{cropBox:r}=t.boxes,[n,i,a,o]=r;let s,c;switch(e){case 270:s=Math.abs(a-n),c=Math.abs(o-i);break;case 180:c=Math.abs(a-n),s=Math.abs(o-i);break;case 90:s=Math.abs(a-n),c=Math.abs(o-i);break;default:c=Math.abs(a-n),s=Math.abs(o-i)}return{height:s,width:c}}function i(t){const e=t.length*t.BYTES_PER_ELEMENT,r=Module.cwrap("malloc","number",["number"])(e);return Module.HEAPU8.subarray(r,r+e).set(t),r}function a(t){const e=t;for(let t=0;t<e.length;t++){const r=n(e[t]);e[t].width=r.width,e[t].height=r.height}}function o(t){return t&&"function"==typeof t}class s{constructor(t,e){this.value=t,this.next=null,this.priority=e}}var c=class{constructor(){this.first=null}getList(){return this.first}insertList(t){let e=t;for(;null!=e;)this.insert(e.value,e.priority),e=e.next}isEmpty(){return null==this.first}pop(){const t=this.first;return this.first=this.first.next,t.value}peek(){return this.first?this.first.value:null}insert(t,e){const r=new s(t,e);let n=null,i=this.first;for(;null!=i&&!(i.priority>e);)n=i,i=i.next;r.next=i,null==n?this.first=r:n.next=r}removeIf(t,e,r){if(o(t)){let n=null,i=this.first;for(;null!=i;)t(e,i.value)?(r(i.value),null==n?this.first=i.next:n.next=i.next):n=i,i=i.next}}};var u=class{constructor(){this.linkedList=new c}isValidMessage(t){return t&&"object"==typeof t&&void 0!==t.command}isFull(){return 0}isEmpty(){return this.linkedList.isEmpty()}getNext(){let t=null;return this.isEmpty()||(t=this.linkedList.pop()),t}peekNext(){return this.linkedList.peek()}addMessage(t,e,r){let n=r;this.isValidMessage(t)&&(e&&this.doCleanup(e,t),n?"openPDF"!==t.command&&"registerLicense"!==t.command&&(n=Math.max(n,5)):n="registerLicense"===t.command?1:"openPDF"===t.command?3:5,this.isFull()||this.linkedList.insert(t,n))}doCleanup(t,e){const r=AcrobatJS.acrobatjsHelper.sendDeletionMessage.bind(AcrobatJS.acrobatjsHelper);this.linkedList.removeIf(t,e,r)}getMessages(){return this.linkedList.getList()}addMessages(t){this.linkedList.insertList(t)}};function f(t,e,r,n){console.log("Assertion failed: ".concat(UTF8ToString(t),", at: ").concat([e?UTF8ToString(e):"unknown filename",r,n?UTF8ToString(n):"unknown function"]))}function p(t){Module.preInit=t?()=>function(t){const e=["licensing","libjp2k","freetype"];self.FS&&e.forEach(e=>{FS.createLazyFile("/","".concat(e,".wasm"),t("".concat(e,"2.wasm")),!0,!1)})}(Module.locateFile):()=>function(t){const e=["licensing","libjp2k","freetype"];self.FS&&e.forEach(e=>{FS.createLazyFile("/","".concat(e,".wasm"),t("".concat(e,".wasm")),!0,!1)})}(Module.locateFile)}var l=new class{constructor(){var t;this.enableLoggingSupport=!0,t=this.locateFile.bind(this),self.Module=self.Module||{},self.Module.ajsRootUrl=self.Module.ajsRootUrl||"",Module.ajsRootUrl&&!/\/$/.test(Module.ajsRootUrl)&&(Module.ajsRootUrl+="/"),Module.locateFile=Module.locateFile||t,Module.___assert_fail=f}locateFile(t,e){return(e?"/"===e[e.length-1]?e:"".concat(e,"/"):"")+t}startAcrobatJSAsm(t){Module.isAsm=!0,t?importScripts("".concat(Module.ajsRootUrl,"acrobat2.js")):importScripts("".concat(Module.ajsRootUrl,"acrobat.js"))}startAcrobatJSWasm(t){Module.wasmVersion=1001,t?(Module.wasmPath="".concat(Module.ajsRootUrl,"wasm_acrobat2.wasm"),importScripts("".concat(Module.ajsRootUrl,"wasm_acrobat2.js"))):(Module.wasmPath="".concat(Module.ajsRootUrl,"wasm_acrobat.wasm"),importScripts("".concat(Module.ajsRootUrl,"wasm_acrobat.js")))}processLogging(t){if(void 0!==t&&(this.enableLoggingSupport=t),!this.enableLoggingSupport){const t=["log","debug","warn","info"];for(let e=0;e<t.length;e++)console[t[e]]=function(){}}}startAcrobatJS(t,e,r,n){p(t),this.processLogging(e),r&&(Module.TOTAL_MEMORY=Math.max(16*Math.ceil(r/16),268435456)),n&&(Module.shouldSetCacheMemory=!0,Module.T5_CACHE_MEMORY=n),this.startAcrobatJSWasm(t)}};const g=Object.freeze({invalid:0,openPDF:1,getPageRendition:2,getPageActions:3,getPageRangeGeometry:4,extractPageText:5,selectText:6,hitTest:7,getSelectedText:8,getBookmarks:9,getNamedDestinations:10,getAttachments:11,getAttachmentBuffer:12,getHyperlinkData:13,findText:14,getAnnotAppearance:15,createAnnot:16,editAnnot:17,deleteAnnot:18,getAnnots:19,registerLicense:20,getDocumentXMPMetadata:21,editWillBegin:22,editDidEnd:23,processAction:24,editOperationBegin:25,editOperationDone:26,getPageFontList:27,saveChangesToPDF:28,setLinearizedBlockSize:29,getFASFields:30,createFASField:31,deleteFASField:32,updateFASField:33,flattenFASFields:34,getFASFieldAppearance:35,createAnnots:36,deleteAnnots:37,translateFTPDFToWebView:38}),h=Object.freeze({kNoError:0,kZeroByteFile:1,kPDFDownloadingError:2,kIncorrectPassword:3,kLinearizationDictNotFound:4,kUnknownError:5}),m=(Object.freeze({NO_CONTENT:0,TEXT:1,HYPERLINK:2,INVALID:3,IMAGE:4}),Object.freeze({INCORRECT_PASSWORD:3,LINEARIZATION_DICT_NOT_FOUND:4,INCOMPLETE_BUFFER_RANGES_DOWNLOADED:-1,SAB_INDEX_OUT_OF_BOUNDS:-2})),d=Object.freeze({INVALID_BUFFER:"Invalid buffer",SHARED_ARRAY_BUFFER_NOT_SUPPORTED:"Shared array buffer not supported",LINEARIZATION_DICT_NOT_FOUND:"Linearization dict not found",INCOMPLETE_BUFFER_RANGES_DOWNLOADED:"Incomplete pdf buffer ranges downloaded",SAB_INDEX_OUT_OF_BOUNDS:"Shared array buffer index is out of bounds",PASSWORD_PROTECTED_PDF_NOT_SUPPORTED_IN_LINEARIZED_WORKFLOW:"password protected pdf not supported in linearized workflow"});r(97);var y=class{constructor(t,e){this._bitmapData=t,this._key=e,this._refCount=0}get data(){return this._bitmapData}get memory(){return this._bitmapData&&this._bitmapData.data&&this._bitmapData.data.byteLength?this._bitmapData.data.byteLength:0}incrementRefCount(){this._refCount+=1}decrementRefCount(){this._refCount-=1}isReferred(){return 0!==this._refCount}};function b(t){return t>0}var v=class{constructor(t){this._bitmapContainerMap={},this._bitmapMemory=0,this._memoryLimit=t,this._pageBitmapsCache={}}get _sortedPageList(){const t=Object.keys(this._pageBitmapsCache).map(t=>parseInt(t,10));return t.sort((t,e)=>t-e),t}_isValidMemoryLimit(){return this._memoryLimit>0}_isBitmapInPageCache(t,e){return this._pageBitmapsCache[e]&&this._pageBitmapsCache[e][t]}_getBitmapFromPageCache(t,e){return this._pageBitmapsCache[e][t]}_getBitmapContainer(t){return this._bitmapContainerMap[t]}_addBitmapToContainerMap(t,e){if(!this._getBitmapContainer(e)){const r=new y(t,e);this._bitmapContainerMap[e]=r,this._bitmapMemory+=r.memory}this._getBitmapContainer(e).incrementRefCount()}_purgeFromContainerMap(t){const e=this._getBitmapContainer(t);e&&(e.decrementRefCount(),e.isReferred()||(delete this._bitmapContainerMap[t],this._bitmapMemory-=e.memory))}_addBitmapToPageCache(t,e,r){this._addBitmapToContainerMap(t,e),this._pageBitmapsCache[r]||(this._pageBitmapsCache[r]={}),this._pageBitmapsCache[r][e]=t}_purgeBitmapFromPageCache(t,e){delete this._pageBitmapsCache[e][t],this._purgeFromContainerMap(t)}_purgePageCache(t){if(b(t)){const e=this._pageBitmapsCache[t];e&&(Object.keys(e).forEach(e=>{this._purgeBitmapFromPageCache(e,t)}),delete this._pageBitmapsCache[t])}}getBitmap(t,e){if(b(e)){if(this._isBitmapInPageCache(t,e))return this._getBitmapFromPageCache(t,e);const r=this._getBitmapContainer(t);if(r)return this._addBitmapToPageCache(r.data,t,e),r.data}}addBitmaps(t,e){b(e)&&Object.keys(t).forEach(r=>{if(!this._isBitmapInPageCache(r,e)){const n=t[r];this._addBitmapToPageCache(n,r,e)}})}purgeCache(t,e){if(this._sortedPageList.length){const r=this._sortedPageList.slice(),n=t>0?t:r[0],i=e>0?e:r[r.length-1];for(let t=n;t<=i;t+=1)this._purgePageCache(t)}}autoPurgeCache(t){if(b(t)&&this._isValidMemoryLimit()){const e=this._sortedPageList.slice();for(;this._bitmapMemory>this._memoryLimit;){const r=e[0],n=e[e.length-1];if(r===t||n===t)break;n-t>t-r?(this._purgePageCache(n),e.splice(-1,1)):(this._purgePageCache(r),e.splice(0,1))}}}};function _(t,e){if(null==t)return{};var r,n,i=function(t,e){if(null==t)return{};var r,n,i={},a=Object.keys(t);for(n=0;n<a.length;n++)r=a[n],e.indexOf(r)>=0||(i[r]=t[r]);return i}(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(n=0;n<a.length;n++)r=a[n],e.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function A(t){return t&&"string"==typeof t}var S=class{constructor(t,e,r,n={}){this._fontSupport=t,this._networkUtils=e,this._memoryUtils=r,this._cmapFileBufferMap={},this._adobeGlyphNameToUnicodeValue=void 0,this._bitmapBufferPtr=void 0,this._missingFontInfoMap={},this._missingFontMatricesMap={},this._missingChars=[],this._missingBitmapCache=new v(n.cacheMemoryLimit),this.missingFontAvailabilityMap={},this._currentRenderingState={pageNum:0},this._currentKey=void 0,this._externalFontsMap={},this._fontBufferPtrMap={},this._cmapFilePtrMap={},this._fontFilePtrMap={}}_getCurrFontInfo(){return this._missingFontInfoMap[this._getCurrFontMatrix().fontName]}_getCurrFontMatrix(){return this._missingFontMatricesMap[this._currentKey]}_updateCurrentPageBitmaps(t){const e=this._currentRenderingState.pageNum;this._missingBitmapCache.addBitmaps(t,e)}_updateFontAvailability(t){Object.keys(t).forEach(e=>{this.missingFontAvailabilityMap[e]||(this.missingFontAvailabilityMap[e]=t[e])})}_setMissingGlyphData(t){if(t){const{bitmaps:e}=t,r=_(t,["bitmaps"]);this._updateFontAvailability(r),this._updateCurrentPageBitmaps(e)}}_getMissingGlyphData(){this._missingChars.length>0&&(this._fontSupport.sendMissingTextMessage(this._missingChars,this._getCurrFontInfo(),this._getCurrFontMatrix()).then(t=>this._setMissingGlyphData(t)),this._missingChars=[])}_freeBitmapBuffer(){this._bitmapBufferPtr&&(this._memoryUtils.free(this._bitmapBufferPtr),this._bitmapBufferPtr=void 0)}_getMissingTextDataFromCache(t,e){const r={},n=t+e,i=this._missingBitmapCache.getBitmap(n,this._currentRenderingState.pageNum);if(i){const t=new Uint8Array(i.data);r.buffer=this._memoryUtils.getArrayOnWasmHeap(t),r.width=i.width,r.height=i.height}return r}_setCurrentRenderingState(t){this._currentRenderingState={pageNum:t}}setRenderingState(t){this._setCurrentRenderingState(t)}resetRenderingState(){this._missingBitmapCache.autoPurgeCache(this._currentRenderingState.pageNum),this._setCurrentRenderingState(0),this._freeBitmapBuffer()}getResidualGlyphs(){this._getMissingGlyphData()}addExternalFonts(t,e){t&&(this._externalFontsMap[t]=e)}purgeCache(t,e){this._missingBitmapCache.purgeCache(t,e)}_getCmapFile(t){if(!this._cmapFileBufferMap[t]){const e="arraybuffer",r=this._networkUtils.getFileBufferSync("".concat(t,".bin"),e);r&&(this._cmapFileBufferMap[t]=new Uint8Array(r.response))}}getCMAPdata(t){if(!A(t))return 0;if(this._getCmapFile(t),this._cmapFileBufferMap[t]){const e=this._cmapFileBufferMap[t];if(e){const r=this._cmapFilePtrMap[t];let n,i;r?({ptr:i,numBytes:n}=r):(n=e.byteLength,i=this._memoryUtils.getArrayOnWasmHeap(e),this._cmapFilePtrMap[t]={ptr:i,numBytes:n});const a=JSON.stringify({cmapBuffer:i,cmapBufferLen:n});return this._memoryUtils.getStringOnWasmHeap(a)}}return 0}getFontdata(t){if(!A(t))return null;const e="".concat(t,".bin");let r;const n=this._fontFilePtrMap[t];if(n)return({ptr:r}=n),r;const i=this._networkUtils.getFileBufferSync(e,"arraybuffer");if(i){const e=new Uint8Array(i.response);return r=this._memoryUtils.getArrayOnWasmHeap(e),this._fontFilePtrMap[t]={ptr:r},r}return null}getGlyphUnicodeValue(t){if(!A(t))return 0;if(this._adobeGlyphNameToUnicodeValue)return this._adobeGlyphNameToUnicodeValue[t]?this._adobeGlyphNameToUnicodeValue[t]:0;const e=this._networkUtils.getFileBufferSync("AdobeGlyphNameToUnicodeValue.json");return e?(this._adobeGlyphNameToUnicodeValue=JSON.parse(e.responseText),this._adobeGlyphNameToUnicodeValue[t]):0}getFontType(t){const e=this._externalFontsMap[t];if(e){const t=e.type;if(t)return this._memoryUtils.getStringOnWasmHeap(t)}return 0}getFontBufferData(t){let e;const r=this._fontBufferPtrMap[t],n=this._externalFontsMap[t];if(r)e={ptr:r.ptr,length:r.length};else if(n){this._fontSupport.addToExternalFontsAnalytics(t);const r=n.buffer,i=this._memoryUtils.getArrayOnWasmHeap(r),{length:a}=r;this._fontBufferPtrMap[t]={ptr:i,length:a},delete n.buffer,e={ptr:i,length:a}}else e={ptr:0,length:0};const i=JSON.stringify(e);return this._memoryUtils.getStringOnWasmHeap(i)}accumulateMissingCharInfo(t,e){this._missingFontMatricesMap[t]=JSON.parse(e),this._missingFontMatricesMap[t].key=t}accumulateMissingFontInfo(t){const e=JSON.parse(t);this._missingFontInfoMap[e.fontName]=e.fontInfo}getSystemFontStatus(t){const e=0,r=1,n=2;return!0===this.missingFontAvailabilityMap[t]?r:!1===this.missingFontAvailabilityMap[t]?n:e}getMissingTextPointer(t,e){this._freeBitmapBuffer();const r=this._getMissingTextDataFromCache(t,e);return r.buffer?this._bitmapBufferPtr=r.buffer:((this._currentKey!==t||this._missingChars.length>10)&&(this._getMissingGlyphData(),this._currentKey=t),-1===this._missingChars.indexOf(e)&&this._missingChars.push(e),this._fontSupport.setPageHasMissingGlyphs(!0),r.buffer=0,r.width=0,r.height=0),this._memoryUtils.getStringOnWasmHeap(JSON.stringify(r))}};var T=class{constructor(){this.reset()}trigger(t,...e){const r=this.observerMap[t];void 0!==t&&void 0!==r&&r.forEach(t=>{t(...e)})}subscribe(t,e){let r=this.observerMap[t];void 0!==t&&(void 0===r&&(this.observerMap[t]=[],r=this.observerMap[t]),r.push(e))}unsubscribe(t,e){if(this.observerMap[t]){const r=this.observerMap[t];r.includes(e)&&r.splice(r.indexOf(e),1)}}reset(){this.observerMap={}}};function M(t,e){if(null==t)return{};var r,n,i=function(t,e){if(null==t)return{};var r,n,i={},a=Object.keys(t);for(n=0;n<a.length;n++)r=a[n],e.indexOf(r)>=0||(i[r]=t[r]);return i}(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(n=0;n<a.length;n++)r=a[n],e.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function O(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function P(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?O(Object(r),!0).forEach((function(e){w(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):O(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function w(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var F=class{constructor(t,e,r,n){this._callMethod=t,this._cppHelper=new S(this,e,r,n),this._exposeCppHelperGlobally(),this._hasMissingGlyphs=!1,this._missingFontPromiseArray=[],this._signalDispatcher=new T,this._analyticsEvents=["externalFontsUsed","missingFont"],this._missingGlyphAnalyticsData={externalFontsUsed:[],missingFont:{}}}_exposeCppHelperGlobally(){self.AcrobatJS=self.AcrobatJS||{},AcrobatJS.fonts=this._cppHelper}_resetState(){this._hasMissingGlyphs=!1,this._missingGlyphAnalyticsData={externalFontsUsed:[],missingFont:{}},this._cppHelper.resetRenderingState()}_getMissingGlyphsStatus(){return this._hasMissingGlyphs?this._getResidualGlyphs().then(()=>({hasMissingGlyphs:this._hasMissingGlyphs})):Promise.resolve({hasMissingGlyphs:this._hasMissingGlyphs})}_isAnalyticsDataValid(t){const e=this._missingGlyphAnalyticsData[t];switch(t){case"externalFontsUsed":return Array.isArray(e)&&e.length>0;case"missingFont":return e.constructor===Object&&Object.keys(e).length>0;default:return!1}}_sendAnalytics(){this._analyticsEvents.forEach(t=>{this._isAnalyticsDataValid(t)&&this._signalDispatcher.trigger(t,{eventName:t,data:this._missingGlyphAnalyticsData[t]})})}async _getResidualGlyphs(){this._cppHelper.getResidualGlyphs(),await Promise.all(this._missingFontPromiseArray),this._missingFontPromiseArray=[]}setPageHasMissingGlyphs(t){this._hasMissingGlyphs=t}sendMissingTextMessage(t,e,r){const n={fontInfo:P(P({},e),{},{matrix:r}),chars:t},i=this._callMethod("generateGlyphsBitmap",n).then(t=>{const{analyticsData:e}=t,r=M(t,["analyticsData"]);return e&&(this._missingGlyphAnalyticsData.missingFont=P(P({},this._missingGlyphAnalyticsData.missingFont),t.analyticsData)),r});return this._missingFontPromiseArray.push(i),i}addToExternalFontsAnalytics(t){t&&this._missingGlyphAnalyticsData.externalFontsUsed.push(t)}addExternalFonts(t,e){this._cppHelper.addExternalFonts(t,e)}beforePageRenderingBegin(t){this._cppHelper.setRenderingState(t)}afterPageRenderingEnd(){return this._getMissingGlyphsStatus().then(t=>(this._sendAnalytics(),this._resetState(),t))}beforeAnnotRenderingBegin(t){this._cppHelper.setRenderingState(t)}afterAnnotRenderingEnd(){return this._getMissingGlyphsStatus().then(t=>(this._sendAnalytics(),this._resetState(),t))}subscribeToFontUsageAnalytics(t){this._analyticsEvents.forEach(e=>{this._signalDispatcher.subscribe(e,t)})}purgeCache(t,e){this._cppHelper.purgeCache(t,e)}};r(99);var E=class{free(t){Module._free(t)}getArrayOnWasmHeap(t){let e,r;t instanceof ArrayBuffer?(e=t.byteLength,r=new Uint8Array(t)):ArrayBuffer.isView(t)?(e=t.byteLength,r=t):(e=t.length,r=t);const n=Module._malloc(e);return Module.writeArrayToMemory(r,n),n}getStringOnWasmHeap(t){const e=lengthBytesUTF8(t)+1,r=Module._malloc(e);return stringToUTF8(t,r,e),r}};var B=class{getFileBufferSync(t,e=""){return function(t,e,r=""){const n=new XMLHttpRequest;return n.open(t,e,!1),r&&(n.responseType=r),n.send(),4===n.readyState&&200===n.status?r?{response:n.response}:{responseText:n.responseText}:null}("GET",Module.ajsRootUrl+t,e)}};const D=Object.freeze({PAGE:0,PAGE_CACHE:1,THUMBNAIL:2}),x=(Object.freeze({TEXT:1,LINK:2,FREE_TEXT:4,LINE:8,SQUARE:16,CIRCLE:32,POLYGON:64,POLYLINE:128,HIGHLIGHT:256,UNDERLINE:512,SQUIGGLY:1024,STRIKEOUT:2048,CARET:4096,STAMP:8192,INK:16384,POPUP:32768,FILE_ATTACHMENT:65536,SOUND:131072,MOVIE:262144,SCREEN:524288,WIDGET:1048576,WATERMARK:2097152,THREE_D:4194304,FREE_TEXT_TYPEWRITER:8388608,ALL:4294967295}),Object.freeze({PRINT:4,MODIFY_CONTENT:8,COPY_EXTRACT_CONTENT:16,COMMENTING:32,FORM_FILLING:256,COPY_EXTRACT_CONTENT_ACCESSIBILITY:512,DOCUMENT_ASSEMBLY:1024,HIGH_QUALITY_PRINT:2048}),Object.freeze({NO_CONTENT:0,TEXT:1,HYPERLINK:2,INVALID:3,IMAGE:4}),Object.freeze({BACKGROUND:"background",TEXT:"text"})),L=(Object.freeze({NOT_STARTED:-1,IN_PROGRESS:0,COMPLETE:1}),"createAnnots"),R="deleteAnnots";function I(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function C(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?I(Object(r),!0).forEach((function(e){N(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):I(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function N(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var j=function(){V({message:"proxyInitDone"}),this.callMethod=function(t,e){return new Promise((r,n)=>{const i={command:t,params:e};i.resolveId||(i.resolveId=(J+=1,J),z[i.resolveId]=t=>{t.error?n(t.error):r(t)}),V(i)})};const t=new F(this.callMethod,new B,new E,{cacheMemoryLimit:52428800}),e=new Map;let r,n,s,c,f,p,y,b=0,v=0,_=0,A=0,S=!1,T=!1,M=null,O=!1,P=null,w=0,I=!1,N=!1,j=0,U=256e6,k={},G={},H=null,J=0;const z={};let W={};function V(t,e){let r=e;r=r||[],self.postMessage(t,r)}function Y(t){return t&&t.params&&"ajsEdit"===t.params.source}async function X(e,r){const n=JSON.parse(e);M=r;const{hasMissingGlyphs:i}=await t.afterAnnotRenderingEnd();if(i){return ft(C({},M)),null}if(M=null,n.foundAppearance){const t=AcrobatJS.acrobatjsHelper.getTempBuffer();n.buffer=t,n.mimeType=AcrobatJS.acrobatjsHelper.getBufferMimeType(),n.transferList="buffer",AcrobatJS.acrobatjsHelper.resetTempBuffer()}return n}function K(){t.subscribeToFontUsageAnalytics(t=>{!function(t){const{eventName:e,data:r}=t;switch(e){case"externalFontsUsed":r&&r.length>0&&V({command:"trackingEvent",eventName:"FontUsed",data:{isInEditMode:I,fontsList:r}});break;case"missingFont":r&&Object.keys(r).length>0&&(W=r)}}(t)})}function q(t){const e=t;var n;e.params.buffer&&(r=new Uint8Array(e.params.buffer),e.params.pdfBufferLength=r.length,e.params.pdfBuffer=i(r)),b=e.params.pdfDownloadTime,null!=AcrobatJS.performanceLoggerObj&&(AcrobatJS.performanceLoggerObj.logInitialTimings("pdfDownloadTime",b),r&&AcrobatJS.performanceLoggerObj.logPdfSize(r.length)),e.params.linearizationInfo&&(e.params.pdfBufferLength=e.params.linearizationInfo.pdfSize,n=e.params.linearizationInfo,k.partialPDFSAB=n.partialPDFSAB,k.pdfSize=n.pdfSize,k.initialPDFBuffer=n.initialBuffer,G.logged=!1,G.bytesForFirstPage=0,G.totalNetworkCalls=2)}async function Q(i){if(i&&i.command&&i.command in g){!function(){const t=HEAP8.byteLength,e=r?r.byteLength:0,n=t+e+j;I&&n>U&&(V({command:"trackingEvent",eventName:"memoryThresholdExceeded",data:{memInfo:{totalMemory:n,distribution:{heapSize:t,totalFontBufSize:j,pdfSize:e}}}}),U*=2)}(),AcrobatJS.acrobatjsHelper.setCurrEvent(i),"getPageRendition"===i.command&&i.params?t.beforePageRenderingBegin(i.params.pageNum):("getAnnotAppearance"===i.command&&i.params||"getFASFieldAppearance"===i.command&&i.params)&&t.beforeAnnotRenderingBegin(i.params.pageNum);try{M&&M.msgId===i.msgId||(y=performance.now()),function(t){const e=t;if("openPDF"===e.command&&q(e),"getPageRendition"===e.command&&e.params&&e.params.frameWidth&&w){const{devicePixelRatio:t}=e.params,r=e.params.zoomLevel/t*w;e.params.frameWidth<r&&(e.params.zoomLevel=t*e.params.frameWidth/r,delete e.params.frameWidth)}if("processAction"===e.command){const t=e.params;t&&t.stream&&(AcrobatJS.acrobatjsHelper.setTempBuffer(t.stream),delete t.stream)}if("editOperationBegin"===e.command&&(N=!0),"editOperationDone"===e.command&&(N=!1),"createAnnot"!==e.command&&"editAnnot"!==e.command||(dt(e.params),e.params.data=JSON.stringify(e.params.data)),e.command!==L&&e.command!==R||(e.params.data=JSON.stringify(e.params.data)),("createFASField"===e.command||"updateFASField"===e.command)&&e.params&&e.params.data){const t=e.params.data;"signature"!==t.type&&"initials"!==t.type||!t.appearanceData||(t.appearanceData.buffer?t.signatureType="bitmap":t.appearanceData.vectorStream&&(t.signatureType="vector")),dt(e.params)}}(i),V({lastProcessedMessage:i}),H(g[i.command],JSON.stringify(i.params)),I||"editWillBegin"!==i.command&&"editOperationBegin"!==i.command?"editDidEnd"===i.command&&(I=!1,V({activePluginMode:""})):(I=!0,V({activePluginMode:"edit"}));const t=AcrobatJS.acrobatjsHelper.getResponse();if(AcrobatJS.acrobatjsHelper.resetResponse(),t){let r;if(r=o(et[i.command])?await et[i.command](t,i):JSON.parse(t),r){const t={command:i.command,msgId:i.msgId};Y(i)&&(t.msgId=i.params.id,t.editOperationDoneId=i.params.editOperationDoneId,t.performanceData=function(t){self.performanceMarker||(self.performanceMarker={});self.performanceMarker[t]||(self.performanceMarker[t]={editOperationDone:{},getRendition:{}});return self.performanceMarker[t]}(i.params.editOperationDoneId));let n=null;if("registerLicense"!==i.command)t.data=r,t.timeTaken=performance.now()-y;else{Object.keys(r).forEach(e=>{t[e]=r[e]})}t.data&&t.data.transferList&&(t.transferList=t.data.transferList,delete t.data.transferList,n=[t.data[t.transferList].buffer]),Y(i)&&(a=i.params.source,e.has(a))?yt(t,n,i.params.source):V(t,n)}}}catch(t){if("openPDF"===i.command&&k.pdfSize){const e={command:i.command,msgId:i.msgId,data:t,error:"Open Linearized workflow Failed",errorCode:"Open Linearized workflow Failed"};k={},G={},V(e,null)}else{console.log("exception",t);let e="";"string"==typeof t&&-1!==t.indexOf("enlarge memory")&&(e="ENLARGE_MEMORY_ASM"),function(t,e){gt(!0);const i={msgId:t.msgId,data:{currEvent:t,msgList:n.getMessages(),stackTrace:self.switchJSStackTrace},error:"SWITCHJS",errorCode:e},a=HEAP8.byteLength;let o=r?r.byteLength:0;k.pdfSize&&(o=k.pdfSize);i.data.memInfo={totalMemory:a+o+j,distribution:{heapSize:a,pdfSize:o,totalFontBufSize:j}},V(i)}(i,e)}}}else console.error("Unknown event");var a}function Z(t){let e,r,i,a=n;var s;t&&(e=t.message,r=t.messageHandler,t.messageQueue&&(a=t.messageQueue)),o(r)||(r=tt),S||(A+=1,i=e||a.peekNext(),i&&(!function(t){const{command:e}=t,r=function(t){if(t&&t.command){return["editWillBegin","editDidEnd","processAction","editOperationBegin","editOperationDone"].some(e=>e===t.command)}return!1}(t)||Y(t)||!N;return O&&("setLinearizedBlockSize"===e||"openPDF"===e||"registerLicense"===e||T)&&r&&!M}(i)?$(10):ct(s=i)&&(!function(t){return t&&t.isDelayed}(s)||A<5)?(i.isDelayed=!0,console.log("Delaying",i),$(10)):(A=function(t){return t&&("isOverText"===t.command||"textSelection"===t.command||"keyboardSelection"===t.command)}(i)?0:A,ct(i)&&console.log("processing",i),e||(e=a.getNext()),AcrobatJS.acrobatjsHelper.setCurrEvent(e),r(e))))}function $(t){const e=AcrobatJS.acrobatjsHelper.getCurrEvent();e&&"editOperationDone"===e.command&&Z();const r=s.peekNext();r&&!M?(!function(t){let e=t;for(;e;){Z({messageHandler:Q,messageQueue:s}),e=s.peekNext()}}(r),$(0)):P||(P=setTimeout(()=>{P=null,Z()},t))}async function tt(t){await Q(t),n.isEmpty()||M||$(0)}const et={openPDF:function(t){const e=JSON.parse(t);return T=!0,e.errorCode===h.kIncorrectPassword||e.errorCode===h.kLinearizationDictNotFound||e.pages&&(a(e.pages),w=e.pages[0].boxes.cropBox?e.pages[0].width:0),e},getPageRangeGeometry:function(t){const e=JSON.parse(t);return e.pages&&(a(e.pages),w=0===w&&e.pages[0].boxes.cropBox?e.pages[0].width:0),e},getPageRendition:async function(e,r){const n=JSON.parse(e);M=r;const{hasMissingGlyphs:i}=await t.afterPageRenderingEnd();if(i&&!n.isPartial){return ft(C({},M)),null}M=null,!1===G.logged&&(V({command:"trackingEvent",eventName:"LinearizedFirstPageInfo",data:{pdfSize:k.pdfSize,bytesForFirstPage:G.bytesForFirstPage,totalNetworkCalls:G.totalNetworkCalls}}),G.logged=!0),n.pageNum+=1;const a=AcrobatJS.acrobatjsHelper.getTempBuffer();return n.buffer=a,n.transferList="buffer",n.mimeType=AcrobatJS.acrobatjsHelper.getBufferMimeType(),n.jp2kAnalytics=AcrobatJS.acrobatjsHelper.jp2kAnalytics,AcrobatJS.acrobatjsHelper.resetTempBuffer(),W&&Object.keys(W).length>0&&(n.missingFontAnalytics=W,W={}),n},getAttachmentBuffer:function(t){const e=JSON.parse(t),r=AcrobatJS.acrobatjsHelper.getTempBuffer();return e.buffer=r,e.transferList="buffer",AcrobatJS.acrobatjsHelper.resetTempBuffer(),e},getAnnotAppearance:async function(t,e){const r=await X(t,e);return r&&!r.foundAppearance&&(r.buffer="",r.mimeType="",r.transferList=""),r},getFASFieldAppearance:async function(t,e){return await X(t,e)}};function rt(e,r,n){if("getPageRendition"===r.command){if(t.purgeCache(),!r.params||!r.viewState)return!1;if(r.params.requestType!==D.THUMBNAIL)return!n(e,r)}return!1}const nt={onGetPageRendition:function(t,e){if(void 0===t.params.requestType)return!1;switch(e.command){case"getAnnotAppearance":return!(!e.params||!t.params||it(t,e)&&ut(t,e))||!!(e.params&&t.viewState&&ot(t,e));case"getPageRendition":return!!(e.params&&t.params&&e.viewState&&t.viewState&&e.params.requestType===t.params.requestType)&&(1!==e.params.requestType?!(!ot(t,e)||!st(t,e)):!(it(t,e)&&ut(t,e)&&!st(t,e)));default:return!1}},onHitTest:function(t,e){return at(t,e)},onExtractPageText:function(t,e){return!!(at(t,e)&&e.params&&function(t,e){return t.params.pageNum===e.params.pageNum}(t,e))},onSelectText:function(t,e){return at(t,e)},onGetSelectedText:function(t,e){return at(t,e)},onClearMessageQueue:function(t,e){return!!t.params&&pt(t.params.evtName)(t,e)},onZoomLevelChange:function(t,e){return rt(t,e,it)},onHighContrastThemeChange:function(t,e){return rt(t,e,ut)}};function it(t,e){return t.params.zoomLevel===e.params.zoomLevel}function at(t,e){return t.command===e.command}function ot(t,e){return!!t.viewState.pagesInView&&(e.params.pageNum<t.viewState.pagesInView.start||e.params.pageNum>t.viewState.pagesInView.end)}function st(t,e){return t.viewState.cacheWindow&&-1===t.viewState.cacheWindow.indexOf(e.params.pageNum)}function ct(t){return!!t&&"getPage"===t.command&&t.params&&"cache"===t.params.type}function ut(t,e){return function(t,e){return JSON.stringify(t[x.BACKGROUND])===JSON.stringify(e[x.BACKGROUND])&&JSON.stringify(t[x.TEXT])===JSON.stringify(e[x.TEXT])}(t.params.colorPallete||{},e.params.colorPallete||{})}function ft(t){M=null,Z({message:t})}function pt(t){const e="on".concat(t.charAt(0).toUpperCase()).concat(t.slice(1));return nt[e]}function lt(t,e){n.isEmpty()&&!M&&$(10),n.addMessage(t,pt(t.command),e)}function gt(t){S=t}function ht(t){const e=t.data;var r,n;"editOperationDone"===e.command&&yt(e,null,e.params.pluginName),r=e,n=5,s.isEmpty()?(s.addMessage(r,void 0,n),$(10)):s.addMessage(r,void 0,n)}function mt(t){return{command:t.command,msgId:t.msgId,data:{msgList:n.getMessages()}}}function dt(t){const e=t;e.data&&e.data.appearanceData&&e.data.appearanceData.buffer&&(AcrobatJS.acrobatjsHelper.setImageAppearanceData(e.data.appearanceData),delete e.data.appearanceData.buffer)}function yt(t,r,n){const i=r||[],a=e.has(n)?e.get(n):null;a?a.postMessage(t,i):console.error("message port not found for plugin:".concat(n))}this.updatePDFBytes=function(t){r=new Uint8Array(t),V({command:"updatePDFBuffer",pdfBuffer:t})},this.printPerformanceDataMessage=function(t){const e={command:"PerfData",params:{}};e.params.data=t,V(e)},this.getLinearizedPDFSize=function(){return k.pdfSize},this.handleFetchPDFBufferRangesError=function(t){switch(t){case m.INCOMPLETE_BUFFER_RANGES_DOWNLOADED:throw new Error(d.INCOMPLETE_BUFFER_RANGES_DOWNLOADED);case m.SAB_INDEX_OUT_OF_BOUNDS:throw new Error(d.SAB_INDEX_OUT_OF_BOUNDS)}},this.fetchPDFBytesFromMainThread=function(t){let e=[];if(!1===G.logged)for(let e=0;e<t.length;e++)G.bytesForFirstPage+=t[e].end-t[e].start+1;if(1===t.length&&0===t[0].start&&t[0].end<=1024)e.push(k.initialPDFBuffer);else if(this.pdfBuffer)for(let r=0;r<t.length;r++)e.push(new Uint8Array(this.pdfBuffer.slice(t[r].start,t[r].end+1)));else if(t.length>=1){!1===G.logged&&(G.totalNetworkCalls+=1);const r=new Int32Array(k.partialPDFSAB);V({command:"fetchPDFBufferRanges",ranges:t});const n=0,i=0,a=1,o=0;Atomics.wait(r,0,n),this.handleFetchPDFBufferRangesError(r[0]),e=function(t,e){const r=[];let n=e.length;for(let i=0;i<e.length;i++){const e=t[i],a=new Uint8Array(t.slice(n,n+e));n+=e,r.push(a)}return r}(r,t),r.fill(o,i,a)}return e},this.logMainProcessingStart=function(){_=(new Date).getTime(),v=_-self.prejs_time,console.log("ASM/AcrobatJS initialization time: ".concat(v.toString())),null!==AcrobatJS.performanceLoggerObj&&AcrobatJS.performanceLoggerObj.logInitialTimings("runtimeSetupTime",v),p=(new Date).getTime()},this.logSaveTime=function(t){console.log("Save Time: ",t)},this.logScriptDownloadTime=function(){V({command:"wasmInitTime",time:performance.now()-f})},this.getPDFData=function(){return r||null},this.resetPDFData=function(){r=null},this.sendInitReply=function(){setTimeout(()=>{V({command:"init",importScriptTotalTime:f-c}),O=!0},10)},this.sendMessage=function(t){V(t)},this.sendDeletionMessage=function(t){},n=new u,s=new u,self.addEventListener("message",function(a){const{data:o}=a,s=o.priority||1;switch(o.command){case"init":!function(t){const e=t.params.useFullBuild,r=t.params.enableLogging;K(),c=performance.now(),l.startAcrobatJS(e,r,t.params.totalMemory,t.params.t5Cache),f=performance.now(),H=Module.cwrap("eventHandler",null,["number","string"])}(o);break;case"setPDFBuffer":{this.pdfBuffer=o.params.buffer;const t=new Uint8Array(o.params.buffer);Module._setPDFBytes(i(t),t.length,1);break}case"openPDF":lt(o,s);break;case"addMessagePort":!function(t){const r=t.params.port,{pluginName:n}=t.params;r.onmessage=ht,e.set(n,r),V({command:t.command,msgId:t.msgId})}(o);break;case"removeMessagePort":!function(t){const{pluginName:r}=t.params,n=e.has(r)?e.get(r):null;n&&(n.close(),n.onmessage=null,e.delete(r))}(o);break;case"getContentBuffer":!function(t){V({command:"getContentBuffer",data:{buffer:r},msgId:t.msgId})}(o);break;case"missingFontBitmaps":{const{missingTextData:t,resolveId:e}=o.params;z[e](t);break}case"getMessages":{const t=mt(o),r=[];e.forEach(t=>{r.push(t)}),t.data.currEvent=AcrobatJS.acrobatjsHelper.getCurrEvent(),t.data.pluginPortsMap=e,V(t,r);break}case"getMsgList":V(mt(o));break;case"addMessages":n.addMessages(o.params.msgList),$(0);break;case"setStateToNotSwitching":gt(!1),$(0);break;case"addFontForViewing":!function(e){t.addExternalFonts(e.params.name,{buffer:new Uint8Array(e.params.buffer),type:e.params.type}),j+=e&&e.params&&e.params.buffer?e.params.buffer.byteLength:0}(o);break;case"clearMessageQueue":n.doCleanup(pt(o.command),o),V(o);break;default:lt(o,s)}}.bind(this))};const U=new class{constructor(t){this.tempBuffer=void 0,this.messagingProvider=t,this.bufferMimeType=void 0,this.currEvent=null,this.imageDataPtr=null,this.jp2kAnalytics={},this.currEventResponse="",this.tempStreamPtr=null,this.pdfBufRangesToFetch=[],this.imageAppearanceData={},this.pageRenderTimes={},this.suffix=0}getImageAppearanceData(){return this.imageAppearanceData}setImageAppearanceData(t){this.imageAppearanceData.buffer=t.buffer,this.imageAppearanceData.height=t.height,this.imageAppearanceData.width=t.width}getCurrEvent(){return this.currEvent}getLinearizedPDFSize(){return this.messagingProvider.getLinearizedPDFSize()}addRangeToFetch(t,e){this.pdfBufRangesToFetch.push({start:t,end:e})}fetchPDFBytesFromMainThread(){if(this.pdfBufRangesToFetch.length>=1){const t=this.messagingProvider.fetchPDFBytesFromMainThread(this.pdfBufRangesToFetch);this.pdfBufRangesToFetch=[];let e=t.length;for(let r=0;r<t.length;r++){const n=i(t[r]);Module._setPDFBytes(n,t[r].length),e=1}return e}return 0}allocateAndStoreAppearanceBuffer(){const t=this.getImageAppearanceData();if(t&&t.buffer&&t.buffer.length<=2**31-1){const e=new Uint8Array(t.buffer);this.imageDataPtr=Module._malloc(e.byteLength);return Module.HEAPU8.subarray(this.imageDataPtr,this.imageDataPtr+e.byteLength).set(e),Module._setImageAppearanceBuffer(this.imageDataPtr,t.width,t.height),1}return 0}dllLoadFailure(t){const e={error:"dllLoadFailure",errMsg:t};this.messagingProvider.sendMessage(e)}recordJP2KAnalytics(t){t&&(this.jp2kAnalytics[t]=this.jp2kAnalytics[t]||0,this.jp2kAnalytics[t]+=1)}logPageTimingData(t,e){this.pageRenderTimes["p".concat(t+1,"__").concat(this.suffix)]=e,this.suffix+=1}getPageRenderTimes(){return this.pageRenderTimes}setCurrEvent(t){this.currEvent=t}callGetTempBuffer(){const t=new Uint8Array(this.tempBuffer);this.tempStreamPtr=i(t);Module.cwrap("getTempBuffer",null,["number","number"])(this.tempStreamPtr,t.length)}callFreeTempBuffer(){Module._free(this.tempStreamPtr)}saveNewPDFBuffer(t,e,r,n){this.extractBuffer(t,e,r,n),this.messagingProvider.updatePDFBytes(this.tempBuffer)}extractBuffer(t,e,r,n){let i=r;"number"==typeof t&&"number"==typeof e&&e>=0&&t>=0&&(i=!0,this.tempBuffer=i?HEAP8.slice(t,t+e):HEAP8.subarray(t,t+e),this.bufferMimeType=n)}getTempBuffer(){return this.tempBuffer}getBufferMimeType(){return this.bufferMimeType}setTempBuffer(t){this.tempBuffer=t}resetTempBuffer(){this.tempBuffer=null}logMainProcessingStart(){this.messagingProvider.logMainProcessingStart()}logSaveTime(t){this.messagingProvider.logSaveTime(t)}logScriptDownloadTime(){this.messagingProvider.logScriptDownloadTime()}sendInitReply(){this.messagingProvider.sendInitReply()}setResponse(t){"getPageRendition"===this.currEvent.command&&this.currEventResponse||(this.currEventResponse=t)}getResponse(){return this.currEventResponse}resetResponse(){this.currEventResponse=""}printPerformanceData(t){this.messagingProvider.printPerformanceDataMessage(t)}sendDeletionMessage(t){this.messagingProvider.sendDeletionMessage(t)}setFTPDFWebViewHTML(t,e,r){const n=HEAP8.slice(t,t+e);this.messagingProvider.sendMessage({command:"setFTPDFWebViewHTML",html:n,translationStatus:r})}setFTPDFWebViewResource(t,e,r,n){const i=HEAP8.slice(e,e+r);this.messagingProvider.sendMessage({command:"setFTPDFWebViewResource",resourceURL:t,resourceContent:i,resourceMimeType:n})}}(new j);(AcrobatJS=AcrobatJS||{}).acrobatjsHelper=U,AcrobatJS.performanceLoggerObj=null;e.default=AcrobatJS}]).default;