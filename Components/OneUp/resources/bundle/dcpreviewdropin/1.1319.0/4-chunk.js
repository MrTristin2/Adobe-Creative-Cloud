(window["webpackJsonp-preview"]=window["webpackJsonp-preview"]||[]).push([[4],{VWu9:function(e,t,n){"use strict";n.r(t),n.d(t,"handleTestApis",(function(){return O}));var a=n("rePB"),o=n("Nlzp"),i=n("pHvw"),r=n("Fe7q"),c=n("WP1V"),u=n("CCUJ"),s=n("qvCU"),l=n("2vnA"),g=n("EoPz"),p=n("6ytk"),d=n("Ibcn"),b=n.n(d),f=function simulateMouseDragToPointOnPage(e,t,n){var a,o=document.querySelectorAll(".".concat(b.a.parent))[n];return a={pageX:e+=o.getBoundingClientRect().left,pageY:t+=o.getBoundingClientRect().top,buttons:1,cancelable:!1,target:o},g.a.handleMouseMove(a,n,i)},w=n("JaY7"),v=(n("ipJX"),n("Czc8")),h=n("u5D8"),A=function sendTestApiResponse(e){return function(t,n,o){var i=function createReply(e,t,n){return Object(a.a)({message:"testApiReply",status:t,id:e},t?"value":"error",n)}(t,n,o);window.testApiReply&&window.testApiReply(i),e&&window.parent.postMessage(i,e)}},O=function handleTestApis(e){return function(t){var n=t.id,a=t.args,d=(a=void 0===a?{}:a).params,O=void 0===d?{}:d,P=A(e);switch(n){case"isDocumentReady":Object(l.when)((function(){return Object(r.w)(i)||Object(u.s)(i)}),(function(){var e=!Object(u.s)(i),t={success:e};e?t.totalPages=Object(u.Q)(i):t.failureReason=Object(u.y)(i),P(n,!0,t)}));break;case"isPageLoaded":var R=O.pageNumber,S=void 0===R?1:R;Object(c.n)(i,S-1)===s.z.LOADED?P(n,!0,S):Object(l.when)((function(){return Object(c.n)(i,S-1)===s.z.LOADED}),(function(){P(n,!0,S)}));break;case"selectText":var C=O.pageNumber,m=O.startX,T=O.startY,j=O.endX,k=O.endY;(function simulateMouseMoveToPointOnPage(e,t,n){var a,o=document.querySelectorAll(".".concat(b.a.parent))[n];return a={pageX:e+=o.getBoundingClientRect().left,pageY:t+=o.getBoundingClientRect().top,buttons:0,target:o},g.a.handleMouseMove(a,n,i)})(m,T,C-1).then((function(){!function simulateMouseDownOnPoint(e,t,n){var a,o=document.querySelectorAll(".".concat(b.a.parent))[n];a={pageX:e+=o.getBoundingClientRect().left,pageY:t+=o.getBoundingClientRect().top,buttons:1,target:o},g.a.handleMouseDown(a,n,i)}(m,T,C-1),f(m+1,T+1,C-1).then((function(){f(j,k,C-1).then((function(e){!function simulateMouseUpOnPoint(e,t,n){var a,o=document.querySelectorAll(".".concat(b.a.parent))[n];a={pageX:e+=o.getBoundingClientRect().left,pageY:t+=o.getBoundingClientRect().top,buttons:1,target:o},g.a.handleMouseUp(a,n,i)}(j,k,C-1),P(n,!0,e)}))}))}));break;case"getFindTextData":(function getAllSearchResults(){var e=Object(v.l)(i);if(e)return e.getAllSearchResults()})().then((function(e){P(n,!0,e)}));break;case"getCurrentFindResult":P(n,!0,function getCurrentSearchResult(){var e=Object(v.l)(i);if(e)return e.getCurrentSearchResult()}());break;case"getSelectedText":(function getSelectedText(){return Object(p.b)(i)})().then((function(e){P(n,!0,e)}));break;case"getIsSwitchedJS":P(n,!0,o.a.isSwitchedJS());break;case"getPageZoomLevel":var y=O.pageIndex;P(n,!0,Object(w.i)(i,y));break;case"getPDFCoordinate":var D=O.xPosition,M=O.yPosition,x=O.pageIndex;h.a.getExposedApis("AJS_TEST",["pageView"]).then((function(e){P(n,!0,e.pageView.transformViewToPDF(D,M,x-1))}));break;case"getViewCoordinate":var B=O.xPosition,J=O.yPosition,V=O.pageIndex;h.a.getExposedApis("AJS_TEST",["pageView"]).then((function(e){P(n,!0,e.pageView.transformPDFToView(B,J,V-1))}));break;default:console.error("Not whitelisted API : ".concat(n," called")),P(n,!1,"ApiNotAllowed")}}}}}]);
