(window["webpackJsonp-pdfverbs-web"]=window["webpackJsonp-pdfverbs-web"]||[]).push([[44],{B7uT:function(t,e,n){t.exports=n("1Xvy")("zt3F")},IBLQ:function(t,e,n){t.exports=n("1Xvy")("bUN9")},InDm:function(t,e,n){(e=n("JPst")(!1)).push([t.i,".spectrum-SplitButton {\n  position: relative;\n  display: -ms-inline-flexbox;\n  display: inline-flex;\n  -ms-flex-direction: row;\n      flex-direction: row;\n  vertical-align: top;\n}\n.spectrum-SplitButton-action + .spectrum-SplitButton-trigger {\n    margin-left: 0;\n  }\n.spectrum-Button + .spectrum-SplitButton {\n  margin-left: 12px;\n}\n.spectrum-SplitButton-action {\n  margin-left: 0;\n\n  border-radius: 16px 0 0 16px;\n}\n.spectrum-SplitButton-action.spectrum-Button--cta {\n    margin-inline-end: 2px;\n  }\n.spectrum-SplitButton-action:after {\n    border-top-right-radius: 2px;\n    border-bottom-right-radius: 2px;\n  }\n.spectrum-SplitButton-trigger {\n  margin-left: 0;\n\n  border-radius: 0 16px 16px 0;\n  border-left-width: 0;\n\n  padding-left: 8px;\n  padding-right: 10px;\n\n  min-width: 0;\n}\n.spectrum-SplitButton-trigger.spectrum-Button--cta {\n    border-inline-start-width: 2px;\n  }\n.spectrum-SplitButton-trigger.focus-ring {\n    box-shadow: none;\n  }\n.spectrum-SplitButton-trigger:after {\n    border-top-left-radius: 2px;\n    border-bottom-left-radius: 2px;\n  }\n.spectrum-SplitButton-icon {\n  display: block;\n  margin-top: 1px;\n}\n.spectrum-SplitButton-action,\n.spectrum-SplitButton-trigger {\n  position: relative;\n}\n.spectrum-SplitButton-action:focus, .spectrum-SplitButton-trigger:focus {\n    z-index: 1;\n  }\n.spectrum-SplitButton-action .spectrum-Button-label + .spectrum-Icon {\n    margin-left: 12px;\n  }\n.spectrum-SplitButton--left .spectrum-SplitButton-action {\n    border-radius: 0 16px 16px 0;\n    margin-right: 0;\n    margin-left: 0;\n  }\n.spectrum-SplitButton--left .spectrum-SplitButton-action.spectrum-Button--cta {\n      padding-left: 12px;\n      margin-left: 2px;\n    }\n.spectrum-SplitButton--left .spectrum-SplitButton-action:after {\n      border-radius: 2px 16px 16px 2px;\n    }\n.spectrum-SplitButton--left .spectrum-SplitButton-trigger {\n    margin-right: 0;\n\n    border-radius: 16px 0 0 16px;\n\n    border-left-width: 2px;\n    border-right-width: 0;\n\n    padding-right: 8px;\n    padding-left: 10px;\n  }\n.spectrum-SplitButton--left .spectrum-SplitButton-trigger.spectrum-Button--cta {\n      border-inline-end-width: 2px;\n    }\n.spectrum-SplitButton--left .spectrum-SplitButton-trigger:after {\n      border-radius: 16px 2px 2px 16px;\n    }\n",""]),t.exports=e},"RP+R":function(t,e,n){var r=n("LboF"),i=n("InDm");"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[t.i,i,""]]);var o={insert:"head",singleton:!1};r(i,o);t.exports=i.locals||{}},VpWC:function(t,e,n){"use strict";n.r(e);var r=n("upjz"),i=n.n(r),o=n("prSB"),l=n.n(o),a=n("jQsN"),c=n.n(a),s=n("butC"),u=n.n(s),p=n("2bPg"),d=n.n(p),f=n("BRlI"),m=n.n(f),b=n("tquP"),g=n.n(b),v=n("00an"),B=n.n(v),S=n("tLe6"),h=n.n(S),x=n("q1tI"),y=n.n(x),w=n("17x9"),k=n.n(w),O=n("JRPe"),I=n("+lnk"),_=n("cs1J"),C=n.n(_),R=n("X977"),D=n("9I+6"),L=n("3v9k"),N=n("zbya"),P="/build/src/dropins/LifecycleSplitButton/LifecycleSplitButton.jsx",T=I.logging.getLogger("LifecycleSplitButton"),E="split.filepicker.button.options.device",M=[{labelId:"split.filepicker.button.options.recent",value:"recent"},{labelId:"split.filepicker.button.options.documents",value:"document-list"},{labelId:E,value:"device"}],q={labelId:"split.filepicker.button.options.connector.add",value:"add-connector"},j=function(t){B()(LifecycleSplitButton,t);var e=h()(LifecycleSplitButton);function LifecycleSplitButton(t){var n;d()(this,LifecycleSplitButton),(n=e.call(this,t)).onClick=function(){var t=n.state.selectedOption;n.props.onClick(t)},n.onSelect=function(){var t=u()(c.a.mark((function _callee(t){return c.a.wrap((function _callee$(e){for(;;)switch(e.prev=e.next){case 0:return n.setState({selectedOption:t},n.onClick),e.next=3,I.providers.user();case 3:e.sent.setPreferences("dcweb/split_button_choice",t),n.analyticsUtil.sendEvent(n.analyticsSubcategory,L.a.types.splitButton,L.a.subTypes.preferenceChanged,{content:{source:t}});case 6:case"end":return e.stop()}}),_callee)})));return function(e){return t.apply(this,arguments)}}(),n.setUserPrefOption=u()(c.a.mark((function _callee2(){var t,e,r;return c.a.wrap((function _callee2$(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,I.providers.user();case 2:return t=i.sent,i.next=5,t.getPreferences("dcweb/split_button_choice");case 5:e=i.sent,r=e||"device",n.setState({selectedOption:r});case 8:case"end":return i.stop()}}),_callee2)}))),n.getConnectorSplitButtonOptions=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2?arguments[2]:void 0,r=[],i=[],o=e.indexOf("all")>=0;return t.forEach((function(t){var a=t.connectorType,c=t.connectorId;if(o||e.includes(a)){var s="".concat(a,":").concat(c),u={labelId:"split.filepicker.button.options.connector",value:s,connectorType:a},p=n.getEmailAddress(s);p.then((function(t){u=l()(l()({},u),{},{email:t}),r.push(u)})).catch((function(t){return T.error("Failed to fetch connector email address",t)})),i.push(p)}})),Promise.all(i).then((function(){return r})).catch((function(t){return T.error("Failed to fetch connector split button options",t)}))},n.updateSplitButtonOptions=u()(c.a.mark((function _callee3(){var t,e,r,o,l;return c.a.wrap((function _callee3$(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,I.providers["dcweb-access"]();case 3:if(!a.sent.hasStorageConnectorsAccess()){a.next=25;break}return t=[],a.next=8,I.providers["storage-connectors"]();case 8:return e=a.sent,a.next=11,e.getAllConnectors();case 11:return r=a.sent,o="verb-".concat(n.props.verb),a.next=15,e.getDropinAcceptConnectors(o,n.props.id);case 15:if((l=a.sent).length){a.next=20;break}n.setState({splitButtonOptions:[].concat(M)}),a.next=25;break;case 20:return a.next=22,n.getConnectorSplitButtonOptions(r,l,e);case 22:t=a.sent,t=[].concat(i()(t),[q]),n.setState({splitButtonOptions:[].concat(M,i()(t))});case 25:a.next=30;break;case 27:a.prev=27,a.t0=a.catch(0),T.error("Failed to fetch connector options for split button",a.t0);case 30:case"end":return a.stop()}}),_callee3,null,[[0,27]])}))),n.isSelected=function(t){return n.state.selectedOption===t},n.isMobile=function(){return"MOBILE"===n.props.device},n.filePickerOptions=function(){return n.state.splitButtonOptions.map((function(t){var e,r=t.value,i=n.isMobile()?E:"split.filepicker.button.options.computer",o="device"===r?i:t.labelId,l=t.email,a=t.connectorType;return e=l&&a?n.props.intl.formatMessage({id:o},{email:l,connectorType:a}):n.props.intl.formatMessage({id:o}),y.a.createElement(R.MenuItem,{key:r,role:"menuitemradio",value:r,selected:n.isSelected(r),"data-test-id":"menuItem".concat(r),__self:g()(n),__source:{fileName:P,lineNumber:221,columnNumber:9}},e)}))},n.state={selectedOption:"device",splitButtonOptions:M};var r=n.props,o=r.id,a=r.verb;return n.analyticsSubcategory=Object(L.e)(a),n.analyticsUtil=new L.b(L.a.workflows.acrobat,o),n}return m()(LifecycleSplitButton,[{key:"componentDidMount",value:function componentDidMount(){this.setUserPrefOption(),this.updateSplitButtonOptions()}},{key:"componentDidUpdate",value:function componentDidUpdate(t){t.verb!==this.props.verb&&(this.setUserPrefOption(),this.updateSplitButtonOptions())}},{key:"render",value:function render(){var t=this.props,e=t.labelId,n=t.intl,r=t.buttonTextId,i=n.formatMessage({id:r});return y.a.createElement(C.a,{label:i,variant:"cta",onClick:this.onClick,"aria-labelledby":e,onSelect:this.onSelect,"data-test-id":"splitButton",__self:this,__source:{fileName:P,lineNumber:237,columnNumber:7}},this.filePickerOptions())}}]),LifecycleSplitButton}(y.a.Component);j.propTypes={intl:O.intlShape.isRequired,onClick:k.a.func.isRequired,labelId:k.a.string.isRequired,verb:k.a.string.isRequired,id:k.a.string.isRequired,device:k.a.oneOf(N.a).isRequired,buttonTextId:k.a.string.isRequired};var z=Object(O.injectIntl)(j),J=Object(D.a)()(z);e.default=J},X977:function(t,e,n){t.exports=n("1Xvy")("eIzE")},cs1J:function(t,e,n){t.exports=n("oA3l")},i8i4:function(t,e,n){t.exports=n("hrl5")("O27J")},oA3l:function(t,e,n){"use strict";var r=n("TqRt");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i,o=r(n("pVnL")),l=r(n("QILm")),a=r(n("lwsE")),c=r(n("W8MJ")),s=r(n("a1gu")),u=r(n("Nsbk")),p=r(n("7W2i")),d=r(n("gKdT")),f=r(n("D3Lu")),m=r(n("B7uT")),b=r(n("TSYQ")),g=r(n("IBLQ")),v=r(n("zfgE")),B=r(n("u20u")),S=n("X977"),h=r(n("17x9")),x=r(n("q1tI")),y=r(n("i8i4"));n("RP+R");var w=(0,d.default)(i=function(t){function SplitButton(t){var e;return(0,a.default)(this,SplitButton),(e=(0,s.default)(this,(0,u.default)(SplitButton).call(this,t))).buttonId=(0,g.default)(),e}return(0,p.default)(SplitButton,t),(0,c.default)(SplitButton,[{key:"onKeyDown",value:function onKeyDown(t){"ArrowDown"!==t.key&&"Down"!==t.key||!t.altKey&&t.target!==y.default.findDOMNode(this.dropdownRef.triggerRef)||(t.preventDefault(),t.stopPropagation(),this.dropdownRef.overlayTrigger.show(t)),this.props.onKeyDown&&this.props.onKeyDown(t)}},{key:"render",value:function render(){var t=this,e=this.props,n=e.children,r=e.className,i=e.id,a=void 0===i?this.buttonId:i,c=e.onSelect,s=e.onOpen,u=e.onClose,p=e.variant,d=e.disabled,g=(0,l.default)(e,["children","className","id","onSelect","onOpen","onClose","variant","disabled"]);return x.default.createElement(v.default,{ref:function ref(e){return t.dropdownRef=e},className:(0,b.default)("spectrum-SplitButton",r),alignRight:!0,onSelect:c,onOpen:s,onClose:u,onKeyDown:this.onKeyDown,role:"group","aria-labelledby":a},x.default.createElement(f.default,(0,o.default)({variant:p},(0,B.default)(g),{disabled:d,className:"spectrum-SplitButton-action",id:a})),x.default.createElement(f.default,{variant:p,className:"spectrum-SplitButton-trigger","aria-labelledby":a,disabled:d,dropdownTrigger:!0},x.default.createElement(m.default,{size:null,className:"spectrum-SplitButton-icon"})),x.default.createElement(S.Menu,{"aria-labelledby":a},n))}}]),SplitButton}(x.default.Component))||i;e.default=w,w.propTypes={children:h.default.node,onSelect:h.default.func,onOpen:h.default.func,onClose:h.default.func,variant:h.default.oneOf(["primary","secondary","cta"])}},zfgE:function(t,e,n){t.exports=n("1Xvy")("4B18")}}]);
