(window["webpackJsonp-pdfverbs-web"]=window["webpackJsonp-pdfverbs-web"]||[]).push([[24],{DnId:function(e,t,r){"use strict";r.d(t,"a",(function(){return x}));var n=r("jQsN"),s=r.n(n),a=r("butC"),c=r.n(a),o=r("+lnk"),i=r("qDLo"),u=r("pukD"),l=r("3v9k"),p=r("Ea6J"),d=r("qdzF"),f=r("Jo/A"),b=r("ip5t"),v=r("OHuI"),g=function(){var e=c()(s.a.mark((function _callee(e){var t,n,a;return s.a.wrap((function _callee$(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,e;case 2:return t=s.sent,s.next=5,r.e(81).then(r.bind(null,"2sKE"));case 5:return n=s.sent,a=n.default,s.abrupt("return",new a(t));case 8:case"end":return s.stop()}}),_callee)})));return function getErrorUtil(t){return e.apply(this,arguments)}}(),x=function(){var e=c()(s.a.mark((function _callee2(e,t,r,n,a){var c,x,h,m,k,y,w,_,O,E,C,j,J,I,F,A=arguments;return s.a.wrap((function _callee2$(s){for(;;)switch(s.prev=s.next){case 0:return c=A.length>5&&void 0!==A[5]?A[5]:{},s.next=3,o.providers["lifecycle-progress"]();case 3:return x=s.sent,s.next=6,o.providers["lifecycle-bootstrap"]();case 6:if(h=s.sent,m=r.parentJobId,k=x.getJobById(m),y=k.childJobIds,w=k.uncProgressEntry,_=k.onModalClose,!((!m||1===y.length)&&t!==b.a)){s.next=22;break}return s.next=14,h.reportErrorsToLifecycleProgress(t,a,r,c);case 14:if(!w){s.next=19;break}return s.next=17,o.providers.progress();case 17:s.sent.removeProgressEntry(w);case 19:_&&_(),s.next=52;break;case 22:return e||(e=new l.b(l.a.workflows.acrobat,t)),s.next=25,Object(v.a)(r);case 25:return O=s.sent,E=Object(l.c)([O])||{},a.code===f.n&&c.pageCount?E.page_count=Object(l.g)(c.pageCount):a.code===f.h&&c.opCount?E.page_count=Object(l.g)(c.opCount):c&&c.connectorType&&(E.source=c.connectorType),s.next=30,Object(p.d)(t);case 30:if(C=s.sent,s.t0=C.clickContext,s.t0){s.next=39;break}if(s.t1=C.getClickContext,!s.t1){s.next=38;break}return s.next=37,C.getClickContext();case 37:s.t1=s.sent;case 38:s.t0=s.t1;case 39:return j=s.t0,J=C.verb,e.sendErrorEvent(t,a,{source:{click_context:j},verb:{name:J},content:E}),s.next=44,g(n);case 44:return I=s.sent,s.next=47,I.getErrorInfo(r,a,c);case 47:return F=s.sent,I.showErrToast(F.message),x.updateJob({jobId:r.jobId,stage:u.a.ERROR,status:i.a.DONE,progress:0}),s.next=52,Object(d.a)(m);case 52:case"end":return s.stop()}}),_callee2)})));return function reportErrorOrToast(t,r,n,s,a){return e.apply(this,arguments)}}()},OHuI:function(e,t,r){"use strict";var n=r("jQsN"),s=r.n(n),a=r("butC"),c=r.n(a),o=r("+lnk"),i=function(){var e=c()(s.a.mark((function _callee(e){var t,r,n;return s.a.wrap((function _callee$(s){for(;;)switch(s.prev=s.next){case 0:if(t=e,e.assetUploadPromise||e.assetForOperation){s.next=7;break}if(!e.childJobIds.length){s.next=7;break}return s.next=5,o.providers["lifecycle-progress"]();case 5:r=s.sent,t=r.getJobById(e.childJobIds[0]);case 7:return s.next=9,t.assetUploadPromise;case 9:if(s.t1=s.sent,s.t1){s.next=12;break}s.t1=t.assetForOperation;case 12:if(s.t0=s.t1,s.t0){s.next=15;break}s.t0={};case 15:return n=s.t0,s.abrupt("return",n.inputFile||n);case 17:case"end":return s.stop()}}),_callee)})));return function getAssetInJob(t){return e.apply(this,arguments)}}();t.a=i},dkWa:function(e,t,r){"use strict";r.d(t,"b",(function(){return n})),r.d(t,"a",(function(){return s}));var n={Default:"lifecycle.status.storage.importing",OneDrive:"lifecycle.status.onedrive.importing",GDrive:"lifecycle.status.gdrive.importing"},s={Default:"lifecycle.status.storage.exporting",OneDrive:"lifecycle.status.onedrive.exporting",GDrive:"lifecycle.status.gdrive.exporting"}},fkAN:function(e,t,r){"use strict";r.r(t);var n=r("upjz"),s=r.n(n),a=r("DjBF"),c=r.n(a),o=r("prSB"),i=r.n(o),u=r("jQsN"),l=r.n(u),p=r("butC"),d=r.n(p),f=r("2bPg"),b=r.n(f),v=r("BRlI"),g=r.n(v),x=r("+lnk"),h=r("pukD"),m=r("2/nz"),k=function verbToFormat(e){switch(e){case m.f:case m.j:case m.n:case m.u:case m.A:return"pdf";case m.p:return"xlsx";case m.r:return"jpg";case m.s:return"pptx";case m.t:return"docx";default:return"unknown"}},y=r("ip5t"),w=r("3v9k"),_=r("DMWh"),O=r("Ea6J"),E=r("qDLo"),C=r("Jo/A"),j=r("CyNz"),J=r("yqqT"),I=r("DO1T"),F=r("DnId"),A=r("NuY2"),S=r("dkWa"),T=r("Vy9/"),P=r("OHuI"),D=function getMessage(e){return Object(T.a)(x.locale2.getLocale()).then((function(t){var r=t[e];return r||e}))},L=function(){function LifecycleBootstrap(){var e=this;b()(this,LifecycleBootstrap),this.ready=d()(l.a.mark((function _callee(){var t;return l.a.wrap((function _callee$(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,x.providers.dcapi();case 2:return t=r.sent,e.dcapi=t.getDcapi(),r.abrupt("return",e);case 5:case"end":return r.stop()}}),_callee)}))),this.getMaxFileSize=function(){var e=d()(l.a.mark((function _callee2(e,t){var r,n,s;return l.a.wrap((function _callee2$(a){for(;;)switch(a.prev=a.next){case 0:if(r=0,!e){a.next=17;break}if(!x.auth2.isSignedIn||!t){a.next=11;break}return a.next=5,x.providers.limits2();case 5:return n=a.sent,a.next=8,n.getStaticLimits()[t][e];case 8:r=a.sent,a.next=17;break;case 11:return a.next=13,x.providers.limits();case 13:return s=a.sent,a.next=16,s.getStaticLimits()[e];case 16:r=a.sent;case 17:return void 0===r&&(r=0),a.abrupt("return",1024*Math.max(r,102400));case 19:case"end":return a.stop()}}),_callee2)})));return function(t,r){return e.apply(this,arguments)}}(),this.getExtension=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return(e.split(".").slice(1).pop()||"").toLowerCase()},this.isSupportedFileSize=function(e,t){return e>=1&&e<=t},this.isSupportedFileType=function(t,r){var n=e.getExtension(t);return r.includes(n)},this.processChildJob=function(){var e=d()(l.a.mark((function _callee3(e){var t,r,n,s,a,c,o;return l.a.wrap((function _callee3$(u){for(;;)switch(u.prev=u.next){case 0:return t=e.parentJobId,u.next=3,x.providers["lifecycle-progress"]();case 3:if(r=u.sent,n=!0,s=0,!t){u.next=20;break}if(a=r.getJobById(t),a.childJobIds.forEach((function(e){var t=r.getJobById(e),a=t.status,c=t.stage;n=n&&(a===E.a.DONE||a===E.a.UPLOAD_COMPLETE||a===E.a.ERROR),a!==E.a.ERROR&&c!==h.a.ERROR&&(s+=1)})),c={jobId:t},s){u.next=15;break}c=i()(i()({},c),{},{status:E.a.ERROR,stage:h.a.DROPZONE,navConfig:null,progress:0}),u.next=19;break;case 15:if(o=n?E.a.UPLOAD_COMPLETE:E.a.UPLOADING,a.status!==o){u.next=18;break}return u.abrupt("return");case 18:c=i()(i()({},c),{},{status:o});case 19:r.updateJob(c);case 20:case"end":return u.stop()}}),_callee3)})));return function(t){return e.apply(this,arguments)}}(),this.isEligibleForFreeOp=function(){var e=d()(l.a.mark((function _callee4(e){var t,r,n,s,a;return l.a.wrap((function _callee4$(c){for(;;)switch(c.prev=c.next){case 0:if(!x.auth2.isSignedIn){c.next=23;break}return c.next=3,x.providers.user();case 3:return t=c.sent,c.next=6,t.isFreeUser();case 6:if(!c.sent){c.next=9;break}return c.abrupt("return",!0);case 9:return c.next=11,t.getLimitsConversions();case 11:return r=c.sent,n=!1,c.next=15,x.discovery.callBootstrapMethod(e,"getLimitNames");case 15:if(c.t0=c.sent,c.t0){c.next=18;break}c.t0={};case 18:return s=c.t0,a=s.process,(void 0===a?[]:a).forEach((function(e){r[e]&&r[e].remaining>0&&(n=!0)})),c.abrupt("return",n);case 23:return c.abrupt("return",!1);case 24:case"end":return c.stop()}}),_callee4)})));return function(t){return e.apply(this,arguments)}}(),this.getVerbLimit=function(){var e=d()(l.a.mark((function _callee5(e){var t;return l.a.wrap((function _callee5$(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,x.providers.limits2();case 2:return t=r.sent,r.abrupt("return",t.getLimit(e));case 4:case"end":return r.stop()}}),_callee5)})));return function(t){return e.apply(this,arguments)}}(),this.shouldUpsell=function(){var e=d()(l.a.mark((function _callee6(e){var t;return l.a.wrap((function _callee6$(r){for(;;)switch(r.prev=r.next){case 0:if(!x.router.getURLSearchParams().get("showUpsell")){r.next=3;break}return r.abrupt("return",!0);case 3:return r.next=5,x.providers.limits2();case 5:return t=r.sent,r.next=8,t.getLimit(e);case 8:if(-1!==r.sent.remaining){r.next=11;break}return r.abrupt("return",!1);case 11:return r.abrupt("return",!t.canPerform(e));case 12:case"end":return r.stop()}}),_callee6)})));return function(t){return e.apply(this,arguments)}}(),this.getLimitsCookieValue=function(e){var t=document.cookie.match("(^|;) ?".concat(e,"=([^;]*)(;|$)"));return t?t[2]:null},this.decrementLimitsCookiesForFreeUser=function(){var t=d()(l.a.mark((function _callee8(t,r){var n,s,a;return l.a.wrap((function _callee8$(c){for(;;)switch(c.prev=c.next){case 0:if(r!==A.b){c.next=2;break}return c.abrupt("return");case 2:return c.next=4,Object(y.H)();case 4:if(!c.sent){c.next=7;break}return c.abrupt("return");case 7:return c.next=9,t.getLimitNames();case 9:return n=c.sent,s=n.process,c.next=13,t.getCookieNames();case 13:a=c.sent,s.forEach(function(){var t=d()(l.a.mark((function _callee7(t){var r,n,s,c,o,i,u,p,d,f;return l.a.wrap((function _callee7$(l){for(;;)switch(l.prev=l.next){case 0:if(!(r=a[t]||null)){l.next=17;break}return n=r.name,s=r.expiration,l.next=5,Object(y.s)(t);case 5:return c=l.sent,o=Object(y.r)(n),i=null,o?i=1*o:((u=new Date).setTime(u.getTime()+s),i=u.getTime()),l.t0=Math,l.next=12,Object(y.k)(n,c);case 12:l.t1=l.sent,p=l.t0.max.call(l.t0,l.t1,0),d="expires=".concat(new Date(i).toUTCString()),e.os&&e.browser||(f=window.UAParser&&new window.UAParser,e.os=f.getOS(),e.browser=f.getBrowser()),Object(I.h)(e.browser,e.os)?(document.cookie="".concat(n,"-expiration=").concat(i,"; ").concat(d,"; path=/; SameSite=None; secure"),document.cookie="".concat(n,"=").concat(p,"; ").concat(d,"; path=/; SameSite=None; secure")):(document.cookie="".concat(n,"-expiration=").concat(i,"; ").concat(d,"; path=/"),document.cookie="".concat(n,"=").concat(p,"; ").concat(d,"; path=/"));case 17:case"end":return l.stop()}}),_callee7)})));return function(e){return t.apply(this,arguments)}}());case 15:case"end":return c.stop()}}),_callee8)})));return function(e,r){return t.apply(this,arguments)}}(),this.getJobsFromParent=function(){var e=d()(l.a.mark((function _callee9(e){var t,r,n,s;return l.a.wrap((function _callee9$(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,x.providers["lifecycle-progress"]();case 2:return t=a.sent,r=t.getJobById(e),n=[],s=r.childJobIds,(void 0===s?[]:s).forEach((function(e){n.push(t.getJobById(e))})),a.abrupt("return",n);case 8:case"end":return a.stop()}}),_callee9)})));return function(t){return e.apply(this,arguments)}}(),this.getAssetsToExport=function(){var e=d()(l.a.mark((function _callee10(e,t){var r,n,s,a,c,o;return l.a.wrap((function _callee10$(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,x.providers["lifecycle-progress"]();case 2:return r=i.sent,n=r.getJobById(e),a=n.assetForOperation||n.inputAsset,c=a.importedAsset,o=a.origAsset,s=t.multiple_asset_result?t.multiple_asset_result.map((function(e){return{uri:e.uri,importedAsset:c,origAsset:o}})):{uri:t.asset_result.uri,importedAsset:c,origAsset:o},i.abrupt("return",s);case 8:case"end":return i.stop()}}),_callee10)})));return function(t,r){return e.apply(this,arguments)}}(),this.exportConnectorAsset=function(){var t=d()(l.a.mark((function _callee11(t,r){var n,s,a,c,o=arguments;return l.a.wrap((function _callee11$(i){for(;;)switch(i.prev=i.next){case 0:if(n=o.length>2&&void 0!==o[2]?o[2]:"rename",!r){i.next=11;break}return i.next=4,x.providers["storage-connectors"]();case 4:return a=i.sent,i.next=7,e.getAssetsToExport(t,r);case 7:return c=i.sent,i.next=10,a.exportFiles(c,{conflict_behaviour:n});case 10:s=i.sent;case 11:return i.abrupt("return",{exportedAssets:s});case 12:case"end":return i.stop()}}),_callee11)})));return function(e,r){return t.apply(this,arguments)}}(),this.importConnectorAssets=function(){var t=d()(l.a.mark((function _callee13(t,r){var n,s,a,c;return l.a.wrap((function _callee13$(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,Object(O.d)(r);case 2:if(n=o.sent,o.t0=n.clickContext,o.t0){o.next=11;break}if(o.t1=n.getClickContext,!o.t1){o.next=10;break}return o.next=9,n.getClickContext();case 9:o.t1=o.sent;case 10:o.t0=o.t1;case 11:return s=o.t0,o.next=14,x.providers["lifecycle-progress"]();case 14:return a=o.sent,o.next=17,Promise.all(t.map(function(){var t=d()(l.a.mark((function _callee12(t){var c,o,u,p,d,f,b,v,g,x,h,m,k;return l.a.wrap((function _callee12$(l){for(;;)switch(l.prev=l.next){case 0:return c=t.assetForOperation,o=t.jobId,u=t.parentJobId,l.next=3,D(S.b[c.connectorType]);case 3:return p=l.sent,u&&a.updateJob({jobId:u,connectorMessage:p}),d=a.updateJob({jobId:o,connectorMessage:p}),b=new w.b(w.a.workflows.acrobat,"LifecycleBootstrap"),v=c.connectorType,g=i()(i()({},Object(w.c)([{size:c.size,type:c.type}])),{},{source:v}),l.prev=9,b.sendEvent(r,w.a.types.job,w.a.subTypes.importing,{source:{click_context:s},content:g}),l.next=13,e.importConnectorAsset(c);case 13:f=l.sent,b.sendEvent(r,w.a.types.job,w.a.subTypes.imported,{source:{click_context:s},content:g}),l.next=24;break;case 17:l.prev=17,l.t0=l.catch(9),x=C.b,l.t0&&"string"==typeof l.t0&&(l.t0.includes(C.e)&&(x=C.j),l.t0.includes(C.l)&&(x=C.c)),h={code:x},m={connectorType:c.connectorType},Object(F.a)(b,r,d,n.translations,h,m);case 24:return k=a.updateJob({jobId:o,assetForOperation:f}),l.abrupt("return",k);case 26:case"end":return l.stop()}}),_callee12,null,[[9,17]])})));return function(e){return t.apply(this,arguments)}}()));case 17:return c=o.sent,o.abrupt("return",c);case 19:case"end":return o.stop()}}),_callee13)})));return function(e,r){return t.apply(this,arguments)}}(),this.importConnectorAsset=function(){var e=d()(l.a.mark((function _callee14(e){var t,r,n,s,a,o;return l.a.wrap((function _callee14$(u){for(;;)switch(u.prev=u.next){case 0:return u.next=2,x.providers["storage-connectors"]();case 2:return t=u.sent,u.next=5,t.importFiles(e,{showError:!1});case 5:if(r=u.sent,n=c()(r,1),!(s=n[0]).importedAsset||!s.origAsset){u.next=11;break}return a=s.importedAsset,o=s.origAsset,u.abrupt("return",i()({importedAsset:a,origAsset:o,asset_uri:a.uri},a));case 11:return u.abrupt("return",s);case 12:case"end":return u.stop()}}),_callee14)})));return function(t){return e.apply(this,arguments)}}()}var e,t,r,n,a,o,u,p,f,v,T,L,M;return g()(LifecycleBootstrap,[{key:"getJobs",value:(M=d()(l.a.mark((function _callee15(e,t){var r,n,s,a,c,o,u,p,d,f,b,v,g,x,h,m,k,y,w,_=arguments;return l.a.wrap((function _callee15$(l){for(;;)switch(l.prev=l.next){case 0:return r=_.length>2&&void 0!==_[2]?_[2]:{},l.next=3,Object(O.d)(e);case 3:if(n=l.sent,s=n.context,a=t.selectedAssets,c=t.fileObjects,o=t.originalLength,u=r.props,p=void 0===u?{}:u,d=r.neverShowProgress,f=p.focusOnCreate,b=[],v=c.length?c.length:a.length,g=r&&r.context===A.a,x=g&&v<o&&o>1,h=1===v,m=Object(O.e)(r,s),k=!x&&!m&&h,null==f&&(f=k),null==d&&(d=k),y=!r||void 0===r.enableUNCProgressEntry||r.enableUNCProgressEntry,w=i()(i()({},r),{},{props:i()(i()({},p),{},{enableUNCProgressEntry:y,focusOnCreate:f}),neverShowProgress:d}),!c.length){l.next=26;break}return l.next=23,this.createJobsForFileObjects(e,c,w);case 23:b=l.sent,l.next=35;break;case 26:if(!a.some((function(e){return!!e.connectorId}))){l.next=32;break}return l.next=29,this.createJobsForConnectorAssets(e,a,w);case 29:b=l.sent,l.next=35;break;case 32:return l.next=34,this.createJobsForSelectedAssets(e,a,w);case 34:b=l.sent;case 35:return l.abrupt("return",b);case 36:case"end":return l.stop()}}),_callee15,this)}))),function getJobs(e,t){return M.apply(this,arguments)})},{key:"checkForFileTypeSizeError",value:(L=d()(l.a.mark((function _callee16(e,t,r){var n,s,a=this;return l.a.wrap((function _callee16$(c){for(;;)switch(c.prev=c.next){case 0:return n=[],s=[],t.forEach((function(t){a.isSupportedFileSize(t.size,r)&&a.isSupportedFileType(t.name,e)?n.push(t):s.push(t)})),c.abrupt("return",{validAssets:n,invalidAssets:s});case 4:case"end":return c.stop()}}),_callee16)}))),function checkForFileTypeSizeError(e,t,r){return L.apply(this,arguments)})},{key:"getAssets",value:(T=d()(l.a.mark((function _callee17(e){var t,r,n,a,c,o,u,p,d,f,b,v,g,h,m,k,E,C,j,J,I,F,A,S,T,P,D,L,M,N,R,U,$,B,z,H,G,q,Q,V,W,K,Y,Z,X,ee,te,re,ne,se,ae,ce,oe,ie=arguments;return l.a.wrap((function _callee17$(l){for(;;)switch(l.prev=l.next){case 0:return t=ie.length>1&&void 0!==ie[1]?ie[1]:{},l.next=3,Object(O.d)(e);case 3:if(r=l.sent,l.t0=r.clickContext,l.t0){l.next=12;break}if(l.t1=r.getClickContext,!l.t1){l.next=11;break}return l.next=10,r.getClickContext();case 10:l.t1=l.sent;case 11:l.t0=l.t1;case 12:return n=l.t0,a=r.verb,c=r.group,o=r.translations,u=r.getUpsellParams,p=r.supportedFileTypes,d=r.supportedDroppedFileTypes,f=r.allSupportedFileTypes,b=r.getLimitNames,v=t.getAssetsfromSelectionProvider,g=t.targetFormats,h=t.selectionName,m=t.getTooManyFilesMessageId,k=t.getFileSelectionParams,E=new w.b(w.a.workflows.acrobat,e),l.next=18,Object(O.c)(h);case 18:return C=l.sent,j=[],J=[],I=C.rejected||[],F=!1,A=0,S={source:{click_context:n}},Object(O.a)(C)?(j=v&&"function"==typeof v?v(C):C.selectedItems||[],F=!0,A=j.length):(J=C.fileObjects||[],A=J.length),T=j.length?j:J,l.next=29,x.providers["lifecycle-progress"]();case 29:return P=l.sent,l.next=32,this.isEligibleForFreeOp(e);case 32:return D=l.sent,L=T.length+I.length,l.next=36,u();case 36:if(M=l.sent,N=M.remainingOps,l.t2=d&&d().acceptDroppedExtensions,l.t2){l.next=43;break}return l.next=42,p();case 42:l.t2=l.sent.acceptExtensions;case 43:if(R=l.t2,l.t4=k,!l.t4){l.next=49;break}return l.next=48,k();case 48:l.t4=l.sent;case 49:if(l.t3=l.t4,l.t3){l.next=52;break}l.t3={};case 52:if(U=l.t3,$=U.singleSelection,!(L>1)||"organizepdf"===c&&x.auth2.isSignedIn||"combinepdf"===c||!$&&!D&&-1===N){l.next=67;break}return P.deFocusJob(),l.next=58,Object(O.b)(o);case 58:return B=l.sent,z=B.getErrObj("TooManyFiles",m(),{},"conv.err.sum.too.many.files",a),B.showErrToast(z.description),P.sendHostEvent(_.h,z),H=T.concat(I),G=Object(w.c)(H),E.sendErrorEvent(e,z,i()(i()({},S),{},{content:G})),C.clearSelection(),l.abrupt("return",{selectedAssets:[],fileObjects:[]});case 67:if(l.t5=b,!l.t5){l.next=72;break}return l.next=71,b();case 71:l.t5=l.sent;case 72:return q=l.t5,Q=q&&q.size&&q.size[0],l.next=76,this.getMaxFileSize(Q,a);case 76:return V=l.sent,l.next=79,this.checkForFileTypeSizeError(R,T,V);case 79:if(W=l.sent,K=W.validAssets,Y=W.invalidAssets,!(I=[].concat(s()(I),s()(Y))).length){l.next=103;break}return l.next=86,Object(O.b)(o);case 86:if(Z=l.sent,t.allowMultipleJobs||P.deFocusJob(),!x.auth2.isSignedIn||!D||"organizepdf"!==c&&"splitpdf"!==c){l.next=96;break}if(X=I[0],ee={acceptMimeTypes:["application/pdf"],acceptExtensions:["pdf"]},te=f&&f().acceptExtensions,Object(y.B)(ee,X)||!Z.isSupportedFileType(X.name,te)){l.next=96;break}return E.sendEvent(e,w.a.types.upsell,w.a.subTypes.shown,S),Object(y.m)(e),l.abrupt("return",{selectedAssets:[],fileObjects:[]});case 96:re=Z.getFileSizeTypeErrorInfo(c,I,g,R,V),ne=re.errMsgBodyID,se=re.errMsgParams,ae=re.errorCode,ce=Z.getErrObj(ae,ne,se,"conv.err.sum.unsupported.file",a),oe=Object(w.c)(I),E.sendErrorEvent(e,ce,i()(i()({},S),{},{content:oe})),Z.showErrToast(ce.description),P.sendHostEvent(_.h,ce),I.length===L&&C.clearSelection();case 103:return j=F?K:j,J=F?J:K,l.abrupt("return",{selectedAssets:j,fileObjects:J,originalLength:A});case 106:case"end":return l.stop()}}),_callee17,this)}))),function getAssets(e){return T.apply(this,arguments)})},{key:"createJobsForFileObjects",value:(v=d()(l.a.mark((function _callee20(e,t){var r,n,s,a,c,o,u,p,f,b,v,g,h,m,y=this,_=arguments;return l.a.wrap((function _callee20$(C){for(;;)switch(C.prev=C.next){case 0:return r=_.length>2&&void 0!==_[2]?_[2]:{},n=_.length>3&&void 0!==_[3]?_[3]:"",C.next=4,Object(O.d)(e);case 4:if(s=C.sent,a=s.translations,C.t0=s.clickContext,C.t0){C.next=14;break}if(C.t1=s.getClickContext,!C.t1){C.next=13;break}return C.next=12,s.getClickContext();case 12:C.t1=C.sent;case 13:C.t0=C.t1;case 14:return c=C.t0,o=s.verb,u=s.group,p=new w.b(w.a.workflows.acrobat,e),C.next=19,x.providers.upload2();case 19:return f=C.sent,C.next=22,x.providers["lifecycle-progress"]();case 22:return b=C.sent,v=n&&b.getJobById(n),n&&b.updateJob({jobId:n,status:E.a.UPLOAD_START}),g=Object(w.c)(t),h={click_context:c},v&&!v.oneTimeAnalyticsEmitted&&t.length&&p.sendEvent(e,w.a.types.job,w.a.subTypes.multiFileUploading,{source:h,content:g,verb:{name:o}}),C.next=30,Promise.all(t.map(function(){var t=d()(l.a.mark((function _callee19(t){var s,c,x,m;return l.a.wrap((function _callee19$(_){for(;;)switch(_.prev=_.next){case 0:return s=Object(w.c)([t]),c={source:h,content:s},p.sendEvent(e,w.a.types.job,w.a.subTypes.uploading,c),x=Date.now(),_.next=6,f.upload(t,i()(i()({details:{source_name:"source",target_format:k(o)},verb:o,group:u},r),{},{parentJobId:n}));case 6:return m=_.sent,n&&(v&&v.status)!==E.a.UPLOADING&&b.updateJob({jobId:n,status:E.a.UPLOADING}),m.assetUploadPromise.then((function(t){if(t){var r=Date.now(),s={name:o,upload_duration:r-x};v&&!v.oneTimeAnalyticsEmitted&&(v=b.updateJob({jobId:n,oneTimeAnalyticsEmitted:!0}),p.sendEvent(e,w.a.types.job,w.a.subTypes.multiFileUploaded,{source:h,content:g,verb:{name:o}})),p.sendEvent(e,w.a.types.job,w.a.subTypes.uploaded,{source:c.source,content:c.content,verb:s}),y.processChildJob(m)}})).catch(function(){var t=d()(l.a.mark((function _callee18(t){var r,n,s,i,u;return l.a.wrap((function _callee18$(l){for(;;)switch(l.prev=l.next){case 0:if(r=Date.now(),n={name:o,upload_duration:r-x},s=t&&t.details&&t.details.content&&t.details.content.error||{code:"UploadError"},p.sendErrorEvent(e,s,{source:c.source,content:c.content,verb:n}),!s){l.next=13;break}return l.next=8,Object(O.b)(a);case 8:return i=l.sent,l.next=11,i.getErrorInfo(m,s);case 11:u=l.sent,i.showErrToast(u.message);case 13:y.processChildJob(m);case 14:case"end":return l.stop()}}),_callee18)})));return function(e){return t.apply(this,arguments)}}()),_.abrupt("return",m);case 10:case"end":return _.stop()}}),_callee19)})));return function(e){return t.apply(this,arguments)}}()));case 30:return m=C.sent,C.abrupt("return",m);case 32:case"end":return C.stop()}}),_callee20)}))),function createJobsForFileObjects(e,t){return v.apply(this,arguments)})},{key:"createJobsForIntegrationAssets",value:(f=d()(l.a.mark((function _callee21(e,t){var r,n,s,a=arguments;return l.a.wrap((function _callee21$(c){for(;;)switch(c.prev=c.next){case 0:return r=a.length>2&&void 0!==a[2]?a[2]:{},n=a.length>3&&void 0!==a[3]?a[3]:"",s=t.map((function(e){return i()(i()({},e),e.integrationCloudFile)})),c.abrupt("return",this.createJobsForSelectedAssets(e,s,r,n));case 4:case"end":return c.stop()}}),_callee21,this)}))),function createJobsForIntegrationAssets(e,t){return f.apply(this,arguments)})},{key:"createJobsForConnectorAssets",value:(p=d()(l.a.mark((function _callee22(e,t){var r,n,s,a=arguments;return l.a.wrap((function _callee22$(c){for(;;)switch(c.prev=c.next){case 0:return r=a.length>2&&void 0!==a[2]?a[2]:{},n=a.length>3&&void 0!==a[3]?a[3]:"",c.next=4,this.createJobsForSelectedAssets(e,t,r,n);case 4:return s=c.sent,c.abrupt("return",this.importConnectorAssets(s,e));case 6:case"end":return c.stop()}}),_callee22,this)}))),function createJobsForConnectorAssets(e,t){return p.apply(this,arguments)})},{key:"createJobsForSelectedAssets",value:(u=d()(l.a.mark((function _callee23(e,t){var r,n,s,a=this,c=arguments;return l.a.wrap((function _callee23$(o){for(;;)switch(o.prev=o.next){case 0:return r=c.length>2&&void 0!==c[2]?c[2]:{},n=c.length>3&&void 0!==c[3]?c[3]:"",o.next=4,Promise.all(t.map((function(t){return a.createJobForAsset(t,e,r,n)})));case 4:return s=o.sent,o.abrupt("return",s);case 6:case"end":return o.stop()}}),_callee23)}))),function createJobsForSelectedAssets(e,t){return u.apply(this,arguments)})},{key:"createJobForAsset",value:(o=d()(l.a.mark((function _callee24(e,t){var r,n,s,a,c,o,u,p,d,f,b,v,g=arguments;return l.a.wrap((function _callee24$(l){for(;;)switch(l.prev=l.next){case 0:return r=g.length>2&&void 0!==g[2]?g[2]:{},n=g.length>3&&void 0!==g[3]?g[3]:"",l.next=4,x.providers["lifecycle-progress"]();case 4:return s=l.sent,l.next=7,Object(O.d)(t);case 7:return a=l.sent,c=a.verb,o=a.group,u=a.microgroup,p=r.initialStage,d=void 0===p?h.a.IN_PROGRESS:p,b=!n,v=i()({name:e.name,size:e.size,title:e.name,stage:d,status:E.a.DONE,assetForOperation:e,group:o,microgroup:u,syncToStorage:b,verb:c},r),n?(e.integrationCloudFile&&s.updateJob({jobId:n,status:E.a.UPLOAD_START}),f=s.addChildJob(n,v)):f=s.addJob(i()(i()({},v),{},{status:E.a.PROCESSING})),l.abrupt("return",f);case 14:case"end":return l.stop()}}),_callee24)}))),function createJobForAsset(e,t){return o.apply(this,arguments)})},{key:"reportErrorsToLifecycleProgress",value:(a=d()(l.a.mark((function _callee25(e,t,r){var n,s,a,c,o,i,u,p,d,f,b,v,g,h,m,k,y,E=arguments;return l.a.wrap((function _callee25$(l){for(;;)switch(l.prev=l.next){case 0:return n=E.length>3&&void 0!==E[3]?E[3]:{},s=new w.b(w.a.workflows.acrobat,e),l.next=4,Object(O.d)(e);case 4:if(a=l.sent,l.t0=a.clickContext,l.t0){l.next=13;break}if(l.t1=a.getClickContext,!l.t1){l.next=12;break}return l.next=11,a.getClickContext();case 11:l.t1=l.sent;case 12:l.t0=l.t1;case 13:return c=l.t0,o=a.verb,i=a.translations,u=r.processingStartTime,p=r.processingEndTime,d=Object(w.d)(p-u),f={},u&&p&&(f={name:o,conversion_duration:d}),l.next=21,Object(P.a)(r);case 21:return b=l.sent,v=Object(w.c)([b])||{},t.code===C.n&&n.pageCount?v.page_count=Object(w.g)(n.pageCount):t.code===C.h&&n.opCount?v.page_count=Object(w.g)(n.opCount):n&&n.connectorType&&(v.source=n.connectorType),g={source:{click_context:c},verb:f,content:v},s.sendErrorEvent(e,t,g),l.next=28,x.providers["lifecycle-progress"]();case 28:return h=l.sent,m=r.jobId,l.next=32,Object(O.b)(i);case 32:return k=l.sent,l.next=35,k.getErrorInfo(r,t,n);case 35:y=l.sent,h.reportError(m,y),h.sendHostEvent(_.k,{code:y.code,title:y.summary||y.title,description:y.message,verb:o});case 38:case"end":return l.stop()}}),_callee25)}))),function reportErrorsToLifecycleProgress(e,t,r){return a.apply(this,arguments)})},{key:"setCookieUponJobsComplete",value:(n=d()(l.a.mark((function _callee26(e,t,r){var n=this;return l.a.wrap((function _callee26$(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,this.isEligibleForFreeOp(e.id);case 2:s.sent&&t.forEach((function(t){t.then((function(){return n.decrementLimitsCookiesForFreeUser(e,r)})).catch((function(){}))}));case 4:case"end":return s.stop()}}),_callee26,this)}))),function setCookieUponJobsComplete(e,t,r){return n.apply(this,arguments)})},{key:"monitorAndReportJobStatus",value:(r=d()(l.a.mark((function _callee27(e,t){var r,n,s,a,c,o,u=this,p=arguments;return l.a.wrap((function _callee27$(l){for(;;)switch(l.prev=l.next){case 0:return r=p.length>2&&void 0!==p[2]?p[2]:null,l.next=3,Object(O.d)(e);case 3:if(n=l.sent,l.t0=n.clickContext,l.t0){l.next=12;break}if(l.t1=n.getClickContext,!l.t1){l.next=11;break}return l.next=10,n.getClickContext();case 10:l.t1=l.sent;case 11:l.t0=l.t1;case 12:return s=l.t0,a=n.verb,l.next=16,x.providers["lifecycle-progress"]();case 16:c=l.sent,o=t.jobId,t.redirectConversion?c.sendHostEvent(_.j,t):t.fetchStatusPromise.then((function(){var t,n,u,l,p=new w.b(w.a.workflows.acrobat,e),d=c.getJobById(o);if(d.prevStatus!==E.a.CANCELLED){var f=d.processingStartTime,b=Date.now(),v=Object(w.d)(b-f),g={name:a,conversion_duration:v};if(e===y.b){var x,h,m,k=(null===(x=d.assetForOperation)||void 0===x||null===(h=x.inputFile)||void 0===h?void 0:h.size)||0,O=(null===(m=d.assetMetadata)||void 0===m?void 0:m.size)||0,C=0;0!==k&&(C=Math.round(100*(k-O)/k)),g.output_value=C,g.settings_context=d.compressQuality||"medium"}var j={source:{click_context:s},verb:g,content:i()(i()({},r),{},{source:(null===(t=d.assetForOperation)||void 0===t||null===(n=t.origAsset)||void 0===n?void 0:n.connectorType)||(null===(u=d.inputAsset)||void 0===u||null===(l=u.origAsset)||void 0===l?void 0:l.connectorType)})};p.sendEvent(e,w.a.types.job,w.a.subTypes.processed,j),c.sendHostEvent(_.j,d),c.updateJob({jobId:o,processingEndTime:b})}})).catch((function(t){if(!c.getJobById(o).processingEndTime){var r=Date.now(),n=c.updateJob({jobId:o,processingEndTime:r});u.reportErrorsToLifecycleProgress(e,t,n)}}));case 19:case"end":return l.stop()}}),_callee27)}))),function monitorAndReportJobStatus(e,t){return r.apply(this,arguments)})},{key:"getChildJobs",value:(t=d()(l.a.mark((function _callee28(e,t,r){var n,a,c,o,i,u,p,d,f,b,v,g,h,k,E,J,I,F,A,S,T,P,D,L,M,N,R,U=arguments;return l.a.wrap((function _callee28$(l){for(;;)switch(l.prev=l.next){case 0:return n=U.length>3&&void 0!==U[3]?U[3]:{},a=new w.b(w.a.workflows.acrobat,e),c=r.selectedAssets,o=r.fileObjects,i=o.length?o:c,l.next=6,x.providers["lifecycle-progress"]();case 6:return u=l.sent,p=u.getJobById(t),d=p.childJobIds.length,f="combinepdf"===n.group?j.b:j.m,l.next=12,Object(y.s)(f);case 12:if(b=l.sent,v=b-d,!(i.length>v)){l.next=47;break}return l.next=17,Object(O.d)(e);case 17:return g=l.sent,h=g.verb,k=g.translations,l.next=22,Object(O.b)(k);case 22:return E=l.sent,J=E.getErrorInfo,I=E.showErrToast,F=i.slice(v),i=i.slice(0,v),A={code:C.g},S=Object(w.c)(i),a.sendErrorEvent(e,A,{verb:{name:h},content:S}),T={rejected:F},l.next=33,J(p,A,T);case 33:return P=l.sent,D=P.message,L=(L=void 0===D?"":D).replace("{documentsLimit}",b),p.group===m.e&&(L=L.replace("{name}",F[0].name).replace("{number}",F.length)),l.next=40,I(L,{timeout:0});case 40:if(M=l.sent,A.description=L,A.verb=e,u.sendHostEvent(_.k,A),u.updateJob({jobId:p.jobId,toasts:[].concat(s()(p.toasts||[]),[M])}),0!==v){l.next=47;break}return l.abrupt("return",[]);case 47:if(N=[e,i,n,t],!o.length){l.next=54;break}return l.next=51,this.createJobsForFileObjects.apply(this,N);case 51:R=l.sent,l.next=69;break;case 54:if(!c.some((function(e){return!!e.connectorId}))){l.next=60;break}return l.next=57,this.createJobsForConnectorAssets.apply(this,N);case 57:R=l.sent,l.next=69;break;case 60:if(!c.some((function(e){return!!e.integrationCloudFile}))){l.next=66;break}return l.next=63,this.createJobsForIntegrationAssets.apply(this,N);case 63:R=l.sent,l.next=69;break;case 66:return l.next=68,this.createJobsForSelectedAssets.apply(this,N);case 68:R=l.sent;case 69:return l.abrupt("return",R);case 70:case"end":return l.stop()}}),_callee28,this)}))),function getChildJobs(e,r,n){return t.apply(this,arguments)})},{key:"isConversionAllowed",value:(e=d()(l.a.mark((function _callee29(e,t){var r,n,s;return l.a.wrap((function _callee29$(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,Object(O.d)(e);case 2:return r=a.sent,n=r.getLimitNames,a.next=6,n();case 6:return s=a.sent,a.abrupt("return",Object(J.a)(s,t));case 8:case"end":return a.stop()}}),_callee29)}))),function isConversionAllowed(t,r){return e.apply(this,arguments)})}]),LifecycleBootstrap}();L.getInstance=x.providerUtil.getSingletonFunction(L);t.default=L},qdzF:function(e,t,r){"use strict";r.d(t,"b",(function(){return h})),r.d(t,"a",(function(){return m})),r.d(t,"c",(function(){return _}));var n=r("prSB"),s=r.n(n),a=r("g4DW"),c=r.n(a),o=r("jQsN"),i=r.n(o),u=r("butC"),l=r.n(u),p=r("+lnk"),d=r("hNEK"),f=r("qDLo"),b=r("pukD"),v=r("3v9k"),g=r("OHuI"),x=function(){var e=l()(i.a.mark((function _callee(e){var t;return i.a.wrap((function _callee$(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,p.providers.selection();case 2:return t=r.sent,r.abrupt("return",t.registerSelection(e));case 4:case"end":return r.stop()}}),_callee)})));return function getSelectionProvider(t){return e.apply(this,arguments)}}(),h=function(){var e=l()(i.a.mark((function _callee2(e,t,r){var n,s,a,c,o,u,l,f,b,g,h,m,k,y;return i.a.wrap((function _callee2$(i){for(;;)switch(i.prev=i.next){case 0:return n=d.a.LIFECYCLE_CONTEXT,i.next=3,p.discovery.callBootstrapMethod(e,"getFileSelectionParams",{context:n});case 3:return s=i.sent,i.next=6,p.discovery.callBootstrapMethod(e,"getUpsellParams",{context:n});case 6:if(a=i.sent,a.shouldUpsell||!s){i.next=36;break}return i.next=11,x(t);case 11:return o=i.sent,u=s.singleSelection||!1,l=s.dialogTitle||"",f=s.closeOnUpload||!1,b=s.acceptMimeTypes||[],g=s.acceptDroppedMimeTypes||[],h=s.onCancel,m=!!(null==s||null===(c=s.acceptConnectors)||void 0===c?void 0:c.length),i.prev=19,i.next=22,o.showFilePicker({initialTab:"my-computer",persistence:"transient",disableUploads:!0,dialogTitle:l,closeOnUpload:f,showErrors:!0,selectionName:t,singleSelection:u,acceptMimeTypes:b,acceptDroppedMimeTypes:g,onCancel:h,showStorageConnectors:m});case 22:if(!r){i.next=26;break}p.discovery.callBootstrapMethod(e,"executeAction",{context:n,executeCallback:function executeCallback(){}}),i.next=27;break;case 26:return i.abrupt("return",{isCanceled:!1});case 27:i.next=32;break;case 29:return i.prev=29,i.t0=i.catch(19),i.abrupt("return",{isCanceled:!0});case 32:k=0===o.selectedItems.length?o.fileObjects:o.selectedItems,y=Object(v.c)(k),new v.b(v.a.workflows.acrobat,e).sendEvent(e,v.a.types.filesSelected,null,{content:y});case 36:case"end":return i.stop()}}),_callee2,null,[[19,29]])})));return function displayFilePicker(t,r,n){return e.apply(this,arguments)}}(),m=function(){var e=l()(i.a.mark((function _callee3(e){var t,r,n,s;return i.a.wrap((function _callee3$(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,p.providers["lifecycle-progress"]();case 2:if(t=a.sent,r=t.getJobById(e),null==(n=r.childJobIds)?void 0:n.length){a.next=7;break}return a.abrupt("return");case 7:s=n.map((function(e){return t.getJobById(e)})).some((function(e){return!Object.keys(e).length||e.status===f.a.DONE})),n.map((function(e){return t.getJobById(e)})).every((function(e){return!Object.keys(e).length||e.stage===b.a.ERROR}))?(r.onModalClose&&r.onModalClose(),t.updateJob({jobId:e,status:f.a.ERROR,stage:b.a.DROPZONE,navConfig:{forceReset:!0}})):s&&t.updateJob({jobId:e,status:f.a.ASSETS_VERIFIED});case 10:case"end":return a.stop()}}),_callee3)})));return function checkChildrenStatusAndUpdateParent(t){return e.apply(this,arguments)}}(),k=function(){var e=l()(i.a.mark((function _callee4(e){return i.a.wrap((function _callee4$(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,p.discovery.loadDropinClass("lifecycle-error-state");case 2:t.sent.showToast(e,"error");case 4:case"end":return t.stop()}}),_callee4)})));return function showErrToast(t){return e.apply(this,arguments)}}(),y=function(){var e=l()(i.a.mark((function _callee5(e,t,r){var n,s,a,c,o,u,l;return i.a.wrap((function _callee5$(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,p.providers["lifecycle-progress"]();case 2:return n=i.sent,i.next=5,p.discovery.callBootstrapMethod(r,"getMessage","conv.err.body.unknown");case 5:return s=i.sent,a={code:"UnknownError",message:s},c=e&&e.details&&e.details.content&&e.details.content.error||a,k(c.message),o=new v.b(v.a.workflows.acrobat,r),i.next=12,Object(g.a)(t);case 12:u=i.sent,l=Object(v.c)([u])||{},o.sendErrorEvent(r,c,{verb:{name:t.verb},content:l}),n.cancelJob(t.jobId),n.removeJob(t.jobId);case 17:case"end":return i.stop()}}),_callee5)})));return function catchChildProcessingError(t,r,n){return e.apply(this,arguments)}}(),w=function(){var e=l()(i.a.mark((function _callee7(e,t){var r,n;return i.a.wrap((function _callee7$(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.providers["lifecycle-progress"]();case 2:return r=e.sent,n=t.map(function(){var e=l()(i.a.mark((function _callee6(e){var t,n,s,a;return i.a.wrap((function _callee6$(c){for(;;)switch(c.prev=c.next){case 0:return c.prev=0,t=e.assetUploadPromise,n=e.assetForOperation,c.next=4,t;case 4:if(c.t0=c.sent,c.t0){c.next=7;break}c.t0=n;case 7:s=c.t0,a={jobId:e.jobId,status:s?f.a.DONE:f.a.ERROR,assetForOperation:s},r.updateJob(a),c.next=15;break;case 12:c.prev=12,c.t1=c.catch(0),y(c.t1);case 15:case"end":return c.stop()}}),_callee6,null,[[0,12]])})));return function(t){return e.apply(this,arguments)}}()),e.next=6,Promise.all(n);case 6:return e.next=8,m(t[0].parentJobId);case 8:case"end":return e.stop()}}),_callee7)})));return function processChildJobs(t,r){return e.apply(this,arguments)}}(),_=function(){var e=l()(i.a.mark((function _callee8(e,t,r){var n,a,o,u,l,d,b,v,g,h,m;return i.a.wrap((function _callee8$(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,p.providers["lifecycle-bootstrap"]();case 2:return n=i.sent,i.next=5,p.providers["lifecycle-progress"]();case 5:return a=i.sent,i.next=8,x(r);case 8:return o=i.sent,i.t0=c.a,i.t1={},i.t2=f.a.PROCESSING,i.next=14,p.discovery.callBootstrapMethod(e,"getMessage","lifecycle.status.compressing.heading");case 14:return i.t3=i.sent,i.t4=[i.t3],i.t5=(0,i.t0)(i.t1,i.t2,i.t4),i.t6=c.a,i.t7={},i.t8=f.a.PROCESSING,i.next=22,p.discovery.callBootstrapMethod(e,"getMessage","lifecycle.status.compressing.description");case 22:return i.t9=i.sent,i.next=25,p.discovery.callBootstrapMethod(e,"getMessage","lifecycle.status.compressing.nearly.done.description");case 25:return i.t10=i.sent,i.t11=[i.t9,i.t10],i.t12=(0,i.t6)(i.t7,i.t8,i.t11),u={neverShowProgress:!0,enableUNCProgressEntry:!0,lifecycleStatusHeaderMessages:i.t5,lifecycleStatusDescriptionMessages:i.t12},l={selectionName:r,allowMultipleJobs:!0},d=[],i.next=33,n.getAssets(e,l);case 33:if(b=i.sent,v=b.selectedAssets,g=b.fileObjects,h=v.length||g.length,m=v.some((function(e){return!!e.connectorId})),o.clearSelection(),!h){i.next=45;break}return m&&a.updateJob({jobId:t,status:f.a.UPLOAD_START}),i.next=42,n.getChildJobs(e,t,b,s()(s()({},u),{},{syncToStorage:!0,neverShowProgress:!1,props:{focusOnCreate:!1,enableUNCProgressEntry:!0},status:f.a.PROCESSING}));case 42:return d=i.sent,i.next=45,w(e,d);case 45:case"end":return i.stop()}}),_callee8)})));return function processNewAssets(t,r,n){return e.apply(this,arguments)}}()}}]);
