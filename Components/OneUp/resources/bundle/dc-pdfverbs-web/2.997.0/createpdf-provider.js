(window["webpackJsonp-pdfverbs-web"]=window["webpackJsonp-pdfverbs-web"]||[]).push([[19],{aMMM:function(e,r,t){"use strict";t.r(r);var n=t("jQsN"),a=t.n(n),s=t("butC"),c=t.n(s),i=t("2bPg"),o=t.n(i),u=t("+lnk"),p=t("nOB5"),l=t("RZ3+"),d=t("ip5t"),f=t("gmKw"),b=function CreatePdfProvider(){var e=this;o()(this,CreatePdfProvider),this.ready=c()(a.a.mark((function _callee(){var r;return a.a.wrap((function _callee$(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,u.providers.dcapi();case 2:return r=t.sent,e.dcapi=r.getDcapi(),t.next=6,u.providers["lifecycle-progress"]();case 6:return e.lifecycleProgress=t.sent,t.next=9,u.providers.asset2();case 9:return e.assetProvider=t.sent,t.abrupt("return",e);case 11:case"end":return t.stop()}}),_callee)}))),this.convertToPdf=function(){var r=c()(a.a.mark((function _callee2(r,t){var n,s,c,i,o,b,v,_,x,g=arguments;return a.a.wrap((function _callee2$(a){for(;;)switch(a.prev=a.next){case 0:if(n=g.length>2&&void 0!==g[2]?g[2]:"createpdf",s=e.lifecycleProgress.getJobById(r),!(c=s.assetForOperation).externalAssetPromise){a.next=8;break}return a.next=6,c.externalAssetPromise;case 6:i=a.sent,c=i.asset;case 8:return o={"x-request-id":e.dcapi.getUuid("cp")},a.next=11,Object(d.H)();case 11:if(!a.sent){a.next=18;break}return o["x-user-action-name"]=n,a.next=16,Object(d.x)("dcweb/mock_data");case 16:(b=a.sent)&&b.mock_limit_verb_expiry&&(o["X-Verb-Expiry"]=b.mock_limit_verb_expiry);case 18:if(v={asset_uri:e.assetProvider.uriFromAsset(c),name:c.name.replace(/\.[^.]*$/,".pdf"),persistence:t},"permanent"!==t||!Object(f.a)(s)){a.next=27;break}return a.next=22,u.providers.asset2();case 22:return _=a.sent,a.next=25,_.getFolderRoot();case 25:x=a.sent,v.parent_uri=x;case 27:return a.abrupt("return",e.dcapi.call(l.a,{accept:p.a.new_asset_job_v1,content:v,content_type:p.a.createpdf_parameters,headers:o}).then((function(n){return e.lifecycleProgress.updateJob({jobId:r,acrobatResponse:n}),e.lifecycleProgress.startFetchStatus(r,{persistence:t})})));case 28:case"end":return a.stop()}}),_callee2)})));return function(e,t){return r.apply(this,arguments)}}()};b.getInstance=u.providerUtil.getSingletonFunction(b);r.default=b},gmKw:function(e,r,t){"use strict";var n=t("jQsN"),a=t.n(n),s=t("butC"),c=t.n(s),i=t("+lnk"),o=function(){var e=c()(a.a.mark((function _callee(e){var r,t,n,s,c;return a.a.wrap((function _callee$(a){for(;;)switch(a.prev=a.next){case 0:if(r=e.assetForOperation,t=e.childJobIds,!r||!r.parcel_id||r.is_original_shared){a.next=3;break}return a.abrupt("return",!0);case 3:return a.next=5,i.providers["lifecycle-progress"]();case 5:return n=a.sent,s=t.map((function(e){return n.getJobById(e)})),c=s.find((function(e){var r=e.assetForOperation;return r&&r.parcel_id&&!r.is_original_shared})),a.abrupt("return",void 0!==c);case 9:case"end":return a.stop()}}),_callee)})));return function isOldShare(r){return e.apply(this,arguments)}}();r.a=o}}]);
