window.adobe_dc_sdk=function(e){var r={};function __webpack_require__(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,__webpack_require__),n.l=!0,n.exports}return __webpack_require__.m=e,__webpack_require__.c=r,__webpack_require__.d=function(e,r,t){__webpack_require__.o(e,r)||Object.defineProperty(e,r,{enumerable:!0,get:t})},__webpack_require__.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},__webpack_require__.t=function(e,r){if(1&r&&(e=__webpack_require__(e)),8&r)return e;if(4&r&&"object"==typeof e&&e&&e.__esModule)return e;var t=Object.create(null);if(__webpack_require__.r(t),Object.defineProperty(t,"default",{enumerable:!0,value:e}),2&r&&"string"!=typeof e)for(var n in e)__webpack_require__.d(t,n,function(r){return e[r]}.bind(null,n));return t},__webpack_require__.n=function(e){var r=e&&e.__esModule?function getDefault(){return e.default}:function getModuleExports(){return e};return __webpack_require__.d(r,"a",r),r},__webpack_require__.o=function(e,r){return Object.prototype.hasOwnProperty.call(e,r)},__webpack_require__.p="",__webpack_require__(__webpack_require__.s="G48U")}({"2bPg":function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=function _classCallCheck(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}},G48U:function(e,r,t){"use strict";t.r(r);var n=t("2bPg"),o=t.n(n),i={SET_ITEM:"setItem",GET_ITEM:"getItem",REMOVE_ITEM:"removeItem"},a={LOCAL_STORAGE:"localStorage",SESSION_STORAGE:"sessionStorage"},s="SUCCESS",u="ERROR",_=function SharedStorage(){var e=this;o()(this,SharedStorage),this.messageListener=function(r){if(e.isAllowedOrigin(r.origin)){var t;try{t=JSON.parse(r.data)}catch(e){return void console.warn("Unable to parse message",e)}if(t.id)if(t.payload){if("SHARED_STORAGE_REQUEST"!==t.type)return console.warn("Unknown message type ",r.type),void e.sendError(r,t.id,"unexpected message type");var n=t.payload,o=void 0===n?{}:n;if(!e.isSupportedMethod(o.method))return console.warn("Unsupported method",o.method),void e.sendError(r,t.id,"Unsupported method");if(!o.param)return console.warn("Missing params"),void e.sendError(r,t.id,"Missing params");try{var i=e.persistToLocalStorage(o);e.sendResult(r,t.id,i)}catch(n){e.sendError(r,t.id,n.message)}}else console.warn("no payload in the message");else console.warn("unknown request id")}else console.warn("unknown origin",r.origin)},this.persistToLocalStorage=function(r){var t=r||{},n=t.method,o=t.storage,s=void 0===o?a.LOCAL_STORAGE:o,u=t.param,_=void 0===u?{}:u,c=_.key;if(!e.isSupportedStorage(s))throw new Error("Unsupported storage");var d=window[s];switch(n){case i.SET_ITEM:return d.setItem(c,_.value);case i.GET_ITEM:return d.getItem(c);case i.REMOVE_ITEM:return d.removeItem(c);default:return console.warn("Unsupported method"),null}},this.sendResult=function(e,r,t){var n={type:"SHARED_STORAGE_RESPONSE",id:r,payload:{status:s,value:t}};e.source.postMessage(JSON.stringify(n),e.origin)},this.sendError=function(e,r,t){var n={type:"SHARED_STORAGE_RESPONSE",id:r,payload:{status:u,value:t}};e.source.postMessage(JSON.stringify(n),e.origin)},this.getAllowedOrigins=function(){var r=document.querySelector('meta[name="adotcom_uri"]'),t=r&&r.getAttribute("content");t&&(e.allowedOrigins=t.split(",").map((function(e){return e.trim()})))},this.isSupportedMethod=function(e){return-1!==Object.keys(i).map((function(e){return i[e]})).indexOf(e)},this.isSupportedStorage=function(e){return-1!==Object.keys(a).map((function(e){return a[e]})).indexOf(e)},this.isAllowedOrigin=function(r){if(-1!==e.allowedOrigins.indexOf(r))return!0;var t=r&&r.replace(/:443/,"");if(-1!==e.allowedOrigins.indexOf(t))return!0;try{var n=new URL(r);if(n.port&&443!==n.port&&80!==n.port)return!0}catch(e){return!1}return!1},this.allowedOrigins=[],this.getAllowedOrigins(),window.addEventListener("message",this.messageListener)};r.default=new _}});
